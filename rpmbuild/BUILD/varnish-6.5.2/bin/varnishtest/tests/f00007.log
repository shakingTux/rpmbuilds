**** dT   0.000
*    top  TEST ./tests/f00007.vtc starting
**** top  extmacro def pwd=/root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest
**** top  extmacro def localhost=127.0.0.1
**** top  extmacro def bad_backend=127.0.0.1 35619
**** top  extmacro def bad_ip=192.0.2.255
**** top  extmacro def topbuild=/root/rpmbuild/BUILD/varnish-6.5.2
**** top  macro def testdir=/root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest/./tests
**** top  macro def tmpdir=/tmp/vtc.66616.46e3e4e8
**   top  === varnishtest "H/2 content length smuggling attack"
*    top  VTEST H/2 content length smuggling attack
**   top  === server s1 {
**   s1   Starting server
**** s1   macro def s1_addr=127.0.0.1
**** s1   macro def s1_port=45409
**** s1   macro def s1_sock=127.0.0.1 45409
*    s1   Listen on 127.0.0.1 45409
**   top  === server s2 {
**   s2   Starting server
**** s2   macro def s2_addr=127.0.0.1
**** s2   macro def s2_port=40013
**** s2   macro def s2_sock=127.0.0.1 40013
*    s2   Listen on 127.0.0.1 40013
**   top  === server s3 {
**   s1   Started on 127.0.0.1 45409 (1 iterations)
**   s3   Starting server
**** s3   macro def s3_addr=127.0.0.1
**** s3   macro def s3_port=38241
**** s3   macro def s3_sock=127.0.0.1 38241
*    s3   Listen on 127.0.0.1 38241
**** dT   0.001
**   top  === server s4 {
**   s4   Starting server
**** s4   macro def s4_addr=127.0.0.1
**** s4   macro def s4_port=46621
**** s4   macro def s4_sock=127.0.0.1 46621
*    s4   Listen on 127.0.0.1 46621
**   s3   Started on 127.0.0.1 38241 (1 iterations)
**   top  === varnish v1 -vcl+backend {
**   s4   Started on 127.0.0.1 46621 (1 iterations)
**   s2   Started on 127.0.0.1 40013 (1 iterations)
**** dT   0.004
**   v1   Launch
***  v1   CMD: cd ${pwd} && exec varnishd  -d -n /tmp/vtc.66616.46e3e4e8/v1 -l 2m -p auto_restart=off -p syslog_cli_traffic=off -p sigsegv_handler=on -p thread_pool_min=10 -p debug=+vtc_mode -p vsl_mask=+Debug -a '127.0.0.1:0' -M '127.0.0.1 44657' -P /tmp/vtc.66616.46e3e4e8/v1/varnishd.pid -p vmod_path=/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_blob/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_cookie/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_std/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_vtc/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_unix/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_proxy/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_purge/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_directors/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_debug/.libs 
***  v1   CMD: cd /root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest && exec varnishd  -d -n /tmp/vtc.66616.46e3e4e8/v1 -l 2m -p auto_restart=off -p syslog_cli_traffic=off -p sigsegv_handler=on -p thread_pool_min=10 -p debug=+vtc_mode -p vsl_mask=+Debug -a '127.0.0.1:0' -M '127.0.0.1 44657' -P /tmp/vtc.66616.46e3e4e8/v1/varnishd.pid -p vmod_path=/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_blob/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_cookie/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_std/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_vtc/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_unix/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_proxy/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_purge/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_directors/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_debug/.libs 
***  v1   PID: 66638
**** v1   macro def v1_pid=66638
**** v1   macro def v1_name=/tmp/vtc.66616.46e3e4e8/v1
**** dT   0.013
***  v1   debug|Debug: Version: varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
***  v1   debug|Debug: Platform: Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
***  v1   debug|200 321     
***  v1   debug|-----------------------------
***  v1   debug|Varnish Cache CLI 1.0
***  v1   debug|-----------------------------
***  v1   debug|Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
***  v1   debug|varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
***  v1   debug|
***  v1   debug|Type 'help' for command list.
***  v1   debug|Type 'quit' to close CLI session.
***  v1   debug|Type 'start' to launch worker process.
***  v1   debug|
**** dT   0.111
**** v1   CLIPOLL 1 0x1 0x0
***  v1   CLI connection fd = 13
***  v1   CLI RX  107
**** v1   CLI RX|bvxjdgojsuegzusfdzabdctqyfjtgxaj
**** v1   CLI RX|
**** v1   CLI RX|Authentication required.
**** dT   0.112
**** v1   CLI TX|auth e005a744d9e4f705b6f433a8b5f9c22dd78679ccb08d9d8a80ba00ca36c8cd10
***  v1   CLI RX  200
**** v1   CLI RX|-----------------------------
**** v1   CLI RX|Varnish Cache CLI 1.0
**** v1   CLI RX|-----------------------------
**** v1   CLI RX|Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
**** v1   CLI RX|varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
**** v1   CLI RX|
**** v1   CLI RX|Type 'help' for command list.
**** v1   CLI RX|Type 'quit' to close CLI session.
**** v1   CLI RX|Type 'start' to launch worker process.
**** v1   CLI TX|vcl.inline vcl1 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|backend s1 { .host = "127.0.0.1"; .port = "45409"; }
**** v1   CLI TX|backend s2 { .host = "127.0.0.1"; .port = "40013"; }
**** v1   CLI TX|backend s3 { .host = "127.0.0.1"; .port = "38241"; }
**** v1   CLI TX|backend s4 { .host = "127.0.0.1"; .port = "46621"; }
**** v1   CLI TX|
**** v1   CLI TX|
**** v1   CLI TX|\timport vtc;
**** v1   CLI TX|\tsub vcl_backend_fetch {
**** v1   CLI TX|\t\tif (bereq.url == "/1") {
**** v1   CLI TX|\t\t\tset bereq.backend = s1;
**** v1   CLI TX|\t\t} else if (bereq.url == "/2") {
**** v1   CLI TX|\t\t\tset bereq.backend = s2;
**** v1   CLI TX|\t\t} else if (bereq.url == "/3") {
**** v1   CLI TX|\t\t\tset bereq.backend = s3;
**** v1   CLI TX|\t\t} else {
**** v1   CLI TX|\t\t\tset bereq.backend = s4;
**** v1   CLI TX|\t\t}
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.212
***  v1   vsl|No VSL chunk found (child not started ?)
**** dT   0.285
***  v1   CLI RX  200
**** v1   CLI RX|VCL compiled.
**** v1   CLI TX|vcl.use vcl1
***  v1   CLI RX  200
**   v1   Start
**** v1   CLI TX|start
**** dT   0.288
***  v1   debug|Debug: Child (66651) Started
**** dT   0.313
**** v1   vsl|          0 CLI             - Rd vcl.load "vcl1" vcl_vcl1.1634892835.444631/vgc.so 1auto
**** dT   0.314
***  v1   CLI RX  200
***  v1   wait-running
**** v1   CLI TX|status
***  v1   debug|Info: Child (66651) said Child starts
***  v1   CLI RX  200
**** v1   CLI RX|Child in state running
**** v1   CLI TX|debug.listen_address
***  v1   CLI RX  200
**** v1   CLI RX|127.0.0.1 37637
**** v1   CLI TX|debug.xid 999
***  v1   CLI RX  200
**** v1   CLI RX|XID is 999
**** v1   CLI TX|debug.listen_address
***  v1   CLI RX  200
**** v1   CLI RX|127.0.0.1 37637
**   v1   Listen on 127.0.0.1 37637
**** v1   macro def v1_addr=127.0.0.1
**** v1   macro def v1_port=37637
**** v1   macro def v1_sock=127.0.0.1 37637
**   top  === varnish v1 -cliok "param.set feature +http2"
**** v1   CLI TX|param.set feature +http2
***  v1   CLI RX  200
**   v1   CLI 200 <param.set feature +http2>
**   top  === varnish v1 -cliok "param.set debug +syncvsl"
**** v1   CLI TX|param.set debug +syncvsl
**** dT   0.315
***  v1   CLI RX  200
**   v1   CLI 200 <param.set debug +syncvsl>
**   top  === client c1 {
**   c1   Starting client
**   c1   Waiting for client
**   c1   Started on 127.0.0.1 37637 (1 iterations)
***  c1   Connect to 127.0.0.1 37637
***  c1   connected fd 23 from 127.0.0.1 53600 to 127.0.0.1 37637
**   c1   === stream 1 {
**** c1   Not in H/2 mode, do what's needed
**   c1   === txpri
**** c1   txpri|PRI * HTTP/2.0\r
**** c1   txpri|\r
**** c1   txpri|SM\r
**** c1   txpri|\r
**** dT   0.325
**   c1   === stream 0 {
**   c1   Starting stream 0x7f3828001470
**   c1   Waiting for stream 0
**   c1   === txsettings
***  c1   tx: stream: 0, type: SETTINGS (4), flags: 0x00, size: 0
**   c1   === rxsettings
**** dT   0.403
***  c1   rx: stream: 0, type: SETTINGS (4), flags: 0x00, size: 6
**** c1   settings->MAX_CONCURRENT_STREAMS (3): 100
**   c1   === txsettings -ack
***  c1   tx: stream: 0, type: SETTINGS (4), flags: 0x01, size: 0
**   c1   === rxsettings
***  c1   rx: stream: 0, type: SETTINGS (4), flags: 0x01, size: 0
***  c1   flag: ACK
**   c1   === expect settings.ack == true
**** c1   EXPECT settings.ack (true) == "true" match
**   c1   Ending stream 0
**   c1   Starting stream 0x7f3828002670
**   c1   Waiting for stream 1
**   c1   === txreq -req POST -url /1 -hdr "content-length" "1" -nostrend
***  c1   tx: stream: 1, type: HEADERS (1), flags: 0x04, size: 56
**   c1   === txdata -data "AGET /FAIL HTTP/1.1\r\n\r\n"
***  c1   tx: stream: 1, type: DATA (0), flags: 0x01, size: 23
**   c1   === rxrst
***  c1   rx: stream: 1, type: RST_STREAM (3), flags: 0x00, size: 4
**   c1   ouch
**** c1   rst->err: PROTOCOL_ERROR (1)
**   c1   === expect rst.err == PROTOCOL_ERROR
**** c1   EXPECT rst.err (1) == "1" match
**   c1   Ending stream 1
**** dT   0.404
***  s1   accepted fd 6 127.0.0.1 34320
**   s1   === rxreqhdrs
**** s1   rxhdr|POST /1 HTTP/1.1\r
**** s1   rxhdr|content-length: 1\r
**** s1   rxhdr|scheme: http\r
**** s1   rxhdr|X-Forwarded-For: 127.0.0.1\r
**** s1   rxhdr|X-Varnish: 1002\r
**** s1   rxhdr|Host: 127.0.0.1\r
**** s1   rxhdr|\r
**** s1   rxhdrlen = 115
**** s1   http[ 0] |POST
**** s1   http[ 1] |/1
**** s1   http[ 2] |HTTP/1.1
**** s1   http[ 3] |content-length: 1
**** s1   http[ 4] |scheme: http
**** s1   http[ 5] |X-Forwarded-For: 127.0.0.1
**** s1   http[ 6] |X-Varnish: 1002
**** s1   http[ 7] |Host: 127.0.0.1
**   s1   === expect_close
**** s1   Expecting close (fd = 6)
**** s1   fd=6 EOF, as expected
***  s1   shutting fd 6
**   s1   Ending
***  c1   closing fd 23
**** dT   0.405
**   c1   Ending
**   top  === client c2 {
**   c2   Starting client
**   c2   Waiting for client
**   c2   Started on 127.0.0.1 37637 (1 iterations)
***  c2   Connect to 127.0.0.1 37637
***  c2   connected fd 6 from 127.0.0.1 53604 to 127.0.0.1 37637
**   c2   === stream 1 {
**** c2   Not in H/2 mode, do what's needed
**   c2   === txpri
**** c2   txpri|PRI * HTTP/2.0\r
**** c2   txpri|\r
**** c2   txpri|SM\r
**** c2   txpri|\r
**** dT   0.413
**** v1   vsl|          0 CLI             - Wr 200 52 Loaded "vcl_vcl1.1634892835.444631/vgc.so" as "vcl1"
**** v1   vsl|          0 CLI             - Rd vcl.use "vcl1"
**** v1   vsl|          0 CLI             - Wr 200 0 
**** v1   vsl|          0 CLI             - Rd start
**** v1   vsl|          0 CLI             - Wr 200 0 
**** v1   vsl|          0 CLI             - Rd debug.listen_address 
**** v1   vsl|          0 CLI             - Wr 200 16 127.0.0.1 37637

**** v1   vsl|          0 CLI             - Rd debug.xid 999 
**** v1   vsl|          0 CLI             - Wr 200 10 XID is 999
**** v1   vsl|          0 CLI             - Rd debug.listen_address 
**** v1   vsl|          0 CLI             - Wr 200 16 127.0.0.1 37637

**** v1   vsl|       1000 Begin           c sess 0 HTTP/1
**** v1   vsl|       1000 SessOpen        c 127.0.0.1 53600 a0 127.0.0.1 37637 1634892835.734722 25
**** v1   vsl|          0 Debug           - H2 Prior Knowledge Upgrade
**** v1   vsl|       1000 Debug           c H2: Got pu PRISM
**** v1   vsl|       1000 Debug           c H2RXF SETTINGS[0] 0x00 0x00000000
**** v1   vsl|       1000 Debug           c H2RXF SETTINGS[0] 0x01 0x00000000
**** v1   vsl|       1000 Debug           c H2RXF HEADERS[56] 0x04 0x00000001 0x00073a6d6574686f6404504f535400053a70617468022f31000e636f6e74656e742d6c656e677468013100073a736368656d650468747470
**** v1   vsl|       1001 Begin           c req 1000 rxreq
**** v1   vsl|       1000 Link            c req 1001 rxreq
**** v1   vsl|       1001 Timestamp       c Start: 1634892835.735424 0.000000 0.000000
**** v1   vsl|       1001 ReqProtocol     c HTTP/2.0
**** v1   vsl|       1001 Timestamp       c Req: 1634892835.735425 0.000000 0.000000
**** v1   vsl|       1000 Debug           c H2RXF DATA[23] 0x01 0x00000001 0x41474554202f4641494c20485454502f312e310d0a0d0a
**** v1   vsl|       1000 Debug           c H2: stream 1: Received data and Content-Length mismatch
**** v1   vsl|       1000 Debug           c H2: stream 1: Protocol error detected
**** v1   vsl|       1001 VCL_use         c vcl1
**** v1   vsl|       1001 ReqStart        c 127.0.0.1 53600 a0
**** v1   vsl|       1001 ReqMethod       c POST
**** v1   vsl|       1001 ReqURL          c /1
**** v1   vsl|       1001 ReqProtocol     c HTTP/2.0
**** v1   vsl|       1001 ReqHeader       c content-length: 1
**** v1   vsl|       1001 ReqHeader       c scheme: http
**** v1   vsl|       1001 ReqHeader       c X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1001 VCL_call        c RECV
**** v1   vsl|       1001 VCL_return      c pass
**** v1   vsl|       1001 VCL_call        c HASH
**** v1   vsl|       1001 VCL_return      c lookup
**** v1   vsl|       1001 VCL_call        c PASS
**** v1   vsl|       1001 VCL_return      c fetch
**** v1   vsl|       1002 Begin           b bereq 1001 pass
**** v1   vsl|       1002 VCL_use         b vcl1
**** v1   vsl|       1001 Link            c bereq 1002 pass
**** v1   vsl|       1002 Timestamp       b Start: 1634892835.735656 0.000000 0.000000
**** v1   vsl|       1002 BereqMethod     b POST
**** v1   vsl|       1002 BereqURL        b /1
**** v1   vsl|       1002 BereqProtocol   b HTTP/2.0
**** v1   vsl|       1002 BereqHeader     b content-length: 1
**** v1   vsl|       1002 BereqHeader     b scheme: http
**** v1   vsl|       1002 BereqHeader     b X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1002 BereqProtocol   b HTTP/1.1
**** v1   vsl|       1002 BereqHeader     b X-Varnish: 1002
**** v1   vsl|       1002 VCL_call        b BACKEND_FETCH
**** v1   vsl|       1002 VCL_return      b fetch
**** v1   vsl|       1002 BereqHeader     b Host: 127.0.0.1
**** v1   vsl|       1002 BackendOpen     b 27 s1 127.0.0.1 45409 127.0.0.1 34320 connect
**** v1   vsl|       1001 Storage         c malloc Transient
**** v1   vsl|       1001 Timestamp       c ReqBody: 1634892835.735813 0.000388 0.000387
**** v1   vsl|       1002 FetchError      b req.body read error: 0 (Success)
**** v1   vsl|       1002 FetchError      b backend write error: 0 (Success)
**** v1   vsl|       1002 Timestamp       b Bereq: 1634892835.735892 0.000235 0.000235
**** v1   vsl|       1002 BackendClose    b 27 s1 close
**** v1   vsl|       1002 Timestamp       b Beresp: 1634892835.735915 0.000259 0.000023
**** v1   vsl|       1002 Timestamp       b Error: 1634892835.735917 0.000261 0.000001
**** v1   vsl|       1002 BerespProtocol  b HTTP/1.1
**** v1   vsl|       1002 BerespStatus    b 503
**** v1   vsl|       1002 BerespReason    b Backend fetch failed
**** v1   vsl|       1002 BerespHeader    b Date: Fri, 22 Oct 2021 08:53:55 GMT
**** v1   vsl|       1002 BerespHeader    b Server: Varnish
**** v1   vsl|       1002 VCL_call        b BACKEND_ERROR
**** v1   vsl|       1002 BerespHeader    b Content-Type: text/html; charset=utf-8
**** v1   vsl|       1002 BerespHeader    b Retry-After: 5
**** v1   vsl|       1002 VCL_return      b deliver
**** v1   vsl|       1002 Storage         b malloc Transient
**** v1   vsl|       1002 Length          b 281
**** v1   vsl|       1002 BereqAcct       b 115 0 115 0 0 0
**** v1   vsl|       1002 End             b 
**** v1   vsl|       1001 Timestamp       c Fetch: 1634892835.736525 0.001100 0.000712
**** v1   vsl|       1001 RespProtocol    c HTTP/1.1
**** v1   vsl|       1001 RespStatus      c 503
**** v1   vsl|       1001 RespReason      c Backend fetch failed
**** v1   vsl|       1001 RespHeader      c Date: Fri, 22 Oct 2021 08:53:55 GMT
**** v1   vsl|       1001 RespHeader      c Server: Varnish
**** v1   vsl|       1001 RespHeader      c Content-Type: text/html; charset=utf-8
**** v1   vsl|       1001 RespHeader      c Retry-After: 5
**** v1   vsl|       1001 RespHeader      c X-Varnish: 1001
**** v1   vsl|       1001 RespHeader      c Age: 0
**** v1   vsl|       1001 RespHeader      c Via: 1.1 varnish (Varnish/6.5)
**** v1   vsl|       1001 VCL_call        c DELIVER
**** v1   vsl|       1001 VCL_return      c deliver
**** v1   vsl|       1001 Timestamp       c Process: 1634892835.736543 0.001118 0.000018
**** v1   vsl|       1001 Filters         c 
**** v1   vsl|       1001 RespHeader      c Content-Length: 281
**** v1   vsl|       1001 RespProtocol    c HTTP/2.0
**** v1   vsl|       1001 Debug           c HP {33, "date:", ""} <Date: Fri, 22 Oct 2021 08:53:55 GMT>
**** v1   vsl|       1001 Debug           c HP {54, "server:", ""} <Server: Varnish>
**** v1   vsl|       1001 Debug           c HP {31, "content-type:", ""} <Content-Type: text/html; charset=utf-8>
**** v1   vsl|       1001 Debug           c HP {53, "retry-after:", ""} <Retry-After: 5>
**** v1   vsl|       1001 Debug           c HP {21, "age:", ""} <Age: 0>
**** v1   vsl|       1001 Debug           c HP {60, "via:", ""} <Via: 1.1 varnish (Varnish/6.5)>
**** v1   vsl|       1001 Debug           c HP {28, "content-length:", ""} <Content-Length: 281>
**** v1   vsl|       1001 Timestamp       c Resp: 1634892835.736590 0.001165 0.000046
**** v1   vsl|       1000 Debug           c H2: No frame (hs=-1)
**** v1   vsl|       1000 Debug           c H2 CLEANUP NO_ERROR
**** v1   vsl|       1000 Debug           c KILL st=1 state=6 sched=0
**** v1   vsl|       1001 ReqAcct         c 56 0 56 0 0 0
**** v1   vsl|       1001 End             c 
**** v1   vsl|       1000 Debug           c ST 0 0
**** v1   vsl|       1003 Begin           c sess 0 HTTP/1
**** v1   vsl|       1003 SessOpen        c 127.0.0.1 53604 a0 127.0.0.1 37637 1634892835.736997 26
**** dT   0.415
**   c2   === stream 0 {
**   c2   Starting stream 0x7f3828202680
**   c2   Waiting for stream 0
**   c2   === txsettings
***  c2   tx: stream: 0, type: SETTINGS (4), flags: 0x00, size: 0
**   c2   === rxsettings
***  c2   rx: stream: 0, type: SETTINGS (4), flags: 0x00, size: 6
**** c2   settings->MAX_CONCURRENT_STREAMS (3): 100
**   c2   === txsettings -ack
***  c2   tx: stream: 0, type: SETTINGS (4), flags: 0x01, size: 0
**   c2   === rxsettings
***  c2   rx: stream: 0, type: SETTINGS (4), flags: 0x01, size: 0
***  c2   flag: ACK
**   c2   === expect settings.ack == true
**** c2   EXPECT settings.ack (true) == "true" match
**   c2   Ending stream 0
**   c2   Starting stream 0x7f38282036e0
**   c2   Waiting for stream 1
**   c2   === txreq -req POST -url /2 -hdr "content-length" "1" -nostrend
***  c2   tx: stream: 1, type: HEADERS (1), flags: 0x04, size: 56
**** dT   0.416
**   c2   === txdata -data "AGET /FAIL HTTP/1.1\r\n\r\n" -nostrend
***  c2   tx: stream: 1, type: DATA (0), flags: 0x00, size: 23
**   c2   === txdata
***  c2   tx: stream: 1, type: DATA (0), flags: 0x01, size: 0
**   c2   === rxrst
***  c2   rx: stream: 1, type: RST_STREAM (3), flags: 0x00, size: 4
**   c2   ouch
**** c2   rst->err: PROTOCOL_ERROR (1)
**   c2   === expect rst.err == PROTOCOL_ERROR
**** c2   EXPECT rst.err (1) == "1" match
**   c2   Ending stream 1
***  s2   accepted fd 11 127.0.0.1 51294
**   s2   === rxreqhdrs
**** s2   rxhdr|POST /2 HTTP/1.1\r
**** s2   rxhdr|content-length: 1\r
**** s2   rxhdr|scheme: http\r
**** s2   rxhdr|X-Forwarded-For: 127.0.0.1\r
**** s2   rxhdr|X-Varnish: 1005\r
**** s2   rxhdr|Host: 127.0.0.1\r
**** s2   rxhdr|\r
**** s2   rxhdrlen = 115
**** s2   http[ 0] |POST
**** s2   http[ 1] |/2
**** s2   http[ 2] |HTTP/1.1
**** s2   http[ 3] |content-length: 1
**** s2   http[ 4] |scheme: http
**** s2   http[ 5] |X-Forwarded-For: 127.0.0.1
**** s2   http[ 6] |X-Varnish: 1005
**** s2   http[ 7] |Host: 127.0.0.1
**   s2   === expect_close
**** s2   Expecting close (fd = 11)
**** s2   fd=11 EOF, as expected
***  s2   shutting fd 11
**   s2   Ending
***  c2   closing fd 6
**** dT   0.417
**   c2   Ending
**   top  === client c3 {
**   c3   Starting client
**   c3   Waiting for client
**   c3   Started on 127.0.0.1 37637 (1 iterations)
***  c3   Connect to 127.0.0.1 37637
***  c3   connected fd 6 from 127.0.0.1 53608 to 127.0.0.1 37637
**   c3   === stream 1 {
**** c3   Not in H/2 mode, do what's needed
**   c3   === txpri
**** c3   txpri|PRI * HTTP/2.0\r
**** c3   txpri|\r
**** c3   txpri|SM\r
**** c3   txpri|\r
**** dT   0.427
**   c3   === stream 0 {
**   c3   Starting stream 0x7f3828202680
**   c3   Waiting for stream 0
**   c3   === txsettings
***  c3   tx: stream: 0, type: SETTINGS (4), flags: 0x00, size: 0
**   c3   === rxsettings
***  c3   rx: stream: 0, type: SETTINGS (4), flags: 0x00, size: 6
**** c3   settings->MAX_CONCURRENT_STREAMS (3): 100
**   c3   === txsettings -ack
***  c3   tx: stream: 0, type: SETTINGS (4), flags: 0x01, size: 0
**   c3   === rxsettings
***  c3   rx: stream: 0, type: SETTINGS (4), flags: 0x01, size: 0
***  c3   flag: ACK
**   c3   === expect settings.ack == true
**** c3   EXPECT settings.ack (true) == "true" match
**   c3   Ending stream 0
**   c3   Starting stream 0x7f38282036e0
**   c3   Waiting for stream 1
**   c3   === txreq -req POST -url /3 -hdr "content-length" "1" -nostrend
***  c3   tx: stream: 1, type: HEADERS (1), flags: 0x04, size: 56
**   c3   === txdata -data "A" -nostrend
***  c3   tx: stream: 1, type: DATA (0), flags: 0x00, size: 1
**   c3   === txdata -data "GET /FAIL HTTP/1.1\r\n\r\n"
***  c3   tx: stream: 1, type: DATA (0), flags: 0x01, size: 22
**** dT   0.428
**   c3   === rxwinup
***  s3   accepted fd 9 127.0.0.1 41032
**   s3   === rxreq
**** s3   rxhdr|POST /3 HTTP/1.1\r
**** s3   rxhdr|content-length: 1\r
**** s3   rxhdr|scheme: http\r
**** s3   rxhdr|X-Forwarded-For: 127.0.0.1\r
**** s3   rxhdr|X-Varnish: 1008\r
**** s3   rxhdr|Host: 127.0.0.1\r
**** s3   rxhdr|\r
**** s3   rxhdrlen = 115
**** s3   http[ 0] |POST
**** s3   http[ 1] |/3
**** s3   http[ 2] |HTTP/1.1
**** s3   http[ 3] |content-length: 1
**** s3   http[ 4] |scheme: http
**** s3   http[ 5] |X-Forwarded-For: 127.0.0.1
**** s3   http[ 6] |X-Varnish: 1008
**** s3   http[ 7] |Host: 127.0.0.1
**** s3   c-l|A
**** s3   bodylen = 1
**   s3   === expect_close
**** s3   Expecting close (fd = 9)
***  c3   rx: stream: 0, type: WINDOW_UPDATE (8), flags: 0x00, size: 4
***  c3   winup->size: 1048576
***  c3   rx: stream: 1, type: WINDOW_UPDATE (8), flags: 0x00, size: 4
***  c3   winup->size: 1048576
**   c3   === rxrst
***  c3   rx: stream: 1, type: RST_STREAM (3), flags: 0x00, size: 4
**   c3   ouch
**** c3   rst->err: PROTOCOL_ERROR (1)
**   c3   === expect rst.err == PROTOCOL_ERROR
**** c3   EXPECT rst.err (1) == "1" match
**   c3   Ending stream 1
***  c3   closing fd 6
**   c3   Ending
**   top  === client c4 {
**   c4   Starting client
**   c4   Waiting for client
**   c4   Started on 127.0.0.1 37637 (1 iterations)
***  c4   Connect to 127.0.0.1 37637
**** s3   fd=9 EOF, as expected
***  s3   shutting fd 9
**** dT   0.429
**   s3   Ending
***  c4   connected fd 6 from 127.0.0.1 53612 to 127.0.0.1 37637
**   c4   === stream 1 {
**** c4   Not in H/2 mode, do what's needed
**   c4   === txpri
**** c4   txpri|PRI * HTTP/2.0\r
**** c4   txpri|\r
**** c4   txpri|SM\r
**** c4   txpri|\r
**** dT   0.439
**   c4   === stream 0 {
**   c4   Starting stream 0x7f3828202680
**   c4   Waiting for stream 0
**   c4   === txsettings
***  c4   tx: stream: 0, type: SETTINGS (4), flags: 0x00, size: 0
**   c4   === rxsettings
***  c4   rx: stream: 0, type: SETTINGS (4), flags: 0x00, size: 6
**** c4   settings->MAX_CONCURRENT_STREAMS (3): 100
**   c4   === txsettings -ack
***  c4   tx: stream: 0, type: SETTINGS (4), flags: 0x01, size: 0
**   c4   === rxsettings
***  c4   rx: stream: 0, type: SETTINGS (4), flags: 0x01, size: 0
***  c4   flag: ACK
**   c4   === expect settings.ack == true
**** c4   EXPECT settings.ack (true) == "true" match
**   c4   Ending stream 0
**   c4   Starting stream 0x7f38282036e0
**   c4   Waiting for stream 1
**   c4   === txreq -req POST -url /4 -hdr "content-length" "1" -nostrend
***  c4   tx: stream: 1, type: HEADERS (1), flags: 0x04, size: 56
**   c4   === txdata -data "A" -nostrend
***  c4   tx: stream: 1, type: DATA (0), flags: 0x00, size: 1
**   c4   === txdata
***  c4   tx: stream: 1, type: DATA (0), flags: 0x01, size: 0
**   c4   === rxwinup
***  s4   accepted fd 10 127.0.0.1 36488
**   s4   === rxreq
**** dT   0.440
**** s4   rxhdr|POST /4 HTTP/1.1\r
**** s4   rxhdr|content-length: 1\r
**** s4   rxhdr|scheme: http\r
**** s4   rxhdr|X-Forwarded-For: 127.0.0.1\r
**** s4   rxhdr|X-Varnish: 1011\r
**** s4   rxhdr|Host: 127.0.0.1\r
**** s4   rxhdr|\r
**** s4   rxhdrlen = 115
**** s4   http[ 0] |POST
**** s4   http[ 1] |/4
**** s4   http[ 2] |HTTP/1.1
**** s4   http[ 3] |content-length: 1
**** s4   http[ 4] |scheme: http
**** s4   http[ 5] |X-Forwarded-For: 127.0.0.1
**** s4   http[ 6] |X-Varnish: 1011
**** s4   http[ 7] |Host: 127.0.0.1
**** s4   c-l|A
**** s4   bodylen = 1
**   s4   === expect req.body == "A"
**** s4   EXPECT req.body (A) == "A" match
**   s4   === txresp
**** s4   txresp|HTTP/1.1 200 OK\r
**** s4   txresp|Content-Length: 0\r
**** s4   txresp|\r
***  s4   shutting fd 10
**   s4   Ending
***  c4   rx: stream: 0, type: WINDOW_UPDATE (8), flags: 0x00, size: 4
***  c4   winup->size: 1048576
***  c4   rx: stream: 1, type: WINDOW_UPDATE (8), flags: 0x00, size: 4
***  c4   winup->size: 1048576
**   c4   === rxwinup
***  c4   rx: stream: 0, type: WINDOW_UPDATE (8), flags: 0x00, size: 4
***  c4   winup->size: 1048576
***  c4   rx: stream: 1, type: WINDOW_UPDATE (8), flags: 0x00, size: 4
***  c4   winup->size: 1048576
**   c4   === rxresp
**** dT   0.450
***  c4   rx: stream: 1, type: HEADERS (1), flags: 0x05, size: 93
***  c4   flag: END_STREAM
**** c4   header[ 0]: :status : 200
**** c4   header[ 1]: content-length : 0
**** c4   header[ 2]: date : Fri, 22 Oct 2021 08:53:55 GMT
**** c4   header[ 3]: x-varnish : 1010
**** c4   header[ 4]: age : 0
**** c4   header[ 5]: via : 1.1 varnish (Varnish/6.5)
**** c4   header[ 6]: accept-ranges : bytes
**   c4   === expect resp.status == 200
**** c4   EXPECT resp.status (200) == "200" match
**   c4   Ending stream 1
***  c4   closing fd 6
**** dT   0.451
**   c4   Ending
*    top  RESETTING after ./tests/f00007.vtc
**   s1   Waiting for server (4/-1)
**   s2   Waiting for server (5/-1)
**   s3   Waiting for server (7/-1)
**   s4   Waiting for server (8/-1)
**   v1   Wait
**** v1   CLI TX|backend.list
***  v1   CLI RX  200
**** v1   CLI RX|Backend name   Admin      Probe    Health     Last change
**** v1   CLI RX|vcl1.s1        healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:55 GMT
**** v1   CLI RX|vcl1.s2        healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:55 GMT
**** v1   CLI RX|vcl1.s3        healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:55 GMT
**** v1   CLI RX|vcl1.s4        healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:55 GMT
**   v1   Stop
**** v1   CLI TX|stop
***  v1   debug|Debug: Stopping Child
**** dT   0.513
**** v1   vsl|          0 Debug           - H2 Prior Knowledge Upgrade
**** v1   vsl|       1003 Debug           c H2: Got pu PRISM
**** v1   vsl|       1003 Debug           c H2RXF SETTINGS[0] 0x00 0x00000000
**** v1   vsl|       1003 Debug           c H2RXF SETTINGS[0] 0x01 0x00000000
**** v1   vsl|       1003 Debug           c H2RXF HEADERS[56] 0x04 0x00000001 0x00073a6d6574686f6404504f535400053a70617468022f32000e636f6e74656e742d6c656e677468013100073a736368656d650468747470
**** v1   vsl|       1004 Begin           c req 1003 rxreq
**** v1   vsl|       1003 Link            c req 1004 rxreq
**** v1   vsl|       1004 Timestamp       c Start: 1634892835.747781 0.000000 0.000000
**** v1   vsl|       1004 ReqProtocol     c HTTP/2.0
**** v1   vsl|       1004 Timestamp       c Req: 1634892835.747781 0.000000 0.000000
**** v1   vsl|       1003 Debug           c H2RXF DATA[23] 0x00 0x00000001 0x41474554202f4641494c20485454502f312e310d0a0d0a
**** v1   vsl|       1003 Debug           c H2: stream 1: Received data and Content-Length mismatch
**** v1   vsl|       1003 Debug           c H2: stream 1: Protocol error detected
**** v1   vsl|       1003 Debug           c H2RXF DATA[0] 0x01 0x00000001
**** v1   vsl|       1003 Debug           c H2: stream 1: Protocol error detected
**** v1   vsl|       1004 VCL_use         c vcl1
**** v1   vsl|       1004 ReqStart        c 127.0.0.1 53604 a0
**** v1   vsl|       1004 ReqMethod       c POST
**** v1   vsl|       1004 ReqURL          c /2
**** v1   vsl|       1004 ReqProtocol     c HTTP/2.0
**** v1   vsl|       1004 ReqHeader       c content-length: 1
**** v1   vsl|       1004 ReqHeader       c scheme: http
**** v1   vsl|       1004 ReqHeader       c X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1004 VCL_call        c RECV
**** v1   vsl|       1004 VCL_return      c pass
**** v1   vsl|       1004 VCL_call        c HASH
**** v1   vsl|       1004 VCL_return      c lookup
**** v1   vsl|       1004 VCL_call        c PASS
**** v1   vsl|       1004 VCL_return      c fetch
**** v1   vsl|       1005 Begin           b bereq 1004 pass
**** v1   vsl|       1005 VCL_use         b vcl1
**** v1   vsl|       1004 Link            c bereq 1005 pass
**** v1   vsl|       1005 Timestamp       b Start: 1634892835.747910 0.000000 0.000000
**** v1   vsl|       1005 BereqMethod     b POST
**** v1   vsl|       1005 BereqURL        b /2
**** v1   vsl|       1005 BereqProtocol   b HTTP/2.0
**** v1   vsl|       1005 BereqHeader     b content-length: 1
**** v1   vsl|       1005 BereqHeader     b scheme: http
**** v1   vsl|       1005 BereqHeader     b X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1005 BereqProtocol   b HTTP/1.1
**** v1   vsl|       1005 BereqHeader     b X-Varnish: 1005
**** v1   vsl|       1005 VCL_call        b BACKEND_FETCH
**** v1   vsl|       1005 VCL_return      b fetch
**** v1   vsl|       1005 BereqHeader     b Host: 127.0.0.1
**** v1   vsl|       1005 BackendOpen     b 29 s2 127.0.0.1 40013 127.0.0.1 51294 connect
**** v1   vsl|       1004 Storage         c malloc Transient
**** v1   vsl|       1004 Timestamp       c ReqBody: 1634892835.748034 0.000252 0.000252
**** v1   vsl|       1005 FetchError      b req.body read error: 0 (Success)
**** v1   vsl|       1005 FetchError      b backend write error: 0 (Success)
**** v1   vsl|       1005 Timestamp       b Bereq: 1634892835.748064 0.000154 0.000154
**** v1   vsl|       1005 BackendClose    b 29 s2 close
**** v1   vsl|       1005 Timestamp       b Beresp: 1634892835.748081 0.000171 0.000016
**** v1   vsl|       1005 Timestamp       b Error: 1634892835.748083 0.000173 0.000001
**** v1   vsl|       1005 BerespProtocol  b HTTP/1.1
**** v1   vsl|       1005 BerespStatus    b 503
**** v1   vsl|       1005 BerespReason    b Backend fetch failed
**** v1   vsl|       1005 BerespHeader    b Date: Fri, 22 Oct 2021 08:53:55 GMT
**** v1   vsl|       1005 BerespHeader    b Server: Varnish
**** v1   vsl|       1005 VCL_call        b BACKEND_ERROR
**** v1   vsl|       1005 BerespHeader    b Content-Type: text/html; charset=utf-8
**** v1   vsl|       1005 BerespHeader    b Retry-After: 5
**** v1   vsl|       1005 VCL_return      b deliver
**** v1   vsl|       1005 Storage         b malloc Transient
**** v1   vsl|       1005 Length          b 281
**** v1   vsl|       1005 BereqAcct       b 115 0 115 0 0 0
**** v1   vsl|       1005 End             b 
**** v1   vsl|       1004 Timestamp       c Fetch: 1634892835.748131 0.000349 0.000097
**** v1   vsl|       1004 RespProtocol    c HTTP/1.1
**** v1   vsl|       1004 RespStatus      c 503
**** v1   vsl|       1004 RespReason      c Backend fetch failed
**** v1   vsl|       1004 RespHeader      c Date: Fri, 22 Oct 2021 08:53:55 GMT
**** v1   vsl|       1004 RespHeader      c Server: Varnish
**** v1   vsl|       1004 RespHeader      c Content-Type: text/html; charset=utf-8
**** v1   vsl|       1004 RespHeader      c Retry-After: 5
**** v1   vsl|       1004 RespHeader      c X-Varnish: 1004
**** v1   vsl|       1004 RespHeader      c Age: 0
**** v1   vsl|       1004 RespHeader      c Via: 1.1 varnish (Varnish/6.5)
**** v1   vsl|       1004 VCL_call        c DELIVER
**** v1   vsl|       1004 VCL_return      c deliver
**** v1   vsl|       1004 Timestamp       c Process: 1634892835.748139 0.000358 0.000008
**** v1   vsl|       1004 Filters         c 
**** v1   vsl|       1004 RespHeader      c Content-Length: 281
**** v1   vsl|       1004 RespProtocol    c HTTP/2.0
**** v1   vsl|       1004 Debug           c HP {33, "date:", ""} <Date: Fri, 22 Oct 2021 08:53:55 GMT>
**** v1   vsl|       1004 Debug           c HP {54, "server:", ""} <Server: Varnish>
**** v1   vsl|       1004 Debug           c HP {31, "content-type:", ""} <Content-Type: text/html; charset=utf-8>
**** v1   vsl|       1004 Debug           c HP {53, "retry-after:", ""} <Retry-After: 5>
**** v1   vsl|       1004 Debug           c HP {21, "age:", ""} <Age: 0>
**** v1   vsl|       1004 Debug           c HP {60, "via:", ""} <Via: 1.1 varnish (Varnish/6.5)>
**** v1   vsl|       1004 Debug           c HP {28, "content-length:", ""} <Content-Length: 281>
**** v1   vsl|       1004 Timestamp       c Resp: 1634892835.748180 0.000399 0.000040
**** v1   vsl|       1003 Debug           c H2: No frame (hs=-1)
**** v1   vsl|       1003 Debug           c H2 CLEANUP NO_ERROR
**** v1   vsl|       1003 Debug           c KILL st=1 state=6 sched=0
**** v1   vsl|       1004 ReqAcct         c 56 0 56 0 0 0
**** v1   vsl|       1004 End             c 
**** v1   vsl|       1003 Debug           c ST 0 0
**** v1   vsl|       1006 Begin           c sess 0 HTTP/1
**** v1   vsl|       1006 SessOpen        c 127.0.0.1 53608 a0 127.0.0.1 37637 1634892835.749007 27
**** v1   vsl|          0 Debug           - H2 Prior Knowledge Upgrade
**** v1   vsl|       1006 Debug           c H2: Got pu PRISM
**** v1   vsl|       1006 Debug           c H2RXF SETTINGS[0] 0x00 0x00000000
**** v1   vsl|       1006 Debug           c H2RXF SETTINGS[0] 0x01 0x00000000
**** v1   vsl|       1006 Debug           c H2RXF HEADERS[56] 0x04 0x00000001 0x00073a6d6574686f6404504f535400053a70617468022f33000e636f6e74656e742d6c656e677468013100073a736368656d650468747470
**** v1   vsl|       1007 Begin           c req 1006 rxreq
**** v1   vsl|       1006 Link            c req 1007 rxreq
**** v1   vsl|       1007 Timestamp       c Start: 1634892835.759767 0.000000 0.000000
**** v1   vsl|       1007 ReqProtocol     c HTTP/2.0
**** v1   vsl|       1007 Timestamp       c Req: 1634892835.759767 0.000000 0.000000
**** v1   vsl|       1006 Debug           c H2RXF DATA[1] 0x00 0x00000001 0x41
**** v1   vsl|       1007 VCL_use         c vcl1
**** v1   vsl|       1007 ReqStart        c 127.0.0.1 53608 a0
**** v1   vsl|       1007 ReqMethod       c POST
**** v1   vsl|       1007 ReqURL          c /3
**** v1   vsl|       1007 ReqProtocol     c HTTP/2.0
**** v1   vsl|       1007 ReqHeader       c content-length: 1
**** v1   vsl|       1007 ReqHeader       c scheme: http
**** v1   vsl|       1007 ReqHeader       c X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1007 VCL_call        c RECV
**** v1   vsl|       1007 VCL_return      c pass
**** v1   vsl|       1007 VCL_call        c HASH
**** v1   vsl|       1007 VCL_return      c lookup
**** v1   vsl|       1007 VCL_call        c PASS
**** v1   vsl|       1007 VCL_return      c fetch
**** v1   vsl|       1008 Begin           b bereq 1007 pass
**** v1   vsl|       1008 VCL_use         b vcl1
**** v1   vsl|       1007 Link            c bereq 1008 pass
**** v1   vsl|       1008 Timestamp       b Start: 1634892835.759839 0.000000 0.000000
**** v1   vsl|       1008 BereqMethod     b POST
**** v1   vsl|       1008 BereqURL        b /3
**** v1   vsl|       1008 BereqProtocol   b HTTP/2.0
**** v1   vsl|       1008 BereqHeader     b content-length: 1
**** v1   vsl|       1008 BereqHeader     b scheme: http
**** v1   vsl|       1008 BereqHeader     b X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1008 BereqProtocol   b HTTP/1.1
**** v1   vsl|       1008 BereqHeader     b X-Varnish: 1008
**** v1   vsl|       1008 VCL_call        b BACKEND_FETCH
**** v1   vsl|       1008 VCL_return      b fetch
**** v1   vsl|       1008 BereqHeader     b Host: 127.0.0.1
**** v1   vsl|       1008 BackendOpen     b 30 s3 127.0.0.1 38241 127.0.0.1 41032 connect
**** v1   vsl|       1007 Storage         c malloc Transient
**** v1   vsl|       1006 Debug           c H2RXF DATA[22] 0x01 0x00000001 0x474554202f4641494c20485454502f312e310d0a0d0a
**** v1   vsl|       1006 Debug           c H2: stream 1: Received data and Content-Length mismatch
**** v1   vsl|       1006 Debug           c H2: stream 1: Protocol error detected
**** v1   vsl|       1007 Timestamp       c ReqBody: 1634892835.760514 0.000746 0.000746
**** v1   vsl|       1008 FetchError      b req.body read error: 0 (Success)
**** v1   vsl|       1008 FetchError      b backend write error: 0 (Success)
**** v1   vsl|       1008 Timestamp       b Bereq: 1634892835.760524 0.000684 0.000684
**** v1   vsl|       1008 BackendClose    b 30 s3 close
**** v1   vsl|       1008 Timestamp       b Beresp: 1634892835.760548 0.000709 0.000024
**** v1   vsl|       1008 Timestamp       b Error: 1634892835.760550 0.000710 0.000001
**** v1   vsl|       1008 BerespProtocol  b HTTP/1.1
**** v1   vsl|       1008 BerespStatus    b 503
**** v1   vsl|       1008 BerespReason    b Backend fetch failed
**** v1   vsl|       1008 BerespHeader    b Date: Fri, 22 Oct 2021 08:53:55 GMT
**** v1   vsl|       1008 BerespHeader    b Server: Varnish
**** v1   vsl|       1008 VCL_call        b BACKEND_ERROR
**** v1   vsl|       1008 BerespHeader    b Content-Type: text/html; charset=utf-8
**** v1   vsl|       1008 BerespHeader    b Retry-After: 5
**** v1   vsl|       1008 VCL_return      b deliver
**** v1   vsl|       1008 Storage         b malloc Transient
**** v1   vsl|       1008 Length          b 281
**** v1   vsl|       1008 BereqAcct       b 115 1 116 0 0 0
**** v1   vsl|       1008 End             b 
**** v1   vsl|       1007 Timestamp       c Fetch: 1634892835.760607 0.000840 0.000093
**** v1   vsl|       1007 RespProtocol    c HTTP/1.1
**** v1   vsl|       1007 RespStatus      c 503
**** v1   vsl|       1007 RespReason      c Backend fetch failed
**** v1   vsl|       1007 RespHeader      c Date: Fri, 22 Oct 2021 08:53:55 GMT
**** v1   vsl|       1007 RespHeader      c Server: Varnish
**** v1   vsl|       1007 RespHeader      c Content-Type: text/html; charset=utf-8
**** v1   vsl|       1007 RespHeader      c Retry-After: 5
**** v1   vsl|       1007 RespHeader      c X-Varnish: 1007
**** v1   vsl|       1007 RespHeader      c Age: 0
**** v1   vsl|       1007 RespHeader      c Via: 1.1 varnish (Varnish/6.5)
**** v1   vsl|       1007 VCL_call        c DELIVER
**** v1   vsl|       1007 VCL_return      c deliver
**** v1   vsl|       1007 Timestamp       c Process: 1634892835.760620 0.000853 0.000012
**** v1   vsl|       1007 Filters         c 
**** v1   vsl|       1007 RespHeader      c Content-Length: 281
**** v1   vsl|       1007 RespProtocol    c HTTP/2.0
**** v1   vsl|       1007 Debug           c HP {33, "date:", ""} <Date: Fri, 22 Oct 2021 08:53:55 GMT>
**** v1   vsl|       1007 Debug           c HP {54, "server:", ""} <Server: Varnish>
**** v1   vsl|       1007 Debug           c HP {31, "content-type:", ""} <Content-Type: text/html; charset=utf-8>
**** v1   vsl|       1007 Debug           c HP {53, "retry-after:", ""} <Retry-After: 5>
**** v1   vsl|       1007 Debug           c HP {21, "age:", ""} <Age: 0>
**** v1   vsl|       1007 Debug           c HP {60, "via:", ""} <Via: 1.1 varnish (Varnish/6.5)>
**** v1   vsl|       1007 Debug           c HP {28, "content-length:", ""} <Content-Length: 281>
**** v1   vsl|       1007 Timestamp       c Resp: 1634892835.760671 0.000904 0.000051
**** v1   vsl|       1006 Debug           c H2: No frame (hs=-1)
**** v1   vsl|       1006 Debug           c H2 CLEANUP NO_ERROR
**** v1   vsl|       1006 Debug           c KILL st=1 state=6 sched=0
**** v1   vsl|       1007 ReqAcct         c 56 1 57 0 0 0
**** v1   vsl|       1007 End             c 
**** v1   vsl|       1006 Debug           c ST 0 0
**** v1   vsl|       1009 Begin           c sess 0 HTTP/1
**** v1   vsl|       1009 SessOpen        c 127.0.0.1 53612 a0 127.0.0.1 37637 1634892835.760769 28
**** v1   vsl|          0 Debug           - H2 Prior Knowledge Upgrade
**** v1   vsl|       1009 Debug           c H2: Got pu PRISM
**** v1   vsl|       1009 Debug           c H2RXF SETTINGS[0] 0x00 0x00000000
**** v1   vsl|       1009 Debug           c H2RXF SETTINGS[0] 0x01 0x00000000
**** v1   vsl|       1009 Debug           c H2RXF HEADERS[56] 0x04 0x00000001 0x00073a6d6574686f6404504f535400053a70617468022f34000e636f6e74656e742d6c656e677468013100073a736368656d650468747470
**** v1   vsl|       1010 Begin           c req 1009 rxreq
**** v1   vsl|       1009 Link            c req 1010 rxreq
**** v1   vsl|       1010 Timestamp       c Start: 1634892835.771485 0.000000 0.000000
**** v1   vsl|       1010 ReqProtocol     c HTTP/2.0
**** v1   vsl|       1010 Timestamp       c Req: 1634892835.771486 0.000000 0.000000
**** v1   vsl|       1009 Debug           c H2RXF DATA[1] 0x00 0x00000001 0x41
**** v1   vsl|       1010 VCL_use         c vcl1
**** v1   vsl|       1010 ReqStart        c 127.0.0.1 53612 a0
**** v1   vsl|       1010 ReqMethod       c POST
**** v1   vsl|       1010 ReqURL          c /4
**** v1   vsl|       1010 ReqProtocol     c HTTP/2.0
**** v1   vsl|       1010 ReqHeader       c content-length: 1
**** v1   vsl|       1010 ReqHeader       c scheme: http
**** v1   vsl|       1010 ReqHeader       c X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1010 VCL_call        c RECV
**** v1   vsl|       1010 VCL_return      c pass
**** v1   vsl|       1010 VCL_call        c HASH
**** v1   vsl|       1010 VCL_return      c lookup
**** v1   vsl|       1010 VCL_call        c PASS
**** v1   vsl|       1010 VCL_return      c fetch
**** v1   vsl|       1011 Begin           b bereq 1010 pass
**** v1   vsl|       1011 VCL_use         b vcl1
**** v1   vsl|       1010 Link            c bereq 1011 pass
**** v1   vsl|       1011 Timestamp       b Start: 1634892835.771578 0.000000 0.000000
**** v1   vsl|       1011 BereqMethod     b POST
**** v1   vsl|       1011 BereqURL        b /4
**** v1   vsl|       1011 BereqProtocol   b HTTP/2.0
**** v1   vsl|       1011 BereqHeader     b content-length: 1
**** v1   vsl|       1011 BereqHeader     b scheme: http
**** v1   vsl|       1011 BereqHeader     b X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1011 BereqProtocol   b HTTP/1.1
**** v1   vsl|       1011 BereqHeader     b X-Varnish: 1011
**** v1   vsl|       1011 VCL_call        b BACKEND_FETCH
**** v1   vsl|       1011 VCL_return      b fetch
**** v1   vsl|       1011 BereqHeader     b Host: 127.0.0.1
**** v1   vsl|       1011 BackendOpen     b 31 s4 127.0.0.1 46621 127.0.0.1 36488 connect
**** v1   vsl|       1010 Storage         c malloc Transient
**** v1   vsl|       1009 Debug           c H2RXF DATA[0] 0x01 0x00000001
**** v1   vsl|       1010 Timestamp       c ReqBody: 1634892835.771775 0.000290 0.000289
**** v1   vsl|       1011 Timestamp       b Bereq: 1634892835.771780 0.000202 0.000202
**** v1   vsl|       1011 Timestamp       b Beresp: 1634892835.772195 0.000617 0.000414
**** v1   vsl|       1011 BerespProtocol  b HTTP/1.1
**** v1   vsl|       1011 BerespStatus    b 200
**** v1   vsl|       1011 BerespReason    b OK
**** v1   vsl|       1011 BerespHeader    b Content-Length: 0
**** v1   vsl|       1011 BerespHeader    b Date: Fri, 22 Oct 2021 08:53:55 GMT
**** v1   vsl|       1011 VCL_call        b BACKEND_RESPONSE
**** v1   vsl|       1011 VCL_return      b deliver
**** v1   vsl|       1011 Filters         b 
**** v1   vsl|       1011 Storage         b malloc Transient
**** v1   vsl|       1011 Fetch_Body      b 0 none -
**** v1   vsl|       1011 BackendClose    b 31 s4 recycle
**** v1   vsl|       1011 Timestamp       b BerespBody: 1634892835.782317 0.010739 0.010122
**** v1   vsl|       1011 Length          b 0
**** v1   vsl|       1011 BereqAcct       b 115 1 116 38 0 38
**** v1   vsl|       1011 End             b 
**** v1   vsl|       1010 Timestamp       c Fetch: 1634892835.782348 0.010862 0.010572
**** v1   vsl|       1010 RespProtocol    c HTTP/1.1
**** v1   vsl|       1010 RespStatus      c 200
**** v1   vsl|       1010 RespReason      c OK
**** v1   vsl|       1010 RespHeader      c Content-Length: 0
**** v1   vsl|       1010 RespHeader      c Date: Fri, 22 Oct 2021 08:53:55 GMT
**** v1   vsl|       1010 RespHeader      c X-Varnish: 1010
**** v1   vsl|       1010 RespHeader      c Age: 0
**** v1   vsl|       1010 RespHeader      c Via: 1.1 varnish (Varnish/6.5)
**** v1   vsl|       1010 VCL_call        c DELIVER
**** v1   vsl|       1010 VCL_return      c deliver
**** v1   vsl|       1010 Timestamp       c Process: 1634892835.782389 0.010903 0.000041
**** v1   vsl|       1010 Filters         c 
**** v1   vsl|       1010 RespHeader      c Accept-Ranges: bytes
**** v1   vsl|       1010 RespProtocol    c HTTP/2.0
**** v1   vsl|       1010 Debug           c HP {28, "content-length:", ""} <Content-Length: 0>
**** v1   vsl|       1010 Debug           c HP {33, "date:", ""} <Date: Fri, 22 Oct 2021 08:53:55 GMT>
**** v1   vsl|       1010 Debug           c HP {21, "age:", ""} <Age: 0>
**** v1   vsl|       1010 Debug           c HP {60, "via:", ""} <Via: 1.1 varnish (Varnish/6.5)>
**** v1   vsl|       1010 Debug           c HP {18, "accept-ranges:", ""} <Accept-Ranges: bytes>
**** v1   vsl|       1010 Timestamp       c Resp: 1634892835.782450 0.010965 0.000061
**** v1   vsl|       1009 Debug           c H2: No frame (hs=-1)
**** v1   vsl|       1009 Debug           c H2 CLEANUP NO_ERROR
**** v1   vsl|       1009 Debug           c KILL st=1 state=6 sched=0
**** v1   vsl|       1010 ReqAcct         c 56 1 57 93 0 93
**** v1   vsl|       1010 End             c 
**** v1   vsl|       1009 Debug           c ST 0 0
**** v1   vsl|          0 CLI             - Rd backend.list 
**** v1   vsl|          0 CLI             - Wr 200 362 Backend name   Admin      Probe    Health     Last change
vcl1.s1        healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:55 GMT
vcl1.s2        healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:55 GMT
vcl1.s3        healthy    0/0    
**** v1   vsl|          0 CLI             - EOF on CLI connection, worker stops
**** dT   1.451
***  v1   debug|Info: Child (66651) ended
***  v1   debug|Info: Child (66651) said Child dies
***  v1   debug|Debug: Child cleanup complete
**** dT   1.452
***  v1   CLI RX  200
***  v1   wait-stopped
**** v1   CLI TX|status
***  v1   CLI RX  200
**** v1   CLI RX|Child in state stopped
**** v1   CLI TX|panic.clear
***  v1   CLI RX  300
**** v1   CLI RX|No panic to clear
***  v1   debug|Info: manager stopping child
***  v1   debug|Info: manager dies
**** v1   STDOUT EOF
**** dT   1.515
**   v1   WAIT4 pid=66638 status=0x0000 (user 0.170894 sys 0.025214)
*    top  TEST ./tests/f00007.vtc completed
#    top  TEST ./tests/f00007.vtc passed (1.516)
