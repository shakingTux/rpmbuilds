**** dT   0.000
*    top  TEST ./tests/v00020.vtc starting
**** top  extmacro def pwd=/root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest
**** top  extmacro def localhost=127.0.0.1
**** top  extmacro def bad_backend=127.0.0.1 44301
**** top  extmacro def bad_ip=192.0.2.255
**** top  extmacro def topbuild=/root/rpmbuild/BUILD/varnish-6.5.2
**** top  macro def testdir=/root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest/./tests
**** top  macro def tmpdir=/tmp/vtc.107831.4ed13c2c
**   top  === varnishtest "VCL compiler coverage test: vcc_parse.c & vcc_e...
*    top  VTEST VCL compiler coverage test: vcc_parse.c & vcc_expr.c
**   top  === varnish v1 -cliok "param.set vcc_allow_inline_c true" -vcl {
**** dT   0.006
**   v1   Launch
***  v1   CMD: cd ${pwd} && exec varnishd  -d -n /tmp/vtc.107831.4ed13c2c/v1 -l 2m -p auto_restart=off -p syslog_cli_traffic=off -p sigsegv_handler=on -p thread_pool_min=10 -p debug=+vtc_mode -p vsl_mask=+Debug -a '127.0.0.1:0' -M '127.0.0.1 34485' -P /tmp/vtc.107831.4ed13c2c/v1/varnishd.pid -p vmod_path=/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_blob/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_cookie/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_std/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_vtc/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_unix/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_proxy/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_purge/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_directors/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_debug/.libs 
***  v1   CMD: cd /root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest && exec varnishd  -d -n /tmp/vtc.107831.4ed13c2c/v1 -l 2m -p auto_restart=off -p syslog_cli_traffic=off -p sigsegv_handler=on -p thread_pool_min=10 -p debug=+vtc_mode -p vsl_mask=+Debug -a '127.0.0.1:0' -M '127.0.0.1 34485' -P /tmp/vtc.107831.4ed13c2c/v1/varnishd.pid -p vmod_path=/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_blob/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_cookie/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_std/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_vtc/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_unix/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_proxy/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_purge/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_directors/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_debug/.libs 
***  v1   PID: 107870
**** v1   macro def v1_pid=107870
**** v1   macro def v1_name=/tmp/vtc.107831.4ed13c2c/v1
**** dT   0.015
***  v1   debug|Debug: Version: varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
***  v1   debug|Debug: Platform: Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
***  v1   debug|200 321     
***  v1   debug|-----------------------------
***  v1   debug|Varnish Cache CLI 1.0
***  v1   debug|-----------------------------
***  v1   debug|Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
***  v1   debug|varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
***  v1   debug|
***  v1   debug|Type 'help' for command list.
***  v1   debug|Type 'quit' to close CLI session.
***  v1   debug|Type 'start' to launch worker process.
***  v1   debug|
**** dT   0.113
**** v1   CLIPOLL 1 0x1 0x0
***  v1   CLI connection fd = 5
***  v1   CLI RX  107
**** v1   CLI RX|dtfxqctamaiolhailjocxectmbnazezs
**** v1   CLI RX|
**** v1   CLI RX|Authentication required.
**** v1   CLI TX|auth 4e6e91e1b3532495544935a7fbf32b4250117e44f27b8c5896f04f89a68da8fd
**** dT   0.114
***  v1   CLI RX  200
**** v1   CLI RX|-----------------------------
**** v1   CLI RX|Varnish Cache CLI 1.0
**** v1   CLI RX|-----------------------------
**** v1   CLI RX|Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
**** v1   CLI RX|varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
**** v1   CLI RX|
**** v1   CLI RX|Type 'help' for command list.
**** v1   CLI RX|Type 'quit' to close CLI session.
**** v1   CLI RX|Type 'start' to launch worker process.
**** v1   CLI TX|param.set vcc_allow_inline_c true
***  v1   CLI RX  200
**   v1   CLI 200 <param.set vcc_allow_inline_c true>
**** v1   CLI TX|vcl.inline vcl1 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|\tC{
**** v1   CLI TX|\t#include <stdio.h>
**** v1   CLI TX|\t}C
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.214
***  v1   vsl|No VSL chunk found (child not started ?)
**** dT   0.270
***  v1   CLI RX  200
**** v1   CLI RX|VCL compiled.
**** v1   CLI TX|vcl.use vcl1
***  v1   CLI RX  200
**   top  === varnish v1 -errvcl {Found: '0' at} { 0; }
**** v1   CLI TX|vcl.inline vcl2 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX| 0; 
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.271
***  v1   debug|Could not delete 'vcl_vcl2.1634893375.471359/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Expected one of
**** v1   CLI RX|\t'acl', 'sub', 'backend', 'probe', 'import',  or 'vcl'
**** v1   CLI RX|Found: '0' at
**** v1   CLI RX|('<vcl.inline>' Line 2 Pos 2)
**** v1   CLI RX| 0; 
**** v1   CLI RX|-#--
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Found: '0' at")
**   top  === varnish v1 -errvcl {Symbol cannot be used here} " sub vcl_re...
**** v1   CLI TX|vcl.inline vcl3 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX| sub vcl_recv { { } { 
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.272
***  v1   debug|Could not delete 'vcl_vcl3.1634893375.472360/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Symbol cannot be used here.
**** v1   CLI RX|('Builtin' Line 34 Pos 5)
**** v1   CLI RX|vcl 4.0;
**** v1   CLI RX|----###-
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Symbol cannot be used here")
**   top  === varnish v1 -errvcl {Comparison of different types: INT '!=' ...
**** v1   CLI TX|vcl.inline vcl4 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tif (!req.restarts != req.url) {
**** v1   CLI TX|\t\t\tset req.http.foo = "foo";
**** v1   CLI TX|\t\t}
**** v1   CLI TX|
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.273
***  v1   debug|Could not delete 'vcl_vcl4.1634893375.473284/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Comparison of different types: INT '!=' STRING
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 35)
**** v1   CLI RX|                if (!req.restarts != req.url) {
**** v1   CLI RX|----------------------------------##-----------
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Comparison of different types: INT '!=' STRING")
**   top  === varnish v1 -errvcl {Symbol 'vcl_recv' type (sub) can not be ...
**** v1   CLI TX|vcl.inline vcl5 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tset req.http.foo = vcl_recv;
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.274
***  v1   debug|Could not delete 'vcl_vcl5.1634893375.474210/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Symbol 'vcl_recv' type (sub) can not be used in expression.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 36)
**** v1   CLI RX|                set req.http.foo = vcl_recv;
**** v1   CLI RX|-----------------------------------########-
**** v1   CLI RX|
**** v1   CLI RX|That symbol was defined here:
**** v1   CLI RX|('<vcl.inline>' Line 3 Pos 13)
**** v1   CLI RX|        sub vcl_recv {
**** v1   CLI RX|------------########--
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Symbol 'vcl_recv' type (sub) can not be used in expression.")
**   top  === varnish v1 -errvcl {Operator * not possible on type STRING.}...
**** v1   CLI TX|vcl.inline vcl6 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tset req.http.foo = "bla" * "foo";
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.275
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Operator * not possible on type STRING.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 42)
**** v1   CLI RX|                set req.http.foo = "bla" * "foo";
**** v1   CLI RX|-----------------------------------------#-------
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Operator * not possible on type STRING.")
**   top  === varnish v1 -errvcl {DURATION + INT not possible.} {
***  v1   debug|Could not delete 'vcl_vcl6.1634893375.475161/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl7 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_backend_response {
**** v1   CLI TX|\t\tset req.ttl = req.ttl + beresp.status;
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.276
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|DURATION + INT not possible.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 39) -- (Pos 53)
**** v1   CLI RX|                set req.ttl = req.ttl + beresp.status;
**** v1   CLI RX|--------------------------------------###############-
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("DURATION + INT not possible.")
**   top  === varnish v1 -errvcl {BOOL + BOOL not possible.} {
***  v1   debug|Could not delete 'vcl_vcl7.1634893375.476090/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl8 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_backend_response {
**** v1   CLI TX|\t\tif (beresp.do_gzip + beresp.do_gunzip) {
**** v1   CLI TX|\t\t}
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.277
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|BOOL + BOOL not possible.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 36) -- (Pos 53)
**** v1   CLI RX|                if (beresp.do_gzip + beresp.do_gunzip) {
**** v1   CLI RX|-----------------------------------##################---
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("BOOL + BOOL not possible.")
**   top  === varnish v1 -vcl {
***  v1   debug|Could not delete 'vcl_vcl8.1634893375.477016/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl9 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tset req.http.foo = "foo" + "bar";
**** v1   CLI TX|\t\tset req.http.foo = "foo" + 1;
**** v1   CLI TX|\t\tset req.http.foo = "foo" + 1.5;
**** v1   CLI TX|\t\tset req.http.foo = "foo" + now;
**** v1   CLI TX|
**** v1   CLI TX|\t\tset req.http.foo = now + 1s;
**** v1   CLI TX|\t\tset req.http.foo = now - 1s;
**** v1   CLI TX|
**** v1   CLI TX|\t\tset req.http.foo = now - now;
**** v1   CLI TX|\t\tset req.http.foo = 1 + 1s;
**** v1   CLI TX|
**** v1   CLI TX|\t\tset req.http.foo = 1 + 1;
**** v1   CLI TX|\t\tset req.http.foo = 1 - 1;
**** v1   CLI TX|\t\tset req.http.foo = 1 + -1;
**** v1   CLI TX|\t\tset req.http.foo = 1 - -1;
**** v1   CLI TX|\t\tset req.http.foo = 3 * 2;
**** v1   CLI TX|\t\tset req.http.foo = 3 / 2;
**** v1   CLI TX|\t\tset req.http.foo = 3 * -2;
**** v1   CLI TX|\t\tset req.http.foo = 3 / -2;
**** v1   CLI TX|
**** v1   CLI TX|\t\tset req.http.foo = 3.6 + 1.4;
**** v1   CLI TX|\t\tset req.http.foo = 3.6 - 1.4;
**** v1   CLI TX|\t\tset req.http.foo = 3.6 + -1.4;
**** v1   CLI TX|\t\tset req.http.foo = 3.6 - -1.4;
**** v1   CLI TX|\t\tset req.http.foo = 3.6 * 1.4;
**** v1   CLI TX|\t\tset req.http.foo = 3.6 / 1.4;
**** v1   CLI TX|\t\tset req.http.foo = 3.6 * -1.4;
**** v1   CLI TX|\t\tset req.http.foo = 3.6 / -1.4;
**** v1   CLI TX|
**** v1   CLI TX|\t\tset req.http.foo = 1.0 + 1;
**** v1   CLI TX|\t\tset req.http.foo = 1.0 - 1;
**** v1   CLI TX|\t\tset req.http.foo = 1.0 + -1;
**** v1   CLI TX|\t\tset req.http.foo = 1.0 - -1;
**** v1   CLI TX|\t\tset req.http.foo = 3.0 * 2;
**** v1   CLI TX|\t\tset req.http.foo = 3.0 / 2;
**** v1   CLI TX|\t\tset req.http.foo = 3.0 * -2;
**** v1   CLI TX|\t\tset req.http.foo = 3.0 / -2;
**** v1   CLI TX|
**** v1   CLI TX|\t\tset req.http.foo = req.http.foo + "bar" ~ "bar";
**** v1   CLI TX|\t\tset req.http.foo = req.http.foo + "bar" !~ "bar";
**** v1   CLI TX|
**** v1   CLI TX|\t\tset req.http.foo = "foo" + req.ttl;
**** v1   CLI TX|
**** v1   CLI TX|\t\tset req.http.foo = client.ip + ", " + server.ip;
**** v1   CLI TX|
**** v1   CLI TX|\t\tset req.ttl = -1s;
**** v1   CLI TX|\t\tset req.ttl = 1s;
**** v1   CLI TX|\t\tset req.ttl *= 1.5;
**** v1   CLI TX|\t\tset req.ttl = 1.5 s * 2.5;
**** v1   CLI TX|\t\tset req.ttl = 1.5 s / 2.5;
**** v1   CLI TX|\t\tset req.ttl = 1.5h + 1.5s;
**** v1   CLI TX|\t\tset req.ttl = 1.5h - 1.5s;
**** v1   CLI TX|
**** v1   CLI TX|\t\tif (req.ttl) { }
**** v1   CLI TX|\t\tif (!req.ttl) { }
**** v1   CLI TX|\t\tif (req.ttl > 1d) { }
**** v1   CLI TX|\t\tif (req.ttl < 1d) { }
**** v1   CLI TX|
**** v1   CLI TX|\t\tif (1) { }
**** v1   CLI TX|\t\tif (2 == 3) { }
**** v1   CLI TX|\t\tif (2 < 3) { }
**** v1   CLI TX|\t\tif (2 > 3) { }
**** v1   CLI TX|
**** v1   CLI TX|\t\tif (req.backend_hint == b) { }
**** v1   CLI TX|\t\tif (req.backend_hint != b) { }
**** v1   CLI TX|
**** v1   CLI TX|\t\tif (req.url) { }
**** v1   CLI TX|\t\tif (!req.url) { }
**** v1   CLI TX|\t\tif (req.url == "foo") { }
**** v1   CLI TX|\t\tif (req.url != "foo") { }
**** v1   CLI TX|\t\tif (req.url ~ "foo") { }
**** v1   CLI TX|\t\tif (req.url !~ "foo") { }
**** v1   CLI TX|
**** v1   CLI TX|\t\tif (1) { }
**** v1   CLI TX|\t\telsif (2) { }
**** v1   CLI TX|\t\telseif (3) { }
**** v1   CLI TX|\t\telse if (4) { }
**** v1   CLI TX|\t\telse { }
**** v1   CLI TX|
**** v1   CLI TX|\t\t# regression test for #2729
**** v1   CLI TX|\t\tif (req.grace < 0s || req.grace < 1s && req.grace < 2s) {
**** v1   CLI TX|\t\t\treturn (pass);
**** v1   CLI TX|\t\t}
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.314
***  v1   vsl|No VSL chunk found (child not started ?)
**** dT   0.415
***  v1   vsl|No VSL chunk found (child not started ?)
**** dT   0.490
***  v1   CLI RX  200
**** v1   CLI RX|VCL compiled.
**** v1   CLI TX|vcl.use vcl9
**** dT   0.491
***  v1   CLI RX  200
**** v1   CLI RX|VCL 'vcl9' now active
**   top  === varnish v1 -errvcl {STRING - STRING not possible.} {
**** v1   CLI TX|vcl.inline vcl10 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tset req.http.foo = "foo" - "bar";
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.492
***  v1   debug|Could not delete 'vcl_vcl10.1634893375.691526/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|STRING - STRING not possible.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 42) -- (Pos 48)
**** v1   CLI RX|                set req.http.foo = "foo" - "bar";
**** v1   CLI RX|-----------------------------------------#######-
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("STRING - STRING not possible.")
**   top  === varnish v1 -errvcl {TIME + STRING not possible.} {
**** v1   CLI TX|vcl.inline vcl11 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tset req.ttl = now + "foo";
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.493
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|TIME + STRING not possible.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 35) -- (Pos 41)
**** v1   CLI RX|                set req.ttl = now + "foo";
**** v1   CLI RX|----------------------------------#######-
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("TIME + STRING not possible.")
**   top  === varnish v1 -errvcl {TIME + TIME not possible.} {
***  v1   debug|Could not delete 'vcl_vcl11.1634893375.692628/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl12 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tset req.ttl = now + now;
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.494
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|TIME + TIME not possible.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 35) -- (Pos 39)
**** v1   CLI RX|                set req.ttl = now + now;
**** v1   CLI RX|----------------------------------#####-
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("TIME + TIME not possible.")
**   top  === varnish v1 -errvcl {INT + STRING not possible.} {
***  v1   debug|Could not delete 'vcl_vcl12.1634893375.693585/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl13 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_backend_response {
**** v1   CLI TX|\t\tset beresp.status = 1 + "foo";
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.495
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|INT + STRING not possible.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 39) -- (Pos 45)
**** v1   CLI RX|                set beresp.status = 1 + "foo";
**** v1   CLI RX|--------------------------------------#######-
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("INT + STRING not possible.")
**   top  === varnish v1 -errvcl {INT + TIME not possible.} {
***  v1   debug|Could not delete 'vcl_vcl13.1634893375.694547/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl14 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_backend_response {
**** v1   CLI TX|\t\tset beresp.status = 1 + now;
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.496
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|INT + TIME not possible.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 39) -- (Pos 43)
**** v1   CLI RX|                set beresp.status = 1 + now;
**** v1   CLI RX|--------------------------------------#####-
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("INT + TIME not possible.")
**   top  === varnish v1 -errvcl {DURATION + INT not possible.} {
***  v1   debug|Could not delete 'vcl_vcl14.1634893375.695530/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl15 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tset req.ttl = 1s + 1;
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|DURATION + INT not possible.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 34) -- (Pos 36)
**** v1   CLI RX|                set req.ttl = 1s + 1;
**** v1   CLI RX|---------------------------------###-
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("DURATION + INT not possible.")
**   top  === varnish v1 -errvcl {DURATION + TIME not possible.} {
***  v1   debug|Could not delete 'vcl_vcl15.1634893375.696507/vgc.sym': No such file or directory
**** dT   0.497
**** v1   CLI TX|vcl.inline vcl16 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tset req.ttl = 1s + now;
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|DURATION + TIME not possible.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 34) -- (Pos 38)
**** v1   CLI RX|                set req.ttl = 1s + now;
**** v1   CLI RX|---------------------------------#####-
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("DURATION + TIME not possible.")
**   top  === varnish v1 -errvcl {DURATION + STRING not possible.} {
**** dT   0.498
***  v1   debug|Could not delete 'vcl_vcl16.1634893375.697457/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl17 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tset req.ttl = 1s + "foo";
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.499
***  v1   debug|Could not delete 'vcl_vcl17.1634893375.698474/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|DURATION + STRING not possible.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 34) -- (Pos 40)
**** v1   CLI RX|                set req.ttl = 1s + "foo";
**** v1   CLI RX|---------------------------------#######-
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("DURATION + STRING not possible.")
**   top  === varnish v1 -errvcl {IP + IP not possible.} {
**** v1   CLI TX|vcl.inline vcl18 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tset req.ttl = client.ip + server.ip;
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.500
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|IP + IP not possible.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 41) -- (Pos 51)
**** v1   CLI RX|                set req.ttl = client.ip + server.ip;
**** v1   CLI RX|----------------------------------------###########-
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("IP + IP not possible.")
**   top  === varnish v1 -errvcl {Name of subroutine, 'foo.bar', contains ...
***  v1   debug|Could not delete 'vcl_vcl18.1634893375.699544/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl19 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub foo.bar {
**** v1   CLI TX|\t}
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tcall foo.bar;
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.501
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Name of subroutine, 'foo.bar', contains illegal character '.'
**** v1   CLI RX|('<vcl.inline>' Line 3 Pos 13) -- (Pos 19)
**** v1   CLI RX|        sub foo.bar {
**** v1   CLI RX|------------#######--
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Name of subroutine, 'foo.bar', contains illegal character '.'")
**   top  === varnish v1 -errvcl {The names 'vcl_*' are reserved for subro...
***  v1   debug|Could not delete 'vcl_vcl19.1634893375.700580/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl20 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_bar {
**** v1   CLI TX|\t}
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tcall vcl_bar;
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|The names 'vcl_*' are reserved for subroutines.
**** v1   CLI RX|('<vcl.inline>' Line 3 Pos 13)
**** v1   CLI RX|        sub vcl_bar {
**** v1   CLI RX|------------#######--
**** v1   CLI RX|
**** v1   CLI RX|Valid vcl_* subroutines are:
**** v1   CLI RX|\tvcl_backend_error
**** v1   CLI RX|\tvcl_backend_fetch
**** v1   CLI RX|\tvcl_backend_response
**** v1   CLI RX|\tvcl_deliver
**** v1   CLI RX|\tvcl_fini
**** v1   CLI RX|\tvcl_hash
**** v1   CLI RX|\tvcl_hit
**** v1   CLI RX|\tvcl_init
**** v1   CLI RX|\tvcl_miss
**** v1   CLI RX|\tvcl_pass
**** v1   CLI RX|\tvcl_pipe
**** v1   CLI RX|\tvcl_purge
**** v1   CLI RX|\tvcl_recv
**** v1   CLI RX|\tvcl_synth
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("The names 'vcl_*' are reserved for subroutines.")
**   top  === varnish v1 -errvcl {Function returns VOID} {
***  v1   debug|Could not delete 'vcl_vcl20.1634893375.701505/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl21 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\timport vtc;
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tset req.http.foo = vtc.sleep(1m);
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.503
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Function returns VOID:
**** v1   CLI RX|('<vcl.inline>' Line 5 Pos 45)
**** v1   CLI RX|                set req.http.foo = vtc.sleep(1m);
**** v1   CLI RX|--------------------------------------------#----
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   debug|Could not delete 'vcl_vcl21.1634893375.702427/vgc.sym': No such file or directory
***  v1   Found expected string: ("Function returns VOID")
**   top  === varnish v1 -errvcl {Not available in subroutine 'vcl_recv'.}...
**** v1   CLI TX|vcl.inline vcl22 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\timport blob;
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tblob.encode(HEX, LOWER, req.hash);
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.505
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|('<vcl.inline>' Line 6 Pos 41) -- (Pos 43)
**** v1   CLI RX|                blob.encode(HEX, LOWER, req.hash);
**** v1   CLI RX|----------------------------------------###-------
**** v1   CLI RX|
**** v1   CLI RX|Not available in subroutine 'vcl_recv'.
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Not available in subroutine 'vcl_recv'.")
**   top  === varnish v1 -errvcl {Not available in subroutine 'vcl_hash'.}...
***  v1   debug|Could not delete 'vcl_vcl22.1634893375.703774/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl23 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\timport blob;
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|\tsub vcl_hash {
**** v1   CLI TX|\t\tblob.encode(HEX, LOWER, req.hash);
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.506
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|('<vcl.inline>' Line 6 Pos 41) -- (Pos 43)
**** v1   CLI RX|                blob.encode(HEX, LOWER, req.hash);
**** v1   CLI RX|----------------------------------------###-------
**** v1   CLI RX|
**** v1   CLI RX|Not available in subroutine 'vcl_hash'.
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Not available in subroutine 'vcl_hash'.")
**   top  === varnish v1 -errvcl {Not available in subroutine 'vcl_recv'.}...
**** v1   CLI TX|vcl.inline vcl24 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tset req.http.foo = 100 + beresp.status;
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
***  v1   debug|Could not delete 'vcl_vcl23.1634893375.705621/vgc.sym': No such file or directory
**** dT   0.508
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|('<vcl.inline>' Line 5 Pos 42) -- (Pos 47)
**** v1   CLI RX|                set req.http.foo = 100 + beresp.status;
**** v1   CLI RX|-----------------------------------------######--------
**** v1   CLI RX|
**** v1   CLI RX|Not available in subroutine 'vcl_recv'.
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Not available in subroutine 'vcl_recv'.")
**   top  === varnish v1 -errvcl {
***  v1   debug|Could not delete 'vcl_vcl24.1634893375.707409/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl25 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|\tsub foo { set req.http.foo = 100 + beresp.status; }
**** v1   CLI TX|\tsub vcl_recv { call foo; }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.510
***  v1   debug|Could not delete 'vcl_vcl25.1634893375.709031/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 44) -- (Pos 49)
**** v1   CLI RX|        sub foo { set req.http.foo = 100 + beresp.status; }
**** v1   CLI RX|-------------------------------------------######----------
**** v1   CLI RX|
**** v1   CLI RX|Not available from subroutine 'vcl_recv'.
**** v1   CLI RX|
**** v1   CLI RX|...in subroutine "foo"
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 13)
**** v1   CLI RX|        sub foo { set req.http.foo = 100 + beresp.status; }
**** v1   CLI RX|------------###--------------------------------------------
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...called from "vcl_recv"
**** v1   CLI RX|('<vcl.inline>' Line 5 Pos 29)
**** v1   CLI RX|        sub vcl_recv { call foo; }
**** v1   CLI RX|----------------------------###---
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...which is the "vcl_recv" subroutine
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("
('<vcl.inline>' Line 4 Pos 44) -- (Pos 49)
        sub foo { set req.http.foo = 100 + beresp.status; }
-------------------------------------------######----------

Not available from subroutine 'vcl_recv'.

...in subroutine "foo"
('<vcl.inline>' Line 4 Pos 13)
        sub foo { set req.http.foo = 100 + beresp.status; }
------------###--------------------------------------------


...called from "vcl_recv"
('<vcl.inline>' Line 5 Pos 29)
        sub vcl_recv { call foo; }
----------------------------###---
")
**   top  === varnish v1 -errvcl {
**** v1   CLI TX|vcl.inline vcl26 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|\tsub foo { set req.http.foo = 100 + beresp.status; }
**** v1   CLI TX|\tsub bar { call foo; }
**** v1   CLI TX|\tsub vcl_recv { call bar; }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.511
***  v1   CLI RX  106
***  v1   debug|Could not delete 'vcl_vcl26.1634893375.710771/vgc.sym': No such file or directory
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 44) -- (Pos 49)
**** v1   CLI RX|        sub foo { set req.http.foo = 100 + beresp.status; }
**** v1   CLI RX|-------------------------------------------######----------
**** v1   CLI RX|
**** v1   CLI RX|Not available from subroutine 'vcl_recv'.
**** v1   CLI RX|
**** v1   CLI RX|...in subroutine "foo"
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 13)
**** v1   CLI RX|        sub foo { set req.http.foo = 100 + beresp.status; }
**** v1   CLI RX|------------###--------------------------------------------
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...called from "bar"
**** v1   CLI RX|('<vcl.inline>' Line 5 Pos 24)
**** v1   CLI RX|        sub bar { call foo; }
**** v1   CLI RX|-----------------------###---
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...called from "vcl_recv"
**** v1   CLI RX|('<vcl.inline>' Line 6 Pos 29)
**** v1   CLI RX|        sub vcl_recv { call bar; }
**** v1   CLI RX|----------------------------###---
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...which is the "vcl_recv" subroutine
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("
('<vcl.inline>' Line 4 Pos 44) -- (Pos 49)
        sub foo { set req.http.foo = 100 + beresp.status; }
-------------------------------------------######----------

Not available from subroutine 'vcl_recv'.

...in subroutine "foo"
('<vcl.inline>' Line 4 Pos 13)
        sub foo { set req.http.foo = 100 + beresp.status; }
------------###--------------------------------------------


...called from "bar"
('<vcl.inline>' Line 5 Pos 24)
        sub bar { call foo; }
-----------------------###---


...called from "vcl_recv"
('<vcl.inline>' Line 6 Pos 29)
        sub vcl_recv { call bar; }
----------------------------###---
")
**   top  === varnish v1 -errvcl {Name of ACL, 'foo.bar', contains illegal...
**** dT   0.512
**** v1   CLI TX|vcl.inline vcl27 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tacl foo.bar {
**** v1   CLI TX|\t}
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tif (client.ip ~ foo.bar) {
**** v1   CLI TX|\t\t}
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
***  v1   CLI RX  106
***  v1   debug|Could not delete 'vcl_vcl27.1634893375.712473/vgc.sym': No such file or directory
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Name of ACL, 'foo.bar', contains illegal character '.'
**** v1   CLI RX|('<vcl.inline>' Line 3 Pos 13) -- (Pos 19)
**** v1   CLI RX|        acl foo.bar {
**** v1   CLI RX|------------#######--
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Name of ACL, 'foo.bar', contains illegal character '.'")
**   top  === varnish v1 -errvcl {Expected 'from path ...'} {
**** v1   CLI TX|vcl.inline vcl28 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\timport std to;
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.513
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Expected 'from path ...'
**** v1   CLI RX|('<vcl.inline>' Line 3 Pos 20)
**** v1   CLI RX|        import std to;
**** v1   CLI RX|-------------------##-
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Expected 'from path ...'")
**   top  === varnish v1 -errvcl {INT * BLOB not possible.} {
***  v1   debug|Could not delete 'vcl_vcl28.1634893375.713424/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl29 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\timport blob;
**** v1   CLI TX|\tsub vcl_deliver {
**** v1   CLI TX|\t\tset resp.status = 100 * blob.decode(HEX, encoded="a");
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.515
***  v1   debug|Could not delete 'vcl_vcl29.1634893375.714366/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|INT * BLOB not possible.
**** v1   CLI RX|('<vcl.inline>' Line 5 Pos 39)
**** v1   CLI RX|                set resp.status = 100 * blob.decode(HEX, encoded="a");
**** v1   CLI RX|--------------------------------------#-------------------------------
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("INT * BLOB not possible.")
**   top  === varnish v1 -errvcl {Symbol not found: 'storage.foo'} {
**** v1   CLI TX|vcl.inline vcl30 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_backend_response {
**** v1   CLI TX|\t\tset beresp.storage = storage.foo;
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
***  v1   vsl|No VSL chunk found (child not started ?)
**** dT   0.516
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Symbol not found: 'storage.foo'
**** v1   CLI RX|At: ('<vcl.inline>' Line 4 Pos 38) -- (Pos 48)
**** v1   CLI RX|                set beresp.storage = storage.foo;
**** v1   CLI RX|-------------------------------------###########-
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Symbol not found: 'storage.foo'")
**   top  === varnish v1 -errvcl {Comparison of different types: BACKEND '...
***  v1   debug|Could not delete 'vcl_vcl30.1634893375.715561/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl31 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_backend_response {
**** v1   CLI TX|\t\tset beresp.http.bereq_backend = bereq.backend;
**** v1   CLI TX|\t\tif (bereq.backend == beresp.http.bereq_backend) {
**** v1   CLI TX|\t\t\tset beresp.http.bereq_backend_cmp = "ok";
**** v1   CLI TX|\t\t}
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.517
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Comparison of different types: BACKEND '==' STRING
**** v1   CLI RX|('<vcl.inline>' Line 5 Pos 35)
**** v1   CLI RX|                if (bereq.backend == beresp.http.bereq_backend) {
**** v1   CLI RX|----------------------------------##-----------------------------
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Comparison of different types: BACKEND '==' STRING")
**   top  === varnish v1 -errvcl {'!' must be followed by BOOL, found REAL...
***  v1   debug|Could not delete 'vcl_vcl31.1634893375.716530/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl32 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\timport std;
**** v1   CLI TX|\tsub vcl_recv { if (!std.random(0,1)) { } }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.518
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|'!' must be followed by BOOL, found REAL.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 28) -- (Pos 43)
**** v1   CLI RX|        sub vcl_recv { if (!std.random(0,1)) { } }
**** v1   CLI RX|---------------------------################-------
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("'!' must be followed by BOOL, found REAL.")
**   top  === varnish v1 -errvcl {'&&' must be followed by BOOL, found REA...
**** v1   CLI TX|vcl.inline vcl33 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\timport std;
**** v1   CLI TX|\tsub vcl_recv { if (0 && std.random(0,1)) { } }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
***  v1   debug|Could not delete 'vcl_vcl32.1634893375.717515/vgc.sym': No such file or directory
**** dT   0.519
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|'&&' must be followed by BOOL, found REAL.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 33) -- (Pos 47)
**** v1   CLI RX|        sub vcl_recv { if (0 && std.random(0,1)) { } }
**** v1   CLI RX|--------------------------------###############-------
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("'&&' must be followed by BOOL, found REAL.")
**   top  === varnish v1 -errvcl {'||' must be followed by BOOL, found REA...
***  v1   debug|Could not delete 'vcl_vcl33.1634893375.718870/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl34 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\timport std;
**** v1   CLI TX|\tsub vcl_recv { if (0 || std.random(0,1)) { } }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.520
***  v1   CLI RX  106
***  v1   debug|Could not delete 'vcl_vcl34.1634893375.720112/vgc.sym': No such file or directory
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|'||' must be followed by BOOL, found REAL.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 33) -- (Pos 47)
**** v1   CLI RX|        sub vcl_recv { if (0 || std.random(0,1)) { } }
**** v1   CLI RX|--------------------------------###############-------
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("'||' must be followed by BOOL, found REAL.")
**   top  === varnish v1 -errvcl {'&&' must be preceeded by BOOL, found RE...
**** v1   CLI TX|vcl.inline vcl35 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\timport std;
**** v1   CLI TX|\tsub vcl_recv { if (std.random(0,1) && 0) { } }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.522
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|'&&' must be preceeded by BOOL, found REAL.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 28) -- (Pos 42)
**** v1   CLI RX|        sub vcl_recv { if (std.random(0,1) && 0) { } }
**** v1   CLI RX|---------------------------###############------------
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("'&&' must be preceeded by BOOL, found REAL.")
**   top  === varnish v1 -errvcl {'||' must be preceeded by BOOL, found RE...
***  v1   debug|Could not delete 'vcl_vcl35.1634893375.721347/vgc.sym': No such file or directory
**** v1   CLI TX|vcl.inline vcl36 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\timport std;
**** v1   CLI TX|\tsub vcl_recv { if (std.random(0,1) || 0) { } }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.523
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|'||' must be preceeded by BOOL, found REAL.
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 28) -- (Pos 42)
**** v1   CLI RX|        sub vcl_recv { if (std.random(0,1) || 0) { } }
**** v1   CLI RX|---------------------------###############------------
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   debug|Could not delete 'vcl_vcl36.1634893375.722717/vgc.sym': No such file or directory
***  v1   Found expected string: ("'||' must be preceeded by BOOL, found REAL.")
**   top  === varnish v1 -errvcl {Symbol 'acl' has wrong type (reserved):}...
**** v1   CLI TX|vcl.inline vcl37 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\timport std;
**** v1   CLI TX|\tsub vcl_recv { call acl; }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.524
***  v1   CLI RX  106
***  v1   debug|Could not delete 'vcl_vcl37.1634893375.723950/vgc.sym': No such file or directory
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Symbol 'acl' has wrong type (reserved): 
**** v1   CLI RX|At: ('<vcl.inline>' Line 4 Pos 29) -- (Pos 31)
**** v1   CLI RX|        sub vcl_recv { call acl; }
**** v1   CLI RX|----------------------------###---
**** v1   CLI RX|
**** v1   CLI RX|Symbol was builtin
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Symbol 'acl' has wrong type (reserved):")
**   top  === server s1 {
**   s1   Starting server
**** s1   macro def s1_addr=127.0.0.1
**** s1   macro def s1_port=37291
**** s1   macro def s1_sock=127.0.0.1 37291
*    s1   Listen on 127.0.0.1 37291
**   top  === varnish v1 -vcl+backend {
**** v1   CLI TX|vcl.inline vcl38 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|backend s1 { .host = "127.0.0.1"; .port = "37291"; }
**** v1   CLI TX|
**** v1   CLI TX|
**** v1   CLI TX|\t// Ticket 2727
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tif ((2 - 1) > 0) {
**** v1   CLI TX|\t\t\t# nothing
**** v1   CLI TX|\t\t}
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**   s1   Started on 127.0.0.1 37291 (1 iterations)
**** dT   0.615
***  v1   vsl|No VSL chunk found (child not started ?)
**** dT   0.680
***  v1   CLI RX  200
**** v1   CLI RX|VCL compiled.
**** v1   CLI TX|vcl.use vcl38
***  v1   CLI RX  200
**** v1   CLI RX|VCL 'vcl38' now active
**   top  === varnish v1 -vcl+backend {
**** v1   CLI TX|vcl.inline vcl39 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|backend s1 { .host = "127.0.0.1"; .port = "37291"; }
**** v1   CLI TX|
**** v1   CLI TX|
**** v1   CLI TX|\timport std;
**** v1   CLI TX|\timport debug;
**** v1   CLI TX|\tsub vcl_deliver {
**** v1   CLI TX|\t\t// Ticket 2745
**** v1   CLI TX|\t\tdebug.sethdr(resp.http.rst, req.restarts);
**** v1   CLI TX|\t\tset resp.http.foo =
**** v1   CLI TX|\t\t    (resp.http.foo + resp.http.bar) == ("X" + resp.http.foo);
**** v1   CLI TX|\t\t// Ticket 2809
**** v1   CLI TX|\t\tset resp.http.bar = true == false;
**** v1   CLI TX|\t}
**** v1   CLI TX|\tsub vcl_deliver {
**** v1   CLI TX|\t\tset resp.http.p = (0 + 9223372036854775807);
**** v1   CLI TX|\t\tset resp.http.n = (0 - 9223372036854775807);
**** v1   CLI TX|\t\tif (resp.status == -(-200)) {
**** v1   CLI TX|\t\t\tset resp.http.o = -std.integer("-200");
**** v1   CLI TX|\t\t}
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.715
***  v1   vsl|No VSL chunk found (child not started ?)
**** dT   0.815
***  v1   vsl|No VSL chunk found (child not started ?)
**** dT   0.876
***  v1   CLI RX  200
**** v1   CLI RX|VCL compiled.
**** v1   CLI TX|vcl.use vcl39
***  v1   CLI RX  200
**** v1   CLI RX|VCL 'vcl39' now active
**   v1   Start
**** v1   CLI TX|start
**** dT   0.879
***  v1   debug|Debug: Child (108051) Started
**** dT   0.906
***  v1   CLI RX  200
***  v1   wait-running
**** v1   CLI TX|status
***  v1   debug|Info: Child (108051) said Child starts
***  v1   CLI RX  200
**** v1   CLI RX|Child in state running
**** v1   CLI TX|debug.listen_address
***  v1   CLI RX  200
**** v1   CLI RX|127.0.0.1 36927
**** v1   CLI TX|debug.xid 999
***  v1   CLI RX  200
**** v1   CLI RX|XID is 999
**** v1   CLI TX|debug.listen_address
**** dT   0.907
***  v1   CLI RX  200
**** v1   CLI RX|127.0.0.1 36927
**   v1   Listen on 127.0.0.1 36927
**** v1   macro def v1_addr=127.0.0.1
**** v1   macro def v1_port=36927
**** v1   macro def v1_sock=127.0.0.1 36927
**** dT   0.915
**** v1   vsl|          0 CLI             - Rd vcl.load "vcl1" vcl_vcl1.1634893375.315121/vgc.so 1auto
**** v1   vsl|          0 CLI             - Wr 200 52 Loaded "vcl_vcl1.1634893375.315121/vgc.so" as "vcl1"
**** v1   vsl|          0 CLI             - Rd vcl.load "vcl9" vcl_vcl9.1634893375.478050/vgc.so 1auto
**** v1   vsl|          0 CLI             - Wr 200 52 Loaded "vcl_vcl9.1634893375.478050/vgc.so" as "vcl9"
**** v1   vsl|          0 CLI             - Rd vcl.load "vcl38" vcl_vcl38.1634893375.725300/vgc.so 1auto
**** v1   vsl|          0 CLI             - Wr 200 54 Loaded "vcl_vcl38.1634893375.725300/vgc.so" as "vcl38"
**** v1   vsl|          0 CLI             - Rd vcl.load "vcl39" vcl_vcl39.1634893375.881171/vgc.so 1auto
**** v1   vsl|          0 Debug           - vcl39: VCL_EVENT_WARM
**** v1   vsl|          0 CLI             - Wr 200 54 Loaded "vcl_vcl39.1634893375.881171/vgc.so" as "vcl39"
**** v1   vsl|          0 CLI             - Rd vcl.use "vcl39"
**** v1   vsl|          0 CLI             - Wr 200 0 
**** v1   vsl|          0 CLI             - Rd start
**** v1   vsl|          0 CLI             - Wr 200 0 
**** v1   vsl|          0 CLI             - Rd debug.listen_address 
**** v1   vsl|          0 CLI             - Wr 200 16 127.0.0.1 36927

**** v1   vsl|          0 CLI             - Rd debug.xid 999 
**** v1   vsl|          0 CLI             - Wr 200 10 XID is 999
**** v1   vsl|          0 CLI             - Rd debug.listen_address 
**** v1   vsl|          0 CLI             - Wr 200 16 127.0.0.1 36927

**** dT   1.007
**   top  === client c1 {
**   c1   Starting client
**   c1   Waiting for client
**   c1   Started on 127.0.0.1 36927 (1 iterations)
***  c1   Connect to 127.0.0.1 36927
***  c1   connected fd 17 from 127.0.0.1 60228 to 127.0.0.1 36927
**   c1   === txreq
**** c1   txreq|GET / HTTP/1.1\r
**** c1   txreq|Host: 127.0.0.1\r
**** c1   txreq|\r
**   c1   === rxresp
**** dT   1.008
***  s1   accepted fd 14 127.0.0.1 40222
**   s1   === rxreq
**** s1   rxhdr|GET / HTTP/1.1\r
**** s1   rxhdr|X-Forwarded-For: 127.0.0.1\r
**** s1   rxhdr|host: 127.0.0.1\r
**** s1   rxhdr|Accept-Encoding: gzip\r
**** s1   rxhdr|X-Varnish: 1002\r
**** s1   rxhdr|\r
**** s1   rxhdrlen = 103
**** s1   http[ 0] |GET
**** s1   http[ 1] |/
**** s1   http[ 2] |HTTP/1.1
**** s1   http[ 3] |X-Forwarded-For: 127.0.0.1
**** s1   http[ 4] |host: 127.0.0.1
**** s1   http[ 5] |Accept-Encoding: gzip
**** s1   http[ 6] |X-Varnish: 1002
**** s1   bodylen = 0
**   s1   === txresp -hdr "bar: X"
**** s1   txresp|HTTP/1.1 200 OK\r
**** s1   txresp|bar: X\r
**** s1   txresp|Content-Length: 0\r
**** s1   txresp|\r
***  s1   shutting fd 14
**   s1   Ending
**** dT   1.015
**** v1   vsl|       1000 Begin           c sess 0 HTTP/1
**** v1   vsl|       1000 SessOpen        c 127.0.0.1 60228 a0 127.0.0.1 36927 1634893376.208189 25
**** v1   vsl|       1000 Link            c req 1001 rxreq
**** dT   1.020
**** c1   rxhdr|HTTP/1.1 200 OK\r
**** c1   rxhdr|Content-Length: 0\r
**** c1   rxhdr|Date: Fri, 22 Oct 2021 09:02:56 GMT\r
**** c1   rxhdr|X-Varnish: 1001\r
**** c1   rxhdr|Age: 0\r
**** c1   rxhdr|Via: 1.1 varnish (Varnish/6.5)\r
**** c1   rxhdr|rst:0\r
**** c1   rxhdr|foo: true\r
**** c1   rxhdr|bar: false\r
**** c1   rxhdr|p: 9223372036854775807\r
**** c1   rxhdr|n: -9223372036854775807\r
**** c1   rxhdr|o: 200\r
**** c1   rxhdr|Accept-Ranges: bytes\r
**** c1   rxhdr|Connection: keep-alive\r
**** c1   rxhdr|\r
**** c1   rxhdrlen = 265
**** c1   http[ 0] |HTTP/1.1
**** c1   http[ 1] |200
**** c1   http[ 2] |OK
**** c1   http[ 3] |Content-Length: 0
**** c1   http[ 4] |Date: Fri, 22 Oct 2021 09:02:56 GMT
**** c1   http[ 5] |X-Varnish: 1001
**** c1   http[ 6] |Age: 0
**** c1   http[ 7] |Via: 1.1 varnish (Varnish/6.5)
**** c1   http[ 8] |rst:0
**** c1   http[ 9] |foo: true
**** c1   http[10] |bar: false
**** c1   http[11] |p: 9223372036854775807
**** c1   http[12] |n: -9223372036854775807
**** c1   http[13] |o: 200
**** c1   http[14] |Accept-Ranges: bytes
**** c1   http[15] |Connection: keep-alive
**** c1   bodylen = 0
**   c1   === expect resp.http.rst == "0"
**** c1   EXPECT resp.http.rst (0) == "0" match
**   c1   === expect resp.http.foo == "true"
**** c1   EXPECT resp.http.foo (true) == "true" match
**   c1   === expect resp.http.bar == "false"
**** c1   EXPECT resp.http.bar (false) == "false" match
**   c1   === expect resp.http.p == 9223372036854775807
**** c1   EXPECT resp.http.p (9223372036854775807) == "9223372036854775807" match
**   c1   === expect resp.http.n == -9223372036854775807
**** c1   EXPECT resp.http.n (-9223372036854775807) == "-9223372036854775807" match
**   c1   === expect resp.http.o == 200
**** c1   EXPECT resp.http.o (200) == "200" match
***  c1   closing fd 17
**   c1   Ending
**   top  === varnish v1 -vcl {
**** v1   CLI TX|vcl.inline vcl40 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\timport std;
**** v1   CLI TX|\tbackend be none;
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\treturn (synth(200));
**** v1   CLI TX|\t}
**** v1   CLI TX|\tsub vcl_synth {
**** v1   CLI TX|\t\tif (req.url ~ "double-minus") {
**** v1   CLI TX|\t\t\tset resp.status = -(-204);
**** v1   CLI TX|\t\t}
**** v1   CLI TX|\t\tif (req.url ~ "minus-std") {
**** v1   CLI TX|\t\t\tset resp.status = -std.integer("-204");
**** v1   CLI TX|\t\t}
**** v1   CLI TX|\t\treturn (deliver);
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   1.116
**** v1   vsl|       1002 Begin           b bereq 1001 fetch
**** v1   vsl|       1002 VCL_use         b vcl39
**** v1   vsl|       1002 Timestamp       b Start: 1634893376.208404 0.000000 0.000000
**** v1   vsl|       1002 BereqMethod     b GET
**** v1   vsl|       1002 BereqURL        b /
**** v1   vsl|       1002 BereqProtocol   b HTTP/1.1
**** v1   vsl|       1002 BereqHeader     b X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1002 BereqHeader     b host: 127.0.0.1
**** v1   vsl|       1002 BereqHeader     b Accept-Encoding: gzip
**** v1   vsl|       1002 BereqHeader     b X-Varnish: 1002
**** v1   vsl|       1002 VCL_call        b BACKEND_FETCH
**** v1   vsl|       1002 VCL_return      b fetch
**** v1   vsl|       1002 BackendOpen     b 28 s1 127.0.0.1 37291 127.0.0.1 40222 connect
**** v1   vsl|       1002 Timestamp       b Bereq: 1634893376.208627 0.000222 0.000222
**** v1   vsl|       1002 Timestamp       b Beresp: 1634893376.209066 0.000662 0.000439
**** v1   vsl|       1002 BerespProtocol  b HTTP/1.1
**** v1   vsl|       1002 BerespStatus    b 200
**** v1   vsl|       1002 BerespReason    b OK
**** v1   vsl|       1002 BerespHeader    b bar: X
**** v1   vsl|       1002 BerespHeader    b Content-Length: 0
**** v1   vsl|       1002 BerespHeader    b Date: Fri, 22 Oct 2021 09:02:56 GMT
**** v1   vsl|       1002 TTL             b RFC 120 10 0 1634893376 1634893376 1634893376 0 0 cacheable
**** v1   vsl|       1002 VCL_call        b BACKEND_RESPONSE
**** v1   vsl|       1002 VCL_return      b deliver
**** v1   vsl|       1002 Filters         b 
**** v1   vsl|       1002 Storage         b malloc s0
**** v1   vsl|       1002 Fetch_Body      b 0 none -
**** v1   vsl|       1002 BackendClose    b 28 s1 recycle
**** v1   vsl|       1002 Timestamp       b BerespBody: 1634893376.219365 0.010960 0.010298
**** v1   vsl|       1002 Length          b 0
**** v1   vsl|       1002 BereqAcct       b 103 0 103 46 0 46
**** v1   vsl|       1002 End             b 
**** v1   vsl|          0 ExpKill         - EXP_Inbox flg=1e p=0x7fe67c010fb0 e=0.000000 f=0x0
**** v1   vsl|          0 ExpKill         - EXP_When p=0x7fe67c010fb0 e=1634893506.209067 f=0x1e
**** v1   vsl|          0 ExpKill         - EXP_expire p=0x7fe67c010fb0 e=129.989663 f=0x0
**** v1   vsl|       1001 Begin           c req 1000 rxreq
**** v1   vsl|       1001 Timestamp       c Start: 1634893376.208295 0.000000 0.000000
**** v1   vsl|       1001 Timestamp       c Req: 1634893376.208295 0.000000 0.000000
**** v1   vsl|       1001 VCL_use         c vcl39
**** v1   vsl|       1001 ReqStart        c 127.0.0.1 60228 a0
**** v1   vsl|       1001 ReqMethod       c GET
**** v1   vsl|       1001 ReqURL          c /
**** v1   vsl|       1001 ReqProtocol     c HTTP/1.1
**** v1   vsl|       1001 ReqHeader       c Host: 127.0.0.1
**** v1   vsl|       1001 ReqHeader       c X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1001 VCL_call        c RECV
**** v1   vsl|       1001 ReqUnset        c Host: 127.0.0.1
**** v1   vsl|       1001 ReqHeader       c host: 127.0.0.1
**** v1   vsl|       1001 VCL_return      c hash
**** v1   vsl|       1001 VCL_call        c HASH
**** v1   vsl|       1001 VCL_return      c lookup
**** v1   vsl|       1001 VCL_call        c MISS
**** v1   vsl|       1001 VCL_return      c fetch
**** v1   vsl|       1001 Link            c bereq 1002 fetch
**** v1   vsl|       1001 Timestamp       c Fetch: 1634893376.219401 0.011106 0.011106
**** v1   vsl|       1001 RespProtocol    c HTTP/1.1
**** v1   vsl|       1001 RespStatus      c 200
**** v1   vsl|       1001 RespReason      c OK
**** v1   vsl|       1001 RespHeader      c bar: X
**** v1   vsl|       1001 RespHeader      c Content-Length: 0
**** v1   vsl|       1001 RespHeader      c Date: Fri, 22 Oct 2021 09:02:56 GMT
**** v1   vsl|       1001 RespHeader      c X-Varnish: 1001
**** v1   vsl|       1001 RespHeader      c Age: 0
**** v1   vsl|       1001 RespHeader      c Via: 1.1 varnish (Varnish/6.5)
**** v1   vsl|       1001 VCL_call        c DELIVER
**** v1   vsl|       1001 RespHeader      c rst:0
**** v1   vsl|       1001 RespHeader      c foo: true
**** v1   vsl|       1001 RespUnset       c bar: X
**** v1   vsl|       1001 RespHeader      c bar: false
**** v1   vsl|       1001 RespHeader      c p: 9223372036854775807
**** v1   vsl|       1001 RespHeader      c n: -9223372036854775807
**** v1   vsl|       1001 RespHeader      c o: 200
**** v1   vsl|       1001 VCL_return      c deliver
**** v1   vsl|       1001 Timestamp       c Process: 1634893376.219459 0.011163 0.000057
**** v1   vsl|       1001 Filters         c 
**** v1   vsl|       1001 RespHeader      c Accept-Ranges: bytes
**** v1   vsl|       1001 RespHeader      c Connection: keep-alive
**** v1   vsl|       1001 Timestamp       c Resp: 1634893376.219548 0.011252 0.000088
**** v1   vsl|       1001 ReqAcct         c 35 0 35 265 0 265
**** v1   vsl|       1001 End             c 
**** v1   vsl|       1000 SessClose       c REM_CLOSE 0.012
**** v1   vsl|       1000 End             c 
**** dT   1.189
***  v1   CLI RX  200
**** v1   CLI RX|VCL compiled.
**** v1   CLI TX|vcl.use vcl40
***  v1   CLI RX  200
**** v1   CLI RX|VCL 'vcl40' now active
**   top  === client c1 {
**   c1   Starting client
**   c1   Waiting for client
**** dT   1.190
**   c1   Started on 127.0.0.1 36927 (1 iterations)
***  c1   Connect to 127.0.0.1 36927
***  c1   connected fd 14 from 127.0.0.1 60232 to 127.0.0.1 36927
**   c1   === txreq -url "/double-minus"
**** c1   txreq|GET /double-minus HTTP/1.1\r
**** c1   txreq|Host: 127.0.0.1\r
**** c1   txreq|\r
**   c1   === rxresp
**** c1   rxhdr|HTTP/1.1 204 No Content\r
**** c1   rxhdr|Date: Fri, 22 Oct 2021 09:02:56 GMT\r
**** c1   rxhdr|Server: Varnish\r
**** c1   rxhdr|X-Varnish: 1004\r
**** c1   rxhdr|Connection: keep-alive\r
**** c1   rxhdr|\r
**** c1   rxhdrlen = 122
**** c1   http[ 0] |HTTP/1.1
**** c1   http[ 1] |204
**** c1   http[ 2] |No Content
**** c1   http[ 3] |Date: Fri, 22 Oct 2021 09:02:56 GMT
**** c1   http[ 4] |Server: Varnish
**** c1   http[ 5] |X-Varnish: 1004
**** c1   http[ 6] |Connection: keep-alive
**** c1   bodylen = 0
**   c1   === expect resp.status == 204
**** c1   EXPECT resp.status (204) == "204" match
**   c1   === txreq -url "/minus-std"
**** c1   txreq|GET /minus-std HTTP/1.1\r
**** c1   txreq|Host: 127.0.0.1\r
**** c1   txreq|\r
**   c1   === rxresp
**** dT   1.191
**** c1   rxhdr|HTTP/1.1 204 No Content\r
**** c1   rxhdr|Date: Fri, 22 Oct 2021 09:02:56 GMT\r
**** c1   rxhdr|Server: Varnish\r
**** c1   rxhdr|X-Varnish: 1005\r
**** c1   rxhdr|Connection: keep-alive\r
**** c1   rxhdr|\r
**** c1   rxhdrlen = 122
**** c1   http[ 0] |HTTP/1.1
**** c1   http[ 1] |204
**** c1   http[ 2] |No Content
**** c1   http[ 3] |Date: Fri, 22 Oct 2021 09:02:56 GMT
**** c1   http[ 4] |Server: Varnish
**** c1   http[ 5] |X-Varnish: 1005
**** c1   http[ 6] |Connection: keep-alive
**** c1   bodylen = 0
**   c1   === expect resp.status == 204
**** c1   EXPECT resp.status (204) == "204" match
***  c1   closing fd 14
**   c1   Ending
*    top  RESETTING after ./tests/v00020.vtc
**   s1   Waiting for server (13/-1)
**   v1   Wait
**** v1   CLI TX|backend.list
***  v1   CLI RX  200
**** v1   CLI RX|Backend name   Admin    Probe    Health    Last change
**   v1   Stop
**** v1   CLI TX|stop
**** dT   1.216
**** v1   vsl|          0 CLI             - Rd vcl.load vcl40 vcl_vcl40.1634893376.220727/vgc.so 1auto
**** v1   vsl|          0 CLI             - Wr 200 54 Loaded "vcl_vcl40.1634893376.220727/vgc.so" as "vcl40"
**** v1   vsl|          0 CLI             - Rd vcl.use vcl40
**** v1   vsl|          0 CLI             - Wr 200 0 
**** v1   vsl|       1003 Begin           c sess 0 HTTP/1
**** v1   vsl|       1003 SessOpen        c 127.0.0.1 60232 a0 127.0.0.1 36927 1634893376.390592 26
**** v1   vsl|       1003 Link            c req 1004 rxreq
**** v1   vsl|       1004 Begin           c req 1003 rxreq
**** v1   vsl|       1004 Timestamp       c Start: 1634893376.390685 0.000000 0.000000
**** v1   vsl|       1004 Timestamp       c Req: 1634893376.390685 0.000000 0.000000
**** v1   vsl|       1004 VCL_use         c vcl40
**** v1   vsl|       1004 ReqStart        c 127.0.0.1 60232 a0
**** v1   vsl|       1004 ReqMethod       c GET
**** v1   vsl|       1004 ReqURL          c /double-minus
**** v1   vsl|       1004 ReqProtocol     c HTTP/1.1
**** v1   vsl|       1004 ReqHeader       c Host: 127.0.0.1
**** v1   vsl|       1004 ReqHeader       c X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1004 VCL_call        c RECV
**** v1   vsl|       1004 VCL_return      c synth
**** v1   vsl|       1004 VCL_call        c HASH
**** v1   vsl|       1004 VCL_return      c lookup
**** v1   vsl|       1004 RespProtocol    c HTTP/1.1
**** v1   vsl|       1004 RespStatus      c 200
**** v1   vsl|       1004 RespReason      c OK
**** v1   vsl|       1004 RespHeader      c Date: Fri, 22 Oct 2021 09:02:56 GMT
**** v1   vsl|       1004 RespHeader      c Server: Varnish
**** v1   vsl|       1004 RespHeader      c X-Varnish: 1004
**** v1   vsl|       1004 VCL_call        c SYNTH
**** v1   vsl|       1004 RespStatus      c 204
**** v1   vsl|       1004 RespReason      c No Content
**** v1   vsl|       1004 VCL_return      c deliver
**** v1   vsl|       1004 Timestamp       c Process: 1634893376.390730 0.000044 0.000044
**** v1   vsl|       1004 RespHeader      c Content-Length: 0
**** v1   vsl|       1004 Storage         c malloc Transient
**** v1   vsl|       1004 Filters         c 
**** v1   vsl|       1004 RespUnset       c Content-Length: 0
**** v1   vsl|       1004 RespHeader      c Connection: keep-alive
**** v1   vsl|       1004 Timestamp       c Resp: 1634893376.390765 0.000079 0.000034
**** v1   vsl|       1004 ReqAcct         c 47 0 47 122 0 122
**** v1   vsl|       1004 End             c 
**** v1   vsl|       1003 Link            c req 1005 rxreq
**** v1   vsl|       1005 Begin           c req 1003 rxreq
**** v1   vsl|       1005 Timestamp       c Start: 1634893376.391264 0.000000 0.000000
**** v1   vsl|       1005 Timestamp       c Req: 1634893376.391264 0.000000 0.000000
**** v1   vsl|       1005 VCL_use         c vcl40
**** v1   vsl|       1005 ReqStart        c 127.0.0.1 60232 a0
**** v1   vsl|       1005 ReqMethod       c GET
**** v1   vsl|       1005 ReqURL          c /minus-std
**** v1   vsl|       1005 ReqProtocol     c HTTP/1.1
**** v1   vsl|       1005 ReqHeader       c Host: 127.0.0.1
**** v1   vsl|       1005 ReqHeader       c X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1005 VCL_call        c RECV
**** v1   vsl|       1005 VCL_return      c synth
**** v1   vsl|       1005 VCL_call        c HASH
**** v1   vsl|       1005 VCL_return      c lookup
**** v1   vsl|       1005 RespProtocol    c HTTP/1.1
**** v1   vsl|       1005 RespStatus      c 200
**** v1   vsl|       1005 RespReason      c OK
**** v1   vsl|       1005 RespHeader      c Date: Fri, 22 Oct 2021 09:02:56 GMT
**** v1   vsl|       1005 RespHeader      c Server: Varnish
**** v1   vsl|       1005 RespHeader      c X-Varnish: 1005
**** v1   vsl|       1005 VCL_call        c SYNTH
**** v1   vsl|       1005 RespStatus      c 204
**** v1   vsl|       1005 RespReason      c No Content
**** v1   vsl|       1005 VCL_return      c deliver
**** v1   vsl|       1005 Timestamp       c Process: 1634893376.391286 0.000022 0.000022
**** v1   vsl|       1005 RespHeader      c Content-Length: 0
**** v1   vsl|       1005 Storage         c malloc Transient
**** v1   vsl|       1005 Filters         c 
**** v1   vsl|       1005 RespUnset       c Content-Length: 0
**** v1   vsl|       1005 RespHeader      c Connection: keep-alive
**** v1   vsl|       1005 Timestamp       c Resp: 1634893376.391307 0.000043 0.000020
**** v1   vsl|       1005 ReqAcct         c 44 0 44 122 0 122
**** v1   vsl|       1005 End             c 
**** v1   vsl|       1003 SessClose       c REM_CLOSE 0.001
**** v1   vsl|       1003 End             c 
**** v1   vsl|          0 CLI             - Rd backend.list 
**** v1   vsl|          0 CLI             - Wr 200 55 Backend name   Admin    Probe    Health    Last change

**** dT   1.234
***  v1   debug|Debug: Stopping Child
**** dT   1.316
**** v1   vsl|          0 CLI             - EOF on CLI connection, worker stops
**** dT   2.234
***  v1   debug|Info: Child (108051) ended
***  v1   debug|Info: Child (108051) said Child dies
***  v1   debug|Debug: Child cleanup complete
***  v1   CLI RX  200
***  v1   wait-stopped
**** v1   CLI TX|status
**** dT   2.235
***  v1   CLI RX  200
**** v1   CLI RX|Child in state stopped
**** v1   CLI TX|panic.clear
***  v1   CLI RX  300
**** v1   CLI RX|No panic to clear
***  v1   debug|Info: manager stopping child
***  v1   debug|Info: manager dies
**** v1   STDOUT EOF
**** dT   2.318
**   v1   WAIT4 pid=107870 status=0x0000 (user 0.806494 sys 0.128459)
*    top  TEST ./tests/v00020.vtc completed
#    top  TEST ./tests/v00020.vtc passed (2.319)
