**** dT   0.000
*    top  TEST ./tests/m00040.vtc starting
**** top  extmacro def pwd=/root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest
**** top  extmacro def localhost=127.0.0.1
**** top  extmacro def bad_backend=127.0.0.1 45911
**** top  extmacro def bad_ip=192.0.2.255
**** top  extmacro def topbuild=/root/rpmbuild/BUILD/varnish-6.5.2
**** top  macro def testdir=/root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest/./tests
**** top  macro def tmpdir=/tmp/vtc.71293.79634e98
**   top  === varnishtest "VMOD blob decode() n chars with URL"
*    top  VTEST VMOD blob decode() n chars with URL
**   top  === varnish v1 -vcl {
**** dT   0.004
**   v1   Launch
***  v1   CMD: cd ${pwd} && exec varnishd  -d -n /tmp/vtc.71293.79634e98/v1 -l 2m -p auto_restart=off -p syslog_cli_traffic=off -p sigsegv_handler=on -p thread_pool_min=10 -p debug=+vtc_mode -p vsl_mask=+Debug -a '127.0.0.1:0' -M '127.0.0.1 37787' -P /tmp/vtc.71293.79634e98/v1/varnishd.pid -p vmod_path=/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_blob/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_cookie/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_std/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_vtc/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_unix/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_proxy/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_purge/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_directors/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_debug/.libs 
***  v1   CMD: cd /root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest && exec varnishd  -d -n /tmp/vtc.71293.79634e98/v1 -l 2m -p auto_restart=off -p syslog_cli_traffic=off -p sigsegv_handler=on -p thread_pool_min=10 -p debug=+vtc_mode -p vsl_mask=+Debug -a '127.0.0.1:0' -M '127.0.0.1 37787' -P /tmp/vtc.71293.79634e98/v1/varnishd.pid -p vmod_path=/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_blob/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_cookie/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_std/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_vtc/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_unix/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_proxy/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_purge/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_directors/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_debug/.libs 
***  v1   PID: 71312
**** v1   macro def v1_pid=71312
**** v1   macro def v1_name=/tmp/vtc.71293.79634e98/v1
**** dT   0.011
***  v1   debug|Debug: Version: varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
***  v1   debug|Debug: Platform: Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
***  v1   debug|200 321     
***  v1   debug|-----------------------------
***  v1   debug|Varnish Cache CLI 1.0
***  v1   debug|-----------------------------
***  v1   debug|Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
***  v1   debug|varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
***  v1   debug|
***  v1   debug|Type 'help' for command list.
***  v1   debug|Type 'quit' to close CLI session.
***  v1   debug|Type 'start' to launch worker process.
***  v1   debug|
**** dT   0.110
**** v1   CLIPOLL 1 0x1 0x0
***  v1   CLI connection fd = 5
***  v1   CLI RX  107
**** v1   CLI RX|cnfjboghuzxtwajjzhmatxsaitynxvvg
**** v1   CLI RX|
**** v1   CLI RX|Authentication required.
**** v1   CLI TX|auth 370a91924c9465eb0238f25483a5548d75b4bceaf277194796b539b901e67df2
**** dT   0.111
***  v1   CLI RX  200
**** v1   CLI RX|-----------------------------
**** v1   CLI RX|Varnish Cache CLI 1.0
**** v1   CLI RX|-----------------------------
**** v1   CLI RX|Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
**** v1   CLI RX|varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
**** v1   CLI RX|
**** v1   CLI RX|Type 'help' for command list.
**** v1   CLI RX|Type 'quit' to close CLI session.
**** v1   CLI RX|Type 'start' to launch worker process.
**** v1   CLI TX|vcl.inline vcl1 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\timport blob;
**** v1   CLI TX|\timport std;
**** v1   CLI TX|\tbackend b None;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t  return(synth(200));
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_synth {
**** v1   CLI TX|\t    set req.http.urllcfoobar = "foo%3abar%3abaz%3aquux";
**** v1   CLI TX|\t    set req.http.urlucfoobar = "foo%3Abar%3Abaz%3Aquux";
**** v1   CLI TX|\t    set req.http.urlhobbeslc = "Man%20is%20distinguished%2c%20not%20only%20by%20his%20reason%2c%20but%20by%20this%20singular%20passion%20from%20other%20animals%2c%20which%20is%20a%20lust%20of%20the%20mind%2c%20that%20by%20a%20perseverance%20of%20delight%20in%20the%20continued%20and%20indefatigable%20generation%20of%20knowledge%2c%20exceeds%20the%20short%20vehemence%20of%20any%20carnal%20pleasure.";
**** v1   CLI TX|\t    set req.http.urlhobbesuc = "Man%20is%20distinguished%2C%20not%20only%20by%20his%20reason%2C%20but%20by%20this%20singular%20passion%20from%20other%20animals%2C%20which%20is%20a%20lust%20of%20the%20mind%2C%20that%20by%20a%20perseverance%20of%20delight%20in%20the%20continued%20and%20indefatigable%20generation%20of%20knowledge%2C%20exceeds%20the%20short%20vehemence%20of%20any%20carnal%20pleasure.";
**** v1   CLI TX|\t    set req.http.urllcumlauts = "%c3%9cbergr%c3%b6%c3%9fentr%c3%a4ger";
**** v1   CLI TX|\t    set req.http.urlucumlauts = "%C3%9Cbergr%C3%B6%C3%9Fentr%C3%A4ger";
**** v1   CLI TX|\t    set req.http.urllcphk = "sm%c3%a5b%c3%b8rnsp%c3%a6dagog";
**** v1   CLI TX|\t    set req.http.urlucphk = "sm%C3%A5b%C3%B8rnsp%C3%A6dagog";
**** v1   CLI TX|\t    set req.http.urllcutf8 = "%e6%97%a5%e6%89%bc%e8%aa%9e";
**** v1   CLI TX|\t    set req.http.urlucutf8 = "%E6%97%A5%E6%89%BC%E8%AA%9E";
**** v1   CLI TX|\t    set req.http.urlalluc = "%00%01%02%03%04%05%06%07%08%09%0A%0B%0C%0D%0E%0F%10%11%12%13%14%15%16%17%18%19%1A%1B%1C%1D%1E%1F%20%21%22%23%24%25%26%27%28%29%2A%2B%2C-.%2F0123456789%3A%3B%3C%3D%3E%3F%40ABCDEFGHIJKLMNOPQRSTUVWXYZ%5B%5C%5D%5E_%60abcdefghijklmnopqrstuvwxyz%7B%7C%7D~%7F%80%81%82%83%84%85%86%87%88%89%8A%8B%8C%8D%8E%8F%90%91%92%93%94%95%96%97%98%99%9A%9B%9C%9D%9E%9F%A0%A1%A2%A3%A4%A5%A6%A7%A8%A9%AA%AB%AC%AD%AE%AF%B0%B1%B2%B3%B4%B5%B6%B7%B8%B9%BA%BB%BC%BD%BE%BF%C0%C1%C2%C3%C4%C5%C6%C7%C8%C9%CA%CB%CC%CD%CE%CF%D0%D1%D2%D3%D4%D5%D6%D7%D8%D9%DA%DB%DC%DD%DE%DF%E0%E1%E2%E3%E4%E5%E6%E7%E8%E9%EA%EB%EC%ED%EE%EF%F0%F1%F2%F3%F4%F5%F6%F7%F8%F9%FA%FB%FC%FD%FE%FF";
**** v1   CLI TX|\t    set req.http.urlalllc = "%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f%20%21%22%23%24%25%26%27%28%29%2a%2b%2c-.%2f0123456789%3a%3b%3c%3d%3e%3f%40ABCDEFGHIJKLMNOPQRSTUVWXYZ%5b%5c%5d%5e_%60abcdefghijklmnopqrstuvwxyz%7b%7c%7d~%7f%80%81%82%83%84%85%86%87%88%89%8a%8b%8c%8d%8e%8f%90%91%92%93%94%95%96%97%98%99%9a%9b%9c%9d%9e%9f%a0%a1%a2%a3%a4%a5%a6%a7%a8%a9%aa%ab%ac%ad%ae%af%b0%b1%b2%b3%b4%b5%b6%b7%b8%b9%ba%bb%bc%bd%be%bf%c0%c1%c2%c3%c4%c5%c6%c7%c8%c9%ca%cb%cc%cd%ce%cf%d0%d1%d2%d3%d4%d5%d6%d7%d8%d9%da%db%dc%dd%de%df%e0%e1%e2%e3%e4%e5%e6%e7%e8%e9%ea%eb%ec%ed%ee%ef%f0%f1%f2%f3%f4%f5%f6%f7%f8%f9%fa%fb%fc%fd%fe%ff";
**** v1   CLI TX|
**** v1   CLI TX|\t    set resp.http.decuc =
**** v1   CLI TX|\t      blob.encode(IDENTITY,
**** v1   CLI TX|\t\t\t  blob=blob.decode(URL, 9, req.http.urlucfoobar));
**** v1   CLI TX|
**** v1   CLI TX|\t    set resp.http.declc =
**** v1   CLI TX|\t      blob.encode(IDENTITY,
**** v1   CLI TX|\t\t\t  blob=blob.decode(URL, 12, req.http.urllcfoobar));
**** v1   CLI TX|
**** v1   CLI TX|\t    set resp.http.dechobbesuc =
**** v1   CLI TX|\t      blob.encode(IDENTITY,
**** v1   CLI TX|\t\t\t  blob=blob.decode(URL, 27, req.http.urlhobbesuc));
**** v1   CLI TX|
**** v1   CLI TX|\t    set resp.http.dechobbeslc =
**** v1   CLI TX|\t      blob.encode(IDENTITY,
**** v1   CLI TX|\t\t\t  blob=blob.decode(URL, 27, req.http.urlhobbeslc));
**** v1   CLI TX|
**** v1   CLI TX|\t    set resp.http.decumlautsuc =
**** v1   CLI TX|\t      blob.encode(IDENTITY,
**** v1   CLI TX|\t\t\t  blob=blob.decode(URL, 17, req.http.urlucumlauts));
**** v1   CLI TX|
**** v1   CLI TX|\t    set resp.http.decumlautslc =
**** v1   CLI TX|\t      blob.encode(IDENTITY,
**** v1   CLI TX|\t\t\t  blob=blob.decode(URL, 25, req.http.urllcumlauts));
**** v1   CLI TX|
**** v1   CLI TX|\t    set resp.http.decphkuc =
**** v1   CLI TX|\t      blob.encode(IDENTITY,
**** v1   CLI TX|\t\t\t  blob=blob.decode(URL, 18, req.http.urlucphk));
**** v1   CLI TX|
**** v1   CLI TX|\t    set resp.http.decphklc =
**** v1   CLI TX|\t      blob.encode(IDENTITY,
**** v1   CLI TX|\t\t\t  blob=blob.decode(URL, 30, req.http.urllcphk));
**** v1   CLI TX|
**** v1   CLI TX|\t    set resp.http.decutf8uc =
**** v1   CLI TX|\t      blob.encode(IDENTITY,
**** v1   CLI TX|\t\t\t  blob=blob.decode(URL, 9, req.http.urlucutf8));
**** v1   CLI TX|
**** v1   CLI TX|\t    set resp.http.decutf8lc =
**** v1   CLI TX|\t      blob.encode(IDENTITY,
**** v1   CLI TX|\t\t\t  blob=blob.decode(URL, 18, req.http.urllcutf8));
**** v1   CLI TX|
**** v1   CLI TX|\t    set resp.http.decalluc =
**** v1   CLI TX|\t      blob.encode(HEX,
**** v1   CLI TX|\t\t\t  blob=blob.decode(URL, 252, req.http.urlalluc));
**** v1   CLI TX|
**** v1   CLI TX|\t    set resp.http.decalllc =
**** v1   CLI TX|\t      blob.encode(HEX, UPPER,
**** v1   CLI TX|\t\t\t  blob.decode(URL, 252, req.http.urlalllc));
**** v1   CLI TX|
**** v1   CLI TX|\t    set resp.http.decempty =
**** v1   CLI TX|\t      blob.encode(IDENTITY, blob=blob.decode(URL, 10, ""));
**** v1   CLI TX|
**** v1   CLI TX|\t    set resp.http.decemptybyte =
**** v1   CLI TX|\t      blob.encode(IDENTITY, blob=blob.decode(URL, 3, "%00"));
**** v1   CLI TX|
**** v1   CLI TX|\t    set resp.http.decemptypieces =
**** v1   CLI TX|\t      blob.encode(IDENTITY,
**** v1   CLI TX|\t\t\t  blob=blob.decode(URL, 1, req.http.unset + ""
**** v1   CLI TX|\t\t\t\t\t\t   + req.http.unset + ""));
**** v1   CLI TX|
**** v1   CLI TX|\t    set req.http.part1 = "foo%";
**** v1   CLI TX|\t    set resp.http.dec2pieces =
**** v1   CLI TX|\t      blob.encode(IDENTITY,
**** v1   CLI TX|\t\t\t  blob=blob.decode(URL, 6, req.http.part1 +
**** v1   CLI TX|\t\t\t\t\t\t   "20bar%20baz%20quux"));
**** v1   CLI TX|
**** v1   CLI TX|\t    set req.http.part2 = "0quux";
**** v1   CLI TX|\t    set resp.http.dec3param =
**** v1   CLI TX|\t      blob.encode(blob=blob.decode(encoded=req.http.part1 +
**** v1   CLI TX|\t\t\t      "20bar%20baz%2" + req.http.part2,
**** v1   CLI TX|\t\t\t      decoding=URL, length=12),
**** v1   CLI TX|\t\t\t      encoding=IDENTITY);
**** v1   CLI TX|
**** v1   CLI TX|\t    set resp.http.dec3pieces =
**** v1   CLI TX|\t      blob.encode(IDENTITY,
**** v1   CLI TX|\t\t\t  blob=blob.decode(URL, 18, req.http.part1
**** v1   CLI TX|\t\t\t\t\t\t    + "20bar%20baz%2"
**** v1   CLI TX|\t\t\t\t\t\t    + req.http.part2));
**** v1   CLI TX|
**** v1   CLI TX|\t    set resp.http.decmanypieces =
**** v1   CLI TX|\t      blob.encode(IDENTITY,
**** v1   CLI TX|\t\t\t      blob=blob.decode(URL, 24, "" + req.http.unset
**** v1   CLI TX|\t\t\t      + req.http.part1 + req.http.unset + ""
**** v1   CLI TX|\t\t\t      + req.http.unset + "" + "20bar%20baz%2"
**** v1   CLI TX|\t\t\t      + "" + req.http.unset + req.http.part2
**** v1   CLI TX|\t\t\t      + req.http.unset + "" + req.http.unset));
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.211
***  v1   vsl|No VSL chunk found (child not started ?)
**** dT   0.311
***  v1   vsl|No VSL chunk found (child not started ?)
**** dT   0.323
***  v1   CLI RX  200
**** v1   CLI RX|VCL compiled.
**** v1   CLI TX|vcl.use vcl1
***  v1   CLI RX  200
**   v1   Start
**** v1   CLI TX|start
**** dT   0.326
***  v1   debug|Debug: Child (71368) Started
**** dT   0.352
***  v1   CLI RX  200
***  v1   wait-running
**** v1   CLI TX|status
***  v1   debug|Info: Child (71368) said Child starts
***  v1   CLI RX  200
**** v1   CLI RX|Child in state running
**** v1   CLI TX|debug.listen_address
***  v1   CLI RX  200
**** v1   CLI RX|127.0.0.1 38571
**** v1   CLI TX|debug.xid 999
***  v1   CLI RX  200
**** v1   CLI RX|XID is 999
**** v1   CLI TX|debug.listen_address
***  v1   CLI RX  200
**** v1   CLI RX|127.0.0.1 38571
**   v1   Listen on 127.0.0.1 38571
**** v1   macro def v1_addr=127.0.0.1
**** v1   macro def v1_port=38571
**** v1   macro def v1_sock=127.0.0.1 38571
**** dT   0.411
**** v1   vsl|          0 CLI             - Rd vcl.load "vcl1" vcl_vcl1.1634892885.951875/vgc.so 1auto
**** v1   vsl|          0 CLI             - Wr 200 52 Loaded "vcl_vcl1.1634892885.951875/vgc.so" as "vcl1"
**** v1   vsl|          0 CLI             - Rd vcl.use "vcl1"
**** v1   vsl|          0 CLI             - Wr 200 0 
**** v1   vsl|          0 CLI             - Rd start
**** v1   vsl|          0 CLI             - Wr 200 0 
**** v1   vsl|          0 CLI             - Rd debug.listen_address 
**** v1   vsl|          0 CLI             - Wr 200 16 127.0.0.1 38571

**** v1   vsl|          0 CLI             - Rd debug.xid 999 
**** v1   vsl|          0 CLI             - Wr 200 10 XID is 999
**** v1   vsl|          0 CLI             - Rd debug.listen_address 
**** v1   vsl|          0 CLI             - Wr 200 16 127.0.0.1 38571

**** dT   0.452
**   top  === client c1 {
**   c1   Starting client
**** dT   0.453
**   c1   Waiting for client
**   c1   Started on 127.0.0.1 38571 (1 iterations)
***  c1   Connect to 127.0.0.1 38571
***  c1   connected fd 15 from 127.0.0.1 50216 to 127.0.0.1 38571
**   c1   === txreq
**** c1   txreq|GET / HTTP/1.1\r
**** c1   txreq|Host: 127.0.0.1\r
**** c1   txreq|\r
**   c1   === rxresp
**** dT   0.457
**** c1   rxhdr|HTTP/1.1 200 OK\r
**** c1   rxhdr|Date: Fri, 22 Oct 2021 08:54:46 GMT\r
**** c1   rxhdr|Server: Varnish\r
**** c1   rxhdr|X-Varnish: 1001\r
**** c1   rxhdr|decuc: foo:bar\r
**** c1   rxhdr|declc: foo:bar:\r
**** c1   rxhdr|dechobbesuc: Man is distinguished,\r
**** c1   rxhdr|dechobbeslc: Man is distinguished,\r
**** c1   rxhdr|decumlautsuc: \xc3\x9cbergr\xc3\xb6\r
**** c1   rxhdr|decumlautslc: \xc3\x9cbergr\xc3\xb6\xc3\x9fen\r
**** c1   rxhdr|decphkuc: sm\xc3\xa5b\xc3\xb8rns\r
**** c1   rxhdr|decphklc: sm\xc3\xa5b\xc3\xb8rnsp\xc3\xa6dagog\r
**** c1   rxhdr|decutf8uc: \xe6\x97\xa5\r
**** c1   rxhdr|decutf8lc: \xe6\x97\xa5\xe6\x89\xbc\r
**** c1   rxhdr|decalluc: 000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f404142434445464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f\r
**** c1   rxhdr|decalllc: 000102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F202122232425262728292A2B2C2D2E2F303132333435363738393A3B3C3D3E3F404142434445464748494A4B4C4D4E4F505152535455565758595A5B5C5D5E5F606162636465666768696A6B6C6D6E6F707172737475767778797A7B7C7D7E7F\r
**** c1   rxhdr|decempty: \r
**** c1   rxhdr|decemptybyte: \r
**** c1   rxhdr|decemptypieces: \r
**** c1   rxhdr|dec2pieces: foo \r
**** c1   rxhdr|dec3param: foo bar \r
**** c1   rxhdr|dec3pieces: foo bar baz \r
**** c1   rxhdr|decmanypieces: foo bar baz quux\r
**** c1   rxhdr|Content-Type: text/html; charset=utf-8\r
**** c1   rxhdr|Retry-After: 5\r
**** c1   rxhdr|Content-Length: 227\r
**** c1   rxhdr|Accept-Ranges: bytes\r
**** c1   rxhdr|Connection: keep-alive\r
**** c1   rxhdr|\r
**** c1   rxhdrlen = 1139
**** c1   http[ 0] |HTTP/1.1
**** c1   http[ 1] |200
**** c1   http[ 2] |OK
**** c1   http[ 3] |Date: Fri, 22 Oct 2021 08:54:46 GMT
**** c1   http[ 4] |Server: Varnish
**** c1   http[ 5] |X-Varnish: 1001
**** c1   http[ 6] |decuc: foo:bar
**** c1   http[ 7] |declc: foo:bar:
**** c1   http[ 8] |dechobbesuc: Man is distinguished,
**** c1   http[ 9] |dechobbeslc: Man is distinguished,
**** c1   http[10] |decumlautsuc: \xc3\x9cbergr\xc3\xb6
**** c1   http[11] |decumlautslc: \xc3\x9cbergr\xc3\xb6\xc3\x9fen
**** c1   http[12] |decphkuc: sm\xc3\xa5b\xc3\xb8rns
**** c1   http[13] |decphklc: sm\xc3\xa5b\xc3\xb8rnsp\xc3\xa6dagog
**** c1   http[14] |decutf8uc: \xe6\x97\xa5
**** c1   http[15] |decutf8lc: \xe6\x97\xa5\xe6\x89\xbc
**** c1   http[16] |decalluc: 000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f404142434445464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f
**** c1   http[17] |decalllc: 000102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F202122232425262728292A2B2C2D2E2F303132333435363738393A3B3C3D3E3F404142434445464748494A4B4C4D4E4F505152535455565758595A5B5C5D5E5F606162636465666768696A6B6C6D6E6F707172737475767778797A7B7C7D7E7F
**** c1   http[18] |decempty: 
**** c1   http[19] |decemptybyte: 
**** c1   http[20] |decemptypieces: 
**** c1   http[21] |dec2pieces: foo 
**** c1   http[22] |dec3param: foo bar 
**** c1   http[23] |dec3pieces: foo bar baz 
**** c1   http[24] |decmanypieces: foo bar baz quux
**** c1   http[25] |Content-Type: text/html; charset=utf-8
**** c1   http[26] |Retry-After: 5
**** c1   http[27] |Content-Length: 227
**** c1   http[28] |Accept-Ranges: bytes
**** c1   http[29] |Connection: keep-alive
**** c1   c-l|<!DOCTYPE html>
**** c1   c-l|<html>
**** c1   c-l|  <head>
**** c1   c-l|    <title>200 OK</title>
**** c1   c-l|  </head>
**** c1   c-l|  <body>
**** c1   c-l|    <h1>Error 200 OK</h1>
**** c1   c-l|    <p>OK</p>
**** c1   c-l|    <h3>Guru Meditation:</h3>
**** c1   c-l|    <p>XID: 1001</p>
**** c1   c-l|    <hr>
**** c1   c-l|    <p>Varnish cache server</p>
**** c1   c-l|  </body>
**** c1   c-l|</html>
**** c1   bodylen = 227
**   c1   === expect resp.http.decuc == "foo:bar"
**** c1   EXPECT resp.http.decuc (foo:bar) == "foo:bar" match
**   c1   === expect resp.http.declc == "foo:bar:"
**** c1   EXPECT resp.http.declc (foo:bar:) == "foo:bar:" match
**   c1   === expect resp.http.dechobbesuc == "Man is distinguished,"
**** c1   EXPECT resp.http.dechobbesuc (Man is distinguished,) == "Man is distinguished," match
**   c1   === expect resp.http.dechobbeslc == "Man is distinguished,"
**** c1   EXPECT resp.http.dechobbeslc (Man is distinguished,) == "Man is distinguished," match
**   c1   === expect resp.http.decumlautsuc == "Übergrö"
**** c1   EXPECT resp.http.decumlautsuc (Übergrö) == "Übergrö" match
**   c1   === expect resp.http.decumlautslc == "Übergrößen"
**** c1   EXPECT resp.http.decumlautslc (Übergrößen) == "Übergrößen" match
**   c1   === expect resp.http.decphkuc == "småbørns"
**** c1   EXPECT resp.http.decphkuc (småbørns) == "småbørns" match
**   c1   === expect resp.http.decphklc == "småbørnspædagog"
**** c1   EXPECT resp.http.decphklc (småbørnspædagog) == "småbørnspædagog" match
**   c1   === expect resp.http.decutf8uc == "日"
**** c1   EXPECT resp.http.decutf8uc (日) == "日" match
**   c1   === expect resp.http.decutf8lc == "日扼"
**** c1   EXPECT resp.http.decutf8lc (日扼) == "日扼" match
**   c1   === expect resp.http.decalluc == "000102030405060708090a0b0c0d0e...
**** c1   EXPECT resp.http.decalluc (000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f404142434445464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f) == "000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f404142434445464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f" match
**   c1   === expect resp.http.decalllc == "000102030405060708090A0B0C0D0E...
**** c1   EXPECT resp.http.decalllc (000102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F202122232425262728292A2B2C2D2E2F303132333435363738393A3B3C3D3E3F404142434445464748494A4B4C4D4E4F505152535455565758595A5B5C5D5E5F606162636465666768696A6B6C6D6E6F707172737475767778797A7B7C7D7E7F) == "000102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F202122232425262728292A2B2C2D2E2F303132333435363738393A3B3C3D3E3F404142434445464748494A4B4C4D4E4F505152535455565758595A5B5C5D5E5F606162636465666768696A6B6C6D6E6F707172737475767778797A7B7C7D7E7F" match
**   c1   === expect resp.http.decempty == ""
**** c1   EXPECT resp.http.decempty () == "" match
**   c1   === expect resp.http.decemptybyte == ""
**** c1   EXPECT resp.http.decemptybyte () == "" match
**   c1   === expect resp.http.decemptypieces == ""
**** c1   EXPECT resp.http.decemptypieces () == "" match
**   c1   === expect resp.http.dec2pieces == "foo "
**** c1   EXPECT resp.http.dec2pieces (foo ) == "foo " match
**   c1   === expect resp.http.dec3pieces == "foo bar baz "
**** c1   EXPECT resp.http.dec3pieces (foo bar baz ) == "foo bar baz " match
**   c1   === expect resp.http.dec3param == "foo bar "
**** c1   EXPECT resp.http.dec3param (foo bar ) == "foo bar " match
**   c1   === expect resp.http.decmanypieces == "foo bar baz quux"
**** c1   EXPECT resp.http.decmanypieces (foo bar baz quux) == "foo bar baz quux" match
***  c1   closing fd 15
**   c1   Ending
**   top  === server s1 -repeat 4 {
**   s1   Starting server
**** s1   macro def s1_addr=127.0.0.1
**** s1   macro def s1_port=39435
**** s1   macro def s1_sock=127.0.0.1 39435
*    s1   Listen on 127.0.0.1 39435
**   top  === varnish v1 -vcl+backend {
**** v1   CLI TX|vcl.inline vcl2 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|backend s1 { .host = "127.0.0.1"; .port = "39435"; }
**** v1   CLI TX|
**** v1   CLI TX|
**** v1   CLI TX|\timport blob;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_deliver {
**** v1   CLI TX|\t\tif (req.url == "/percent") {
**** v1   CLI TX|\t\t\tset resp.http.bad = blob.encode(URL, UPPER,
**** v1   CLI TX|\t\t\t\t\t    blob.decode(URL, 1, "%20"));
**** v1   CLI TX|\t\t}
**** v1   CLI TX|\t\telsif (req.url == "/percent-two") {
**** v1   CLI TX|\t\t\tset resp.http.bad = blob.encode(URL, UPPER,
**** v1   CLI TX|\t\t\t\t\t    blob.decode(URL, 2, "%20"));
**** v1   CLI TX|\t\t}
**** v1   CLI TX|\t\telsif (req.url == "/comma") {
**** v1   CLI TX|\t\t\tset resp.http.good = blob.encode(IDENTITY, blob=
**** v1   CLI TX|\t\t\t\t\t     blob.decode(URL, 3, "%2c%q"));
**** v1   CLI TX|\t\t}
**** v1   CLI TX|\t\telsif (req.url == "/colon") {
**** v1   CLI TX|\t\t\tset resp.http.good = blob.encode(IDENTITY, blob=
**** v1   CLI TX|\t\t\t\t\t     blob.decode(URL, 3, "%3a%2q"));
**** v1   CLI TX|\t\t}
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.460
**   s1   Started on 127.0.0.1 39435 (4 iterations)
**** dT   0.511
**** v1   vsl|       1000 Begin           c sess 0 HTTP/1
**** v1   vsl|       1000 SessOpen        c 127.0.0.1 50216 a0 127.0.0.1 38571 1634892886.293489 25
**** v1   vsl|       1000 Link            c req 1001 rxreq
**** v1   vsl|       1001 Begin           c req 1000 rxreq
**** v1   vsl|       1001 Timestamp       c Start: 1634892886.293570 0.000000 0.000000
**** v1   vsl|       1001 Timestamp       c Req: 1634892886.293570 0.000000 0.000000
**** v1   vsl|       1001 VCL_use         c vcl1
**** v1   vsl|       1001 ReqStart        c 127.0.0.1 50216 a0
**** v1   vsl|       1001 ReqMethod       c GET
**** v1   vsl|       1001 ReqURL          c /
**** v1   vsl|       1001 ReqProtocol     c HTTP/1.1
**** v1   vsl|       1001 ReqHeader       c Host: 127.0.0.1
**** v1   vsl|       1001 ReqHeader       c X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1001 VCL_call        c RECV
**** v1   vsl|       1001 VCL_return      c synth
**** v1   vsl|       1001 VCL_call        c HASH
**** v1   vsl|       1001 VCL_return      c lookup
**** v1   vsl|       1001 RespProtocol    c HTTP/1.1
**** v1   vsl|       1001 RespStatus      c 200
**** v1   vsl|       1001 RespReason      c OK
**** v1   vsl|       1001 RespHeader      c Date: Fri, 22 Oct 2021 08:54:46 GMT
**** v1   vsl|       1001 RespHeader      c Server: Varnish
**** v1   vsl|       1001 RespHeader      c X-Varnish: 1001
**** v1   vsl|       1001 VCL_call        c SYNTH
**** v1   vsl|       1001 ReqHeader       c urllcfoobar: foo%3abar%3abaz%3aquux
**** v1   vsl|       1001 ReqHeader       c urlucfoobar: foo%3Abar%3Abaz%3Aquux
**** v1   vsl|       1001 ReqHeader       c urlhobbeslc: Man%20is%20distinguished%2c%20not%20only%20by%20his%20reason%2c%20but%20by%20this%20singular%20passion%20from%20other%20animals%2c%20which%20is%20a%20lust%20of%20the%20mind%2c%20that%20by%20a%20perseverance%20of%20delight%20in%20the%20contin
**** v1   vsl|       1001 ReqHeader       c urlhobbesuc: Man%20is%20distinguished%2C%20not%20only%20by%20his%20reason%2C%20but%20by%20this%20singular%20passion%20from%20other%20animals%2C%20which%20is%20a%20lust%20of%20the%20mind%2C%20that%20by%20a%20perseverance%20of%20delight%20in%20the%20contin
**** v1   vsl|       1001 ReqHeader       c urllcumlauts: %c3%9cbergr%c3%b6%c3%9fentr%c3%a4ger
**** v1   vsl|       1001 ReqHeader       c urlucumlauts: %C3%9Cbergr%C3%B6%C3%9Fentr%C3%A4ger
**** v1   vsl|       1001 ReqHeader       c urllcphk: sm%c3%a5b%c3%b8rnsp%c3%a6dagog
**** v1   vsl|       1001 ReqHeader       c urlucphk: sm%C3%A5b%C3%B8rnsp%C3%A6dagog
**** v1   vsl|       1001 ReqHeader       c urllcutf8: %e6%97%a5%e6%89%bc%e8%aa%9e
**** v1   vsl|       1001 ReqHeader       c urlucutf8: %E6%97%A5%E6%89%BC%E8%AA%9E
**** v1   vsl|       1001 ReqHeader       c urlalluc: %00%01%02%03%04%05%06%07%08%09%0A%0B%0C%0D%0E%0F%10%11%12%13%14%15%16%17%18%19%1A%1B%1C%1D%1E%1F%20%21%22%23%24%25%26%27%28%29%2A%2B%2C-.%2F0123456789%3A%3B%3C%3D%3E%3F%40ABCDEFGHIJKLMNOPQRSTUVWXYZ%5B%5C%5D%5E_%60abcdefghijklmnopqrstuvwxyz%7B%7
**** v1   vsl|       1001 ReqHeader       c urlalllc: %00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f%20%21%22%23%24%25%26%27%28%29%2a%2b%2c-.%2f0123456789%3a%3b%3c%3d%3e%3f%40ABCDEFGHIJKLMNOPQRSTUVWXYZ%5b%5c%5d%5e_%60abcdefghijklmnopqrstuvwxyz%7b%7
**** v1   vsl|       1001 RespHeader      c decuc: foo:bar
**** v1   vsl|       1001 RespHeader      c declc: foo:bar:
**** v1   vsl|       1001 RespHeader      c dechobbesuc: Man is distinguished,
**** v1   vsl|       1001 RespHeader      c dechobbeslc: Man is distinguished,
**** v1   vsl|       1001 RespHeader      c decumlautsuc: Übergrö
**** v1   vsl|       1001 RespHeader      c decumlautslc: Übergrößen
**** v1   vsl|       1001 RespHeader      c decphkuc: småbørns
**** v1   vsl|       1001 RespHeader      c decphklc: småbørnspædagog
**** v1   vsl|       1001 RespHeader      c decutf8uc: 日
**** v1   vsl|       1001 RespHeader      c decutf8lc: 日扼
**** v1   vsl|       1001 RespHeader      c decalluc: 000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f404142434445464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f606162636465666768696a6b6c6d6e6f70717273747576777879
**** v1   vsl|       1001 RespHeader      c decalllc: 000102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F202122232425262728292A2B2C2D2E2F303132333435363738393A3B3C3D3E3F404142434445464748494A4B4C4D4E4F505152535455565758595A5B5C5D5E5F606162636465666768696A6B6C6D6E6F70717273747576777879
**** v1   vsl|       1001 RespHeader      c decempty: 
**** v1   vsl|       1001 RespHeader      c decemptybyte: 
**** v1   vsl|       1001 RespHeader      c decemptypieces: 
**** v1   vsl|       1001 ReqHeader       c part1: foo%
**** v1   vsl|       1001 RespHeader      c dec2pieces: foo 
**** v1   vsl|       1001 ReqHeader       c part2: 0quux
**** v1   vsl|       1001 RespHeader      c dec3param: foo bar 
**** v1   vsl|       1001 RespHeader      c dec3pieces: foo bar baz 
**** v1   vsl|       1001 RespHeader      c decmanypieces: foo bar baz quux
**** v1   vsl|       1001 RespHeader      c Content-Type: text/html; charset=utf-8
**** v1   vsl|       1001 RespHeader      c Retry-After: 5
**** v1   vsl|       1001 VCL_return      c deliver
**** v1   vsl|       1001 Timestamp       c Process: 1634892886.293698 0.000128 0.000128
**** v1   vsl|       1001 RespHeader      c Content-Length: 227
**** v1   vsl|       1001 Storage         c malloc Transient
**** v1   vsl|       1001 Filters         c 
**** v1   vsl|       1001 RespHeader      c Accept-Ranges: bytes
**** v1   vsl|       1001 RespHeader      c Connection: keep-alive
**** v1   vsl|       1001 Timestamp       c Resp: 1634892886.293774 0.000203 0.000075
**** v1   vsl|       1001 ReqAcct         c 35 0 35 1139 227 1366
**** v1   vsl|       1001 End             c 
**** v1   vsl|       1000 SessClose       c REM_CLOSE 0.004
**** v1   vsl|       1000 End             c 
**** dT   0.620
***  v1   CLI RX  200
**** v1   CLI RX|VCL compiled.
**** v1   CLI TX|vcl.use vcl2
***  v1   CLI RX  200
**** v1   CLI RX|VCL 'vcl2' now active
**   top  === client c1 {
**   c1   Starting client
**   c1   Waiting for client
**   c1   Started on 127.0.0.1 38571 (1 iterations)
***  c1   Connect to 127.0.0.1 38571
***  c1   connected fd 17 from 127.0.0.1 50234 to 127.0.0.1 38571
**   c1   === txreq -url /comma
**** c1   txreq|GET /comma HTTP/1.1\r
**** c1   txreq|Host: 127.0.0.1\r
**** c1   txreq|\r
**** dT   0.621
***  s1   accepted fd 16 127.0.0.1 54100
**   s1   === rxreq
**   c1   === rxresp
**** s1   rxhdr|GET /comma HTTP/1.1\r
**** s1   rxhdr|X-Forwarded-For: 127.0.0.1\r
**** s1   rxhdr|host: 127.0.0.1\r
**** s1   rxhdr|Accept-Encoding: gzip\r
**** s1   rxhdr|X-Varnish: 1004\r
**** s1   rxhdr|\r
**** s1   rxhdrlen = 108
**** s1   http[ 0] |GET
**** s1   http[ 1] |/comma
**** s1   http[ 2] |HTTP/1.1
**** s1   http[ 3] |X-Forwarded-For: 127.0.0.1
**** s1   http[ 4] |host: 127.0.0.1
**** s1   http[ 5] |Accept-Encoding: gzip
**** s1   http[ 6] |X-Varnish: 1004
**** s1   bodylen = 0
**   s1   === txresp
**** s1   txresp|HTTP/1.1 200 OK\r
**** s1   txresp|Content-Length: 0\r
**** s1   txresp|\r
***  s1   shutting fd 16
**** dT   0.632
**** c1   rxhdr|HTTP/1.1 200 OK\r
**** c1   rxhdr|Content-Length: 0\r
**** c1   rxhdr|Date: Fri, 22 Oct 2021 08:54:46 GMT\r
**** c1   rxhdr|X-Varnish: 1003\r
**** c1   rxhdr|Age: 0\r
**** c1   rxhdr|Via: 1.1 varnish (Varnish/6.5)\r
**** c1   rxhdr|good: ,\r
**** c1   rxhdr|Accept-Ranges: bytes\r
**** c1   rxhdr|Connection: keep-alive\r
**** c1   rxhdr|\r
**** c1   rxhdrlen = 187
**** c1   http[ 0] |HTTP/1.1
**** c1   http[ 1] |200
**** c1   http[ 2] |OK
**** c1   http[ 3] |Content-Length: 0
**** c1   http[ 4] |Date: Fri, 22 Oct 2021 08:54:46 GMT
**** c1   http[ 5] |X-Varnish: 1003
**** c1   http[ 6] |Age: 0
**** c1   http[ 7] |Via: 1.1 varnish (Varnish/6.5)
**** c1   http[ 8] |good: ,
**** c1   http[ 9] |Accept-Ranges: bytes
**** c1   http[10] |Connection: keep-alive
**** c1   bodylen = 0
**   c1   === expect resp.status == 200
**** c1   EXPECT resp.status (200) == "200" match
**   c1   === expect resp.http.good == ","
**** c1   EXPECT resp.http.good (,) == "," match
**   c1   === txreq -url /colon
**** c1   txreq|GET /colon HTTP/1.1\r
**** c1   txreq|Host: 127.0.0.1\r
**** c1   txreq|\r
***  s1   accepted fd 16 127.0.0.1 54102
**   s1   === rxreq
**   c1   === rxresp
**** s1   rxhdr|GET /colon HTTP/1.1\r
**** s1   rxhdr|X-Forwarded-For: 127.0.0.1\r
**** s1   rxhdr|host: 127.0.0.1\r
**** s1   rxhdr|Accept-Encoding: gzip\r
**** s1   rxhdr|X-Varnish: 1006\r
**** s1   rxhdr|\r
**** s1   rxhdrlen = 108
**** s1   http[ 0] |GET
**** s1   http[ 1] |/colon
**** s1   http[ 2] |HTTP/1.1
**** s1   http[ 3] |X-Forwarded-For: 127.0.0.1
**** s1   http[ 4] |host: 127.0.0.1
**** s1   http[ 5] |Accept-Encoding: gzip
**** s1   http[ 6] |X-Varnish: 1006
**** s1   bodylen = 0
**   s1   === txresp
**** s1   txresp|HTTP/1.1 200 OK\r
**** s1   txresp|Content-Length: 0\r
**** s1   txresp|\r
**** dT   0.633
***  s1   shutting fd 16
**** dT   0.643
**** c1   rxhdr|HTTP/1.1 200 OK\r
**** c1   rxhdr|Content-Length: 0\r
**** c1   rxhdr|Date: Fri, 22 Oct 2021 08:54:46 GMT\r
**** c1   rxhdr|X-Varnish: 1005\r
**** c1   rxhdr|Age: 0\r
**** c1   rxhdr|Via: 1.1 varnish (Varnish/6.5)\r
**** c1   rxhdr|good: :\r
**** c1   rxhdr|Accept-Ranges: bytes\r
**** c1   rxhdr|Connection: keep-alive\r
**** c1   rxhdr|\r
**** c1   rxhdrlen = 187
**** c1   http[ 0] |HTTP/1.1
**** c1   http[ 1] |200
**** c1   http[ 2] |OK
**** c1   http[ 3] |Content-Length: 0
**** c1   http[ 4] |Date: Fri, 22 Oct 2021 08:54:46 GMT
**** c1   http[ 5] |X-Varnish: 1005
**** c1   http[ 6] |Age: 0
**** c1   http[ 7] |Via: 1.1 varnish (Varnish/6.5)
**** c1   http[ 8] |good: :
**** c1   http[ 9] |Accept-Ranges: bytes
**** c1   http[10] |Connection: keep-alive
**** c1   bodylen = 0
**   c1   === expect resp.status == 200
**** c1   EXPECT resp.status (200) == "200" match
**   c1   === expect resp.http.good == ":"
**** c1   EXPECT resp.http.good (:) == ":" match
**   c1   === txreq -url /percent
**** c1   txreq|GET /percent HTTP/1.1\r
**** c1   txreq|Host: 127.0.0.1\r
**** c1   txreq|\r
**** dT   0.644
***  s1   accepted fd 16 127.0.0.1 54104
**   s1   === rxreq
**   c1   === rxresp
**** s1   rxhdr|GET /percent HTTP/1.1\r
**** s1   rxhdr|X-Forwarded-For: 127.0.0.1\r
**** s1   rxhdr|host: 127.0.0.1\r
**** s1   rxhdr|Accept-Encoding: gzip\r
**** s1   rxhdr|X-Varnish: 1008\r
**** s1   rxhdr|\r
**** s1   rxhdrlen = 110
**** s1   http[ 0] |GET
**** s1   http[ 1] |/percent
**** s1   http[ 2] |HTTP/1.1
**** s1   http[ 3] |X-Forwarded-For: 127.0.0.1
**** s1   http[ 4] |host: 127.0.0.1
**** s1   http[ 5] |Accept-Encoding: gzip
**** s1   http[ 6] |X-Varnish: 1008
**** s1   bodylen = 0
**   s1   === txresp
**** s1   txresp|HTTP/1.1 200 OK\r
**** s1   txresp|Content-Length: 0\r
**** s1   txresp|\r
***  s1   shutting fd 16
**** dT   0.655
**** c1   rxhdr|HTTP/1.1 503 VCL failed\r
**** c1   rxhdr|Date: Fri, 22 Oct 2021 08:54:46 GMT\r
**** c1   rxhdr|Server: Varnish\r
**** c1   rxhdr|X-Varnish: 1007\r
**** c1   rxhdr|Content-Type: text/html; charset=utf-8\r
**** c1   rxhdr|Retry-After: 5\r
**** c1   rxhdr|Content-Length: 251\r
**** c1   rxhdr|Connection: close\r
**** c1   rxhdr|\r
**** c1   rxhdrlen = 194
**** c1   http[ 0] |HTTP/1.1
**** c1   http[ 1] |503
**** c1   http[ 2] |VCL failed
**** c1   http[ 3] |Date: Fri, 22 Oct 2021 08:54:46 GMT
**** c1   http[ 4] |Server: Varnish
**** c1   http[ 5] |X-Varnish: 1007
**** c1   http[ 6] |Content-Type: text/html; charset=utf-8
**** c1   http[ 7] |Retry-After: 5
**** c1   http[ 8] |Content-Length: 251
**** c1   http[ 9] |Connection: close
**** c1   c-l|<!DOCTYPE html>
**** c1   c-l|<html>
**** c1   c-l|  <head>
**** c1   c-l|    <title>503 VCL failed</title>
**** c1   c-l|  </head>
**** c1   c-l|  <body>
**** c1   c-l|    <h1>Error 503 VCL failed</h1>
**** c1   c-l|    <p>VCL failed</p>
**** c1   c-l|    <h3>Guru Meditation:</h3>
**** c1   c-l|    <p>XID: 1007</p>
**** c1   c-l|    <hr>
**** c1   c-l|    <p>Varnish cache server</p>
**** c1   c-l|  </body>
**** c1   c-l|</html>
**** c1   bodylen = 251
**   c1   === expect resp.status == 503
**** c1   EXPECT resp.status (503) == "503" match
**   c1   === expect resp.reason == "VCL failed"
**** c1   EXPECT resp.reason (VCL failed) == "VCL failed" match
**   c1   === expect resp.http.bad == <undef>
**** c1   EXPECT resp.http.bad (<undef>) == "<undef>" match
***  c1   closing fd 17
**   c1   Ending
**   top  === client c1 {
**   c1   Starting client
**   c1   Waiting for client
**   c1   Started on 127.0.0.1 38571 (1 iterations)
***  c1   Connect to 127.0.0.1 38571
***  c1   connected fd 17 from 127.0.0.1 50242 to 127.0.0.1 38571
**   c1   === txreq -url /percent-two
**** c1   txreq|GET /percent-two HTTP/1.1\r
**** c1   txreq|Host: 127.0.0.1\r
**** c1   txreq|\r
***  s1   accepted fd 16 127.0.0.1 54108
**   s1   === rxreq
**   c1   === rxresp
**** dT   0.656
**** s1   rxhdr|GET /percent-two HTTP/1.1\r
**** s1   rxhdr|X-Forwarded-For: 127.0.0.1\r
**** s1   rxhdr|host: 127.0.0.1\r
**** s1   rxhdr|Accept-Encoding: gzip\r
**** s1   rxhdr|X-Varnish: 1011\r
**** s1   rxhdr|\r
**** s1   rxhdrlen = 114
**** s1   http[ 0] |GET
**** s1   http[ 1] |/percent-two
**** s1   http[ 2] |HTTP/1.1
**** s1   http[ 3] |X-Forwarded-For: 127.0.0.1
**** s1   http[ 4] |host: 127.0.0.1
**** s1   http[ 5] |Accept-Encoding: gzip
**** s1   http[ 6] |X-Varnish: 1011
**** s1   bodylen = 0
**   s1   === txresp
**** s1   txresp|HTTP/1.1 200 OK\r
**** s1   txresp|Content-Length: 0\r
**** s1   txresp|\r
***  s1   shutting fd 16
**   s1   Ending
**** dT   0.667
**** c1   rxhdr|HTTP/1.1 503 VCL failed\r
**** c1   rxhdr|Date: Fri, 22 Oct 2021 08:54:46 GMT\r
**** c1   rxhdr|Server: Varnish\r
**** c1   rxhdr|X-Varnish: 1010\r
**** c1   rxhdr|Content-Type: text/html; charset=utf-8\r
**** c1   rxhdr|Retry-After: 5\r
**** c1   rxhdr|Content-Length: 251\r
**** c1   rxhdr|Connection: close\r
**** c1   rxhdr|\r
**** c1   rxhdrlen = 194
**** c1   http[ 0] |HTTP/1.1
**** c1   http[ 1] |503
**** c1   http[ 2] |VCL failed
**** c1   http[ 3] |Date: Fri, 22 Oct 2021 08:54:46 GMT
**** c1   http[ 4] |Server: Varnish
**** c1   http[ 5] |X-Varnish: 1010
**** c1   http[ 6] |Content-Type: text/html; charset=utf-8
**** c1   http[ 7] |Retry-After: 5
**** c1   http[ 8] |Content-Length: 251
**** c1   http[ 9] |Connection: close
**** c1   c-l|<!DOCTYPE html>
**** c1   c-l|<html>
**** c1   c-l|  <head>
**** c1   c-l|    <title>503 VCL failed</title>
**** c1   c-l|  </head>
**** c1   c-l|  <body>
**** c1   c-l|    <h1>Error 503 VCL failed</h1>
**** c1   c-l|    <p>VCL failed</p>
**** c1   c-l|    <h3>Guru Meditation:</h3>
**** c1   c-l|    <p>XID: 1010</p>
**** c1   c-l|    <hr>
**** c1   c-l|    <p>Varnish cache server</p>
**** c1   c-l|  </body>
**** c1   c-l|</html>
**** c1   bodylen = 251
**   c1   === expect resp.status == 503
**** c1   EXPECT resp.status (503) == "503" match
**   c1   === expect resp.reason == "VCL failed"
**** c1   EXPECT resp.reason (VCL failed) == "VCL failed" match
**   c1   === expect resp.http.bad == <undef>
**** c1   EXPECT resp.http.bad (<undef>) == "<undef>" match
***  c1   closing fd 17
**   c1   Ending
**   top  === logexpect l1 -v v1 -d 1 -g vxid -q "VCL_Error" {
**   l1   === expect * * VCL_Error "^vmod blob error: cannot decode, illeg...
**   l1   === expect * * VCL_Error "^vmod blob error: cannot decode, illeg...
**   l1   Waiting for logexp
**** l1   begin|
**** l1   qry| VCL_Error
***  l1   expecting| expect * * VCL_Error ^vmod blob error: cannot decode, illegal encoding beginning with \"%20\"$
**** l1   match|       1007 VCL_Error       c vmod blob error: cannot decode, illegal encoding beginning with "%20"
***  l1   expecting| expect * * VCL_Error ^vmod blob error: cannot decode, illegal encoding beginning with \"%20\"$
**** l1   match|       1010 VCL_Error       c vmod blob error: cannot decode, illegal encoding beginning with "%20"
**** l1   end|
*    top  RESETTING after ./tests/m00040.vtc
**   s1   Waiting for server (15/-1)
**   v1   Wait
**** v1   CLI TX|backend.list
***  v1   CLI RX  200
**** v1   CLI RX|Backend name   Admin      Probe    Health     Last change
**** v1   CLI RX|vcl2.s1        healthy    0/0      healthy    Fri, 22 Oct 2021 08:54:46 GMT
**   v1   Stop
**** v1   CLI TX|stop
**** dT   0.668
***  v1   debug|Debug: Stopping Child
**** dT   0.712
**** v1   vsl|          0 CLI             - Rd vcl.load vcl2 vcl_vcl2.1634892886.297876/vgc.so 1auto
**** v1   vsl|          0 CLI             - Wr 200 52 Loaded "vcl_vcl2.1634892886.297876/vgc.so" as "vcl2"
**** v1   vsl|          0 CLI             - Rd vcl.use vcl2
**** v1   vsl|          0 CLI             - Wr 200 0 
**** v1   vsl|       1002 Begin           c sess 0 HTTP/1
**** v1   vsl|       1002 SessOpen        c 127.0.0.1 50234 a0 127.0.0.1 38571 1634892886.461093 26
**** v1   vsl|       1002 Link            c req 1003 rxreq
**** v1   vsl|       1004 Begin           b bereq 1003 fetch
**** v1   vsl|       1004 VCL_use         b vcl2
**** v1   vsl|       1004 Timestamp       b Start: 1634892886.461239 0.000000 0.000000
**** v1   vsl|       1004 BereqMethod     b GET
**** v1   vsl|       1004 BereqURL        b /comma
**** v1   vsl|       1004 BereqProtocol   b HTTP/1.1
**** v1   vsl|       1004 BereqHeader     b X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1004 BereqHeader     b host: 127.0.0.1
**** v1   vsl|       1004 BereqHeader     b Accept-Encoding: gzip
**** v1   vsl|       1004 BereqHeader     b X-Varnish: 1004
**** v1   vsl|       1004 VCL_call        b BACKEND_FETCH
**** v1   vsl|       1004 VCL_return      b fetch
**** v1   vsl|       1004 BackendOpen     b 28 s1 127.0.0.1 39435 127.0.0.1 54100 connect
**** v1   vsl|       1004 Timestamp       b Bereq: 1634892886.461360 0.000120 0.000120
**** v1   vsl|       1004 Timestamp       b Beresp: 1634892886.461775 0.000535 0.000415
**** v1   vsl|       1004 BerespProtocol  b HTTP/1.1
**** v1   vsl|       1004 BerespStatus    b 200
**** v1   vsl|       1004 BerespReason    b OK
**** v1   vsl|       1004 BerespHeader    b Content-Length: 0
**** v1   vsl|       1004 BerespHeader    b Date: Fri, 22 Oct 2021 08:54:46 GMT
**** v1   vsl|       1004 TTL             b RFC 120 10 0 1634892886 1634892886 1634892886 0 0 cacheable
**** v1   vsl|       1004 VCL_call        b BACKEND_RESPONSE
**** v1   vsl|       1004 VCL_return      b deliver
**** v1   vsl|       1004 Filters         b 
**** v1   vsl|       1004 Storage         b malloc s0
**** v1   vsl|       1004 Fetch_Body      b 0 none -
**** v1   vsl|       1004 BackendClose    b 28 s1 recycle
**** v1   vsl|       1004 Timestamp       b BerespBody: 1634892886.471897 0.010657 0.010122
**** v1   vsl|       1004 Length          b 0
**** v1   vsl|       1004 BereqAcct       b 108 0 108 38 0 38
**** v1   vsl|       1004 End             b 
**** v1   vsl|          0 ExpKill         - EXP_Inbox flg=1e p=0x7f3c8c000bb0 e=0.000000 f=0x0
**** v1   vsl|          0 ExpKill         - EXP_When p=0x7f3c8c000bb0 e=1634893016.461775 f=0x1e
**** v1   vsl|          0 ExpKill         - EXP_expire p=0x7f3c8c000bb0 e=129.989817 f=0x0
**** v1   vsl|       1003 Begin           c req 1002 rxreq
**** v1   vsl|       1003 Timestamp       c Start: 1634892886.461195 0.000000 0.000000
**** v1   vsl|       1003 Timestamp       c Req: 1634892886.461195 0.000000 0.000000
**** v1   vsl|       1003 VCL_use         c vcl2
**** v1   vsl|       1003 ReqStart        c 127.0.0.1 50234 a0
**** v1   vsl|       1003 ReqMethod       c GET
**** v1   vsl|       1003 ReqURL          c /comma
**** v1   vsl|       1003 ReqProtocol     c HTTP/1.1
**** v1   vsl|       1003 ReqHeader       c Host: 127.0.0.1
**** v1   vsl|       1003 ReqHeader       c X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1003 VCL_call        c RECV
**** v1   vsl|       1003 ReqUnset        c Host: 127.0.0.1
**** v1   vsl|       1003 ReqHeader       c host: 127.0.0.1
**** v1   vsl|       1003 VCL_return      c hash
**** v1   vsl|       1003 VCL_call        c HASH
**** v1   vsl|       1003 VCL_return      c lookup
**** v1   vsl|       1003 VCL_call        c MISS
**** v1   vsl|       1003 VCL_return      c fetch
**** v1   vsl|       1003 Link            c bereq 1004 fetch
**** v1   vsl|       1003 Timestamp       c Fetch: 1634892886.471965 0.010770 0.010770
**** v1   vsl|       1003 RespProtocol    c HTTP/1.1
**** v1   vsl|       1003 RespStatus      c 200
**** v1   vsl|       1003 RespReason      c OK
**** v1   vsl|       1003 RespHeader      c Content-Length: 0
**** v1   vsl|       1003 RespHeader      c Date: Fri, 22 Oct 2021 08:54:46 GMT
**** v1   vsl|       1003 RespHeader      c X-Varnish: 1003
**** v1   vsl|       1003 RespHeader      c Age: 0
**** v1   vsl|       1003 RespHeader      c Via: 1.1 varnish (Varnish/6.5)
**** v1   vsl|       1003 VCL_call        c DELIVER
**** v1   vsl|       1003 RespHeader      c good: ,
**** v1   vsl|       1003 VCL_return      c deliver
**** v1   vsl|       1003 Timestamp       c Process: 1634892886.471982 0.010787 0.000016
**** v1   vsl|       1003 Filters         c 
**** v1   vsl|       1003 RespHeader      c Accept-Ranges: bytes
**** v1   vsl|       1003 RespHeader      c Connection: keep-alive
**** v1   vsl|       1003 Timestamp       c Resp: 1634892886.472031 0.010835 0.000048
**** v1   vsl|       1003 ReqAcct         c 40 0 40 187 0 187
**** v1   vsl|       1003 End             c 
**** v1   vsl|       1002 Link            c req 1005 rxreq
**** v1   vsl|       1006 Begin           b bereq 1005 fetch
**** v1   vsl|       1006 VCL_use         b vcl2
**** v1   vsl|       1006 Timestamp       b Start: 1634892886.472785 0.000000 0.000000
**** v1   vsl|       1006 BereqMethod     b GET
**** v1   vsl|       1006 BereqURL        b /colon
**** v1   vsl|       1006 BereqProtocol   b HTTP/1.1
**** v1   vsl|       1006 BereqHeader     b X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1006 BereqHeader     b host: 127.0.0.1
**** v1   vsl|       1006 BereqHeader     b Accept-Encoding: gzip
**** v1   vsl|       1006 BereqHeader     b X-Varnish: 1006
**** v1   vsl|       1006 VCL_call        b BACKEND_FETCH
**** v1   vsl|       1006 VCL_return      b fetch
**** v1   vsl|       1006 BackendOpen     b 28 s1 127.0.0.1 39435 127.0.0.1 54102 connect
**** v1   vsl|       1006 Timestamp       b Bereq: 1634892886.472896 0.000111 0.000111
**** v1   vsl|       1006 Timestamp       b Beresp: 1634892886.473301 0.000515 0.000404
**** v1   vsl|       1006 BerespProtocol  b HTTP/1.1
**** v1   vsl|       1006 BerespStatus    b 200
**** v1   vsl|       1006 BerespReason    b OK
**** v1   vsl|       1006 BerespHeader    b Content-Length: 0
**** v1   vsl|       1006 BerespHeader    b Date: Fri, 22 Oct 2021 08:54:46 GMT
**** v1   vsl|       1006 TTL             b RFC 120 10 0 1634892886 1634892886 1634892886 0 0 cacheable
**** v1   vsl|       1006 VCL_call        b BACKEND_RESPONSE
**** v1   vsl|       1006 VCL_return      b deliver
**** v1   vsl|       1006 Filters         b 
**** v1   vsl|       1006 Storage         b malloc s0
**** v1   vsl|       1006 Fetch_Body      b 0 none -
**** v1   vsl|       1006 BackendClose    b 28 s1 recycle
**** v1   vsl|       1006 Timestamp       b BerespBody: 1634892886.483426 0.010640 0.010124
**** v1   vsl|       1006 Length          b 0
**** v1   vsl|       1006 BereqAcct       b 108 0 108 38 0 38
**** v1   vsl|       1006 End             b 
**** v1   vsl|          0 ExpKill         - EXP_expire p=0x7f3c8c000bb0 e=129.978334 f=0x0
**** v1   vsl|          0 ExpKill         - EXP_Inbox flg=1e p=0x7f3c8c000e10 e=0.000000 f=0x0
**** v1   vsl|          0 ExpKill         - EXP_When p=0x7f3c8c000e10 e=1634893016.473301 f=0x1e
**** v1   vsl|          0 ExpKill         - EXP_expire p=0x7f3c8c000bb0 e=129.978327 f=0x0
**** v1   vsl|       1005 Begin           c req 1002 rxreq
**** v1   vsl|       1005 Timestamp       c Start: 1634892886.472748 0.000000 0.000000
**** v1   vsl|       1005 Timestamp       c Req: 1634892886.472748 0.000000 0.000000
**** v1   vsl|       1005 VCL_use         c vcl2
**** v1   vsl|       1005 ReqStart        c 127.0.0.1 50234 a0
**** v1   vsl|       1005 ReqMethod       c GET
**** v1   vsl|       1005 ReqURL          c /colon
**** v1   vsl|       1005 ReqProtocol     c HTTP/1.1
**** v1   vsl|       1005 ReqHeader       c Host: 127.0.0.1
**** v1   vsl|       1005 ReqHeader       c X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1005 VCL_call        c RECV
**** v1   vsl|       1005 ReqUnset        c Host: 127.0.0.1
**** v1   vsl|       1005 ReqHeader       c host: 127.0.0.1
**** v1   vsl|       1005 VCL_return      c hash
**** v1   vsl|       1005 VCL_call        c HASH
**** v1   vsl|       1005 VCL_return      c lookup
**** v1   vsl|       1005 VCL_call        c MISS
**** v1   vsl|       1005 VCL_return      c fetch
**** v1   vsl|       1005 Link            c bereq 1006 fetch
**** v1   vsl|       1005 Timestamp       c Fetch: 1634892886.483454 0.010705 0.010705
**** v1   vsl|       1005 RespProtocol    c HTTP/1.1
**** v1   vsl|       1005 RespStatus      c 200
**** v1   vsl|       1005 RespReason      c OK
**** v1   vsl|       1005 RespHeader      c Content-Length: 0
**** v1   vsl|       1005 RespHeader      c Date: Fri, 22 Oct 2021 08:54:46 GMT
**** v1   vsl|       1005 RespHeader      c X-Varnish: 1005
**** v1   vsl|       1005 RespHeader      c Age: 0
**** v1   vsl|       1005 RespHeader      c Via: 1.1 varnish (Varnish/6.5)
**** v1   vsl|       1005 VCL_call        c DELIVER
**** v1   vsl|       1005 RespHeader      c good: :
**** v1   vsl|       1005 VCL_return      c deliver
**** v1   vsl|       1005 Timestamp       c Process: 1634892886.483463 0.010715 0.000009
**** v1   vsl|       1005 Filters         c 
**** v1   vsl|       1005 RespHeader      c Accept-Ranges: bytes
**** v1   vsl|       1005 RespHeader      c Connection: keep-alive
**** v1   vsl|       1005 Timestamp       c Resp: 1634892886.483497 0.010749 0.000034
**** v1   vsl|       1005 ReqAcct         c 40 0 40 187 0 187
**** v1   vsl|       1005 End             c 
**** v1   vsl|       1002 Link            c req 1007 rxreq
**** v1   vsl|       1008 Begin           b bereq 1007 fetch
**** v1   vsl|       1008 VCL_use         b vcl2
**** v1   vsl|       1008 Timestamp       b Start: 1634892886.484229 0.000000 0.000000
**** v1   vsl|       1008 BereqMethod     b GET
**** v1   vsl|       1008 BereqURL        b /percent
**** v1   vsl|       1008 BereqProtocol   b HTTP/1.1
**** v1   vsl|       1008 BereqHeader     b X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1008 BereqHeader     b host: 127.0.0.1
**** v1   vsl|       1008 BereqHeader     b Accept-Encoding: gzip
**** v1   vsl|       1008 BereqHeader     b X-Varnish: 1008
**** v1   vsl|       1008 VCL_call        b BACKEND_FETCH
**** v1   vsl|       1008 VCL_return      b fetch
**** v1   vsl|       1008 BackendOpen     b 28 s1 127.0.0.1 39435 127.0.0.1 54104 connect
**** v1   vsl|       1008 Timestamp       b Bereq: 1634892886.484335 0.000105 0.000105
**** v1   vsl|       1008 Timestamp       b Beresp: 1634892886.484746 0.000516 0.000411
**** v1   vsl|       1008 BerespProtocol  b HTTP/1.1
**** v1   vsl|       1008 BerespStatus    b 200
**** v1   vsl|       1008 BerespReason    b OK
**** v1   vsl|       1008 BerespHeader    b Content-Length: 0
**** v1   vsl|       1008 BerespHeader    b Date: Fri, 22 Oct 2021 08:54:46 GMT
**** v1   vsl|       1008 TTL             b RFC 120 10 0 1634892886 1634892886 1634892886 0 0 cacheable
**** v1   vsl|       1008 VCL_call        b BACKEND_RESPONSE
**** v1   vsl|       1008 VCL_return      b deliver
**** v1   vsl|       1008 Filters         b 
**** v1   vsl|       1008 Storage         b malloc s0
**** v1   vsl|       1008 Fetch_Body      b 0 none -
**** v1   vsl|       1008 BackendClose    b 28 s1 recycle
**** v1   vsl|       1008 Timestamp       b BerespBody: 1634892886.494855 0.010626 0.010109
**** v1   vsl|       1008 Length          b 0
**** v1   vsl|       1008 BereqAcct       b 110 0 110 38 0 38
**** v1   vsl|       1008 End             b 
**** v1   vsl|          0 ExpKill         - EXP_expire p=0x7f3c8c000bb0 e=129.966905 f=0x0
**** v1   vsl|          0 ExpKill         - EXP_Inbox flg=1e p=0x7f3c8c001040 e=0.000000 f=0x0
**** v1   vsl|          0 ExpKill         - EXP_When p=0x7f3c8c001040 e=1634893016.484746 f=0x1e
**** v1   vsl|          0 ExpKill         - EXP_expire p=0x7f3c8c000bb0 e=129.966898 f=0x0
**** v1   vsl|       1007 Begin           c req 1002 rxreq
**** v1   vsl|       1007 Timestamp       c Start: 1634892886.484202 0.000000 0.000000
**** v1   vsl|       1007 Timestamp       c Req: 1634892886.484202 0.000000 0.000000
**** v1   vsl|       1007 VCL_use         c vcl2
**** v1   vsl|       1007 ReqStart        c 127.0.0.1 50234 a0
**** v1   vsl|       1007 ReqMethod       c GET
**** v1   vsl|       1007 ReqURL          c /percent
**** v1   vsl|       1007 ReqProtocol     c HTTP/1.1
**** v1   vsl|       1007 ReqHeader       c Host: 127.0.0.1
**** v1   vsl|       1007 ReqHeader       c X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1007 VCL_call        c RECV
**** v1   vsl|       1007 ReqUnset        c Host: 127.0.0.1
**** v1   vsl|       1007 ReqHeader       c host: 127.0.0.1
**** v1   vsl|       1007 VCL_return      c hash
**** v1   vsl|       1007 VCL_call        c HASH
**** v1   vsl|       1007 VCL_return      c lookup
**** v1   vsl|       1007 VCL_call        c MISS
**** v1   vsl|       1007 VCL_return      c fetch
**** v1   vsl|       1007 Link            c bereq 1008 fetch
**** v1   vsl|       1007 Timestamp       c Fetch: 1634892886.494883 0.010680 0.010680
**** v1   vsl|       1007 RespProtocol    c HTTP/1.1
**** v1   vsl|       1007 RespStatus      c 200
**** v1   vsl|       1007 RespReason      c OK
**** v1   vsl|       1007 RespHeader      c Content-Length: 0
**** v1   vsl|       1007 RespHeader      c Date: Fri, 22 Oct 2021 08:54:46 GMT
**** v1   vsl|       1007 RespHeader      c X-Varnish: 1007
**** v1   vsl|       1007 RespHeader      c Age: 0
**** v1   vsl|       1007 RespHeader      c Via: 1.1 varnish (Varnish/6.5)
**** v1   vsl|       1007 VCL_call        c DELIVER
**** v1   vsl|       1007 VCL_Error       c vmod blob error: cannot decode, illegal encoding beginning with "%20"
**** v1   vsl|       1007 RespHeader      c bad: 
**** v1   vsl|       1007 VCL_return      c fail
**** v1   vsl|       1007 Timestamp       c Process: 1634892886.494892 0.010690 0.000009
**** v1   vsl|       1007 RespProtocol    c HTTP/1.1
**** v1   vsl|       1007 RespStatus      c 503
**** v1   vsl|       1007 RespReason      c VCL failed
**** v1   vsl|       1007 RespHeader      c Date: Fri, 22 Oct 2021 08:54:46 GMT
**** v1   vsl|       1007 RespHeader      c Server: Varnish
**** v1   vsl|       1007 RespHeader      c X-Varnish: 1007
**** v1   vsl|       1007 VCL_call        c SYNTH
**** v1   vsl|       1007 RespHeader      c Content-Type: text/html; charset=utf-8
**** v1   vsl|       1007 RespHeader      c Retry-After: 5
**** v1   vsl|       1007 VCL_return      c deliver
**** v1   vsl|       1007 Timestamp       c Process: 1634892886.494904 0.010702 0.000011
**** v1   vsl|       1007 RespHeader      c Content-Length: 251
**** v1   vsl|       1007 Storage         c malloc Transient
**** v1   vsl|       1007 Filters         c 
**** v1   vsl|       1007 RespHeader      c Connection: close
**** v1   vsl|       1007 Timestamp       c Resp: 1634892886.494943 0.010740 0.000038
**** v1   vsl|       1007 ReqAcct         c 42 0 42 194 251 445
**** v1   vsl|       1007 End             c 
**** v1   vsl|       1002 SessClose       c VCL_FAILURE 0.034
**** v1   vsl|       1002 End             c 
**** v1   vsl|       1009 Begin           c sess 0 HTTP/1
**** v1   vsl|       1009 SessOpen        c 127.0.0.1 50242 a0 127.0.0.1 38571 1634892886.495883 27
**** v1   vsl|       1009 Link            c req 1010 rxreq
**** v1   vsl|       1011 Begin           b bereq 1010 fetch
**** v1   vsl|       1011 VCL_use         b vcl2
**** v1   vsl|       1011 Timestamp       b Start: 1634892886.495995 0.000000 0.000000
**** v1   vsl|       1011 BereqMethod     b GET
**** v1   vsl|       1011 BereqURL        b /percent-two
**** v1   vsl|       1011 BereqProtocol   b HTTP/1.1
**** v1   vsl|       1011 BereqHeader     b X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1011 BereqHeader     b host: 127.0.0.1
**** v1   vsl|       1011 BereqHeader     b Accept-Encoding: gzip
**** v1   vsl|       1011 BereqHeader     b X-Varnish: 1011
**** v1   vsl|       1011 VCL_call        b BACKEND_FETCH
**** v1   vsl|       1011 VCL_return      b fetch
**** v1   vsl|       1011 BackendOpen     b 28 s1 127.0.0.1 39435 127.0.0.1 54108 connect
**** v1   vsl|       1011 Timestamp       b Bereq: 1634892886.496103 0.000108 0.000108
**** v1   vsl|       1011 Timestamp       b Beresp: 1634892886.496533 0.000537 0.000429
**** v1   vsl|       1011 BerespProtocol  b HTTP/1.1
**** v1   vsl|       1011 BerespStatus    b 200
**** v1   vsl|       1011 BerespReason    b OK
**** v1   vsl|       1011 BerespHeader    b Content-Length: 0
**** v1   vsl|       1011 BerespHeader    b Date: Fri, 22 Oct 2021 08:54:46 GMT
**** v1   vsl|       1011 TTL             b RFC 120 10 0 1634892886 1634892886 1634892886 0 0 cacheable
**** v1   vsl|       1011 VCL_call        b BACKEND_RESPONSE
**** v1   vsl|       1011 VCL_return      b deliver
**** v1   vsl|       1011 Filters         b 
**** v1   vsl|       1011 Storage         b malloc s0
**** v1   vsl|       1011 Fetch_Body      b 0 none -
**** v1   vsl|       1011 BackendClose    b 28 s1 recycle
**** v1   vsl|       1011 Timestamp       b BerespBody: 1634892886.506642 0.010647 0.010109
**** v1   vsl|       1011 Length          b 0
**** v1   vsl|       1011 BereqAcct       b 114 0 114 38 0 38
**** v1   vsl|       1011 End             b 
**** v1   vsl|          0 ExpKill         - EXP_expire p=0x7f3c8c000bb0 e=129.955117 f=0x0
**** v1   vsl|          0 ExpKill         - EXP_Inbox flg=1e p=0x7f3ca4011490 e=0.000000 f=0x0
**** v1   vsl|          0 ExpKill         - EXP_When p=0x7f3ca4011490 e=1634893016.496533 f=0x1e
**** v1   vsl|          0 ExpKill         - EXP_expire p=0x7f3c8c000bb0 e=129.955110 f=0x0
**** v1   vsl|       1010 Begin           c req 1009 rxreq
**** v1   vsl|       1010 Timestamp       c Start: 1634892886.495962 0.000000 0.000000
**** v1   vsl|       1010 Timestamp       c Req: 1634892886.495962 0.000000 0.000000
**** v1   vsl|       1010 VCL_use         c vcl2
**** v1   vsl|       1010 ReqStart        c 127.0.0.1 50242 a0
**** v1   vsl|       1010 ReqMethod       c GET
**** v1   vsl|       1010 ReqURL          c /percent-two
**** v1   vsl|       1010 ReqProtocol     c HTTP/1.1
**** v1   vsl|       1010 ReqHeader       c Host: 127.0.0.1
**** v1   vsl|       1010 ReqHeader       c X-Forwarded-For: 127.0.0.1
**** v1   vsl|       1010 VCL_call        c RECV
**** v1   vsl|       1010 ReqUnset        c Host: 127.0.0.1
**** v1   vsl|       1010 ReqHeader       c host: 127.0.0.1
**** v1   vsl|       1010 VCL_return      c hash
**** v1   vsl|       1010 VCL_call        c HASH
**** v1   vsl|       1010 VCL_return      c lookup
**** v1   vsl|       1010 VCL_call        c MISS
**** v1   vsl|       1010 VCL_return      c fetch
**** v1   vsl|       1010 Link            c bereq 1011 fetch
**** v1   vsl|       1010 Timestamp       c Fetch: 1634892886.506688 0.010726 0.010726
**** v1   vsl|       1010 RespProtocol    c HTTP/1.1
**** v1   vsl|       1010 RespStatus      c 200
**** v1   vsl|       1010 RespReason      c OK
**** v1   vsl|       1010 RespHeader      c Content-Length: 0
**** v1   vsl|       1010 RespHeader      c Date: Fri, 22 Oct 2021 08:54:46 GMT
**** v1   vsl|       1010 RespHeader      c X-Varnish: 1010
**** v1   vsl|       1010 RespHeader      c Age: 0
**** v1   vsl|       1010 RespHeader      c Via: 1.1 varnish (Varnish/6.5)
**** v1   vsl|       1010 VCL_call        c DELIVER
**** v1   vsl|       1010 VCL_Error       c vmod blob error: cannot decode, illegal encoding beginning with "%20"
**** v1   vsl|       1010 RespHeader      c bad: 
**** v1   vsl|       1010 VCL_return      c fail
**** v1   vsl|       1010 Timestamp       c Process: 1634892886.506698 0.010736 0.000010
**** v1   vsl|       1010 RespProtocol    c HTTP/1.1
**** v1   vsl|       1010 RespStatus      c 503
**** v1   vsl|       1010 RespReason      c VCL failed
**** v1   vsl|       1010 RespHeader      c Date: Fri, 22 Oct 2021 08:54:46 GMT
**** v1   vsl|       1010 RespHeader      c Server: Varnish
**** v1   vsl|       1010 RespHeader      c X-Varnish: 1010
**** v1   vsl|       1010 VCL_call        c SYNTH
**** v1   vsl|       1010 RespHeader      c Content-Type: text/html; charset=utf-8
**** v1   vsl|       1010 RespHeader      c Retry-After: 5
**** v1   vsl|       1010 VCL_return      c deliver
**** v1   vsl|       1010 Timestamp       c Process: 1634892886.506709 0.010747 0.000010
**** v1   vsl|       1010 RespHeader      c Content-Length: 251
**** v1   vsl|       1010 Storage         c malloc Transient
**** v1   vsl|       1010 Filters         c 
**** v1   vsl|       1010 RespHeader      c Connection: close
**** v1   vsl|       1010 Timestamp       c Resp: 1634892886.506749 0.010787 0.000040
**** v1   vsl|       1010 ReqAcct         c 46 0 46 194 251 445
**** v1   vsl|       1010 End             c 
**** v1   vsl|       1009 SessClose       c VCL_FAILURE 0.011
**** v1   vsl|       1009 End             c 
**** v1   vsl|          0 CLI             - Rd backend.list 
**** v1   vsl|          0 CLI             - Wr 200 134 Backend name   Admin      Probe    Health     Last change
vcl2.s1        healthy    0/0      healthy    Fri, 22 Oct 2021 08:54:46 GMT

**** v1   vsl|          0 CLI             - EOF on CLI connection, worker stops
**** dT   1.668
***  v1   debug|Info: Child (71368) ended
***  v1   debug|Info: Child (71368) said Child dies
***  v1   debug|Debug: Child cleanup complete
***  v1   CLI RX  200
***  v1   wait-stopped
**** v1   CLI TX|status
***  v1   CLI RX  200
**** v1   CLI RX|Child in state stopped
**** v1   CLI TX|panic.clear
***  v1   CLI RX  300
**** v1   CLI RX|No panic to clear
**** dT   1.669
***  v1   debug|Info: manager stopping child
***  v1   debug|Info: manager dies
**** v1   STDOUT EOF
**** dT   1.714
**   v1   WAIT4 pid=71312 status=0x0000 (user 0.322284 sys 0.068606)
*    top  TEST ./tests/m00040.vtc completed
#    top  TEST ./tests/m00040.vtc passed (1.715)
