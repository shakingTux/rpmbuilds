**** dT   0.000
*    top  TEST ./tests/d00039.vtc starting
**** top  extmacro def pwd=/root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest
**** top  extmacro def localhost=127.0.0.1
**** top  extmacro def bad_backend=127.0.0.1 46163
**** top  extmacro def bad_ip=192.0.2.255
**** top  extmacro def topbuild=/root/rpmbuild/BUILD/varnish-6.5.2
**** top  macro def testdir=/root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest/./tests
**** top  macro def tmpdir=/tmp/vtc.63429.707f9e7b
**   top  === varnishtest "execute backend.list -p[j] on builtin directors...
*    top  VTEST execute backend.list -p[j] on builtin directors
**   top  === varnish v1 -vcl {
**** dT   0.004
**   v1   Launch
***  v1   CMD: cd ${pwd} && exec varnishd  -d -n /tmp/vtc.63429.707f9e7b/v1 -l 2m -p auto_restart=off -p syslog_cli_traffic=off -p sigsegv_handler=on -p thread_pool_min=10 -p debug=+vtc_mode -p vsl_mask=+Debug -a '127.0.0.1:0' -M '127.0.0.1 45849' -P /tmp/vtc.63429.707f9e7b/v1/varnishd.pid -p vmod_path=/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_blob/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_cookie/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_std/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_vtc/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_unix/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_proxy/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_purge/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_directors/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_debug/.libs 
***  v1   CMD: cd /root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest && exec varnishd  -d -n /tmp/vtc.63429.707f9e7b/v1 -l 2m -p auto_restart=off -p syslog_cli_traffic=off -p sigsegv_handler=on -p thread_pool_min=10 -p debug=+vtc_mode -p vsl_mask=+Debug -a '127.0.0.1:0' -M '127.0.0.1 45849' -P /tmp/vtc.63429.707f9e7b/v1/varnishd.pid -p vmod_path=/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_blob/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_cookie/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_std/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_vtc/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_unix/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_proxy/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_purge/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_directors/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_debug/.libs 
***  v1   PID: 63447
**** v1   macro def v1_pid=63447
**** v1   macro def v1_name=/tmp/vtc.63429.707f9e7b/v1
**** dT   0.012
***  v1   debug|Debug: Version: varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
***  v1   debug|Debug: Platform: Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
***  v1   debug|200 321     
***  v1   debug|-----------------------------
***  v1   debug|Varnish Cache CLI 1.0
***  v1   debug|-----------------------------
***  v1   debug|Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
***  v1   debug|varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
***  v1   debug|
***  v1   debug|Type 'help' for command list.
***  v1   debug|Type 'quit' to close CLI session.
***  v1   debug|Type 'start' to launch worker process.
***  v1   debug|
**** dT   0.110
**** v1   CLIPOLL 1 0x1 0x0
***  v1   CLI connection fd = 5
***  v1   CLI RX  107
**** v1   CLI RX|rxkdbelxqlbzyjgmblfohjdrwihuojgs
**** v1   CLI RX|
**** v1   CLI RX|Authentication required.
**** dT   0.111
**** v1   CLI TX|auth 4d52cd6d5e6d4f9c059ad994c8b054b2fedc87ad8e3dfe931460a14a845203a2
***  v1   CLI RX  200
**** v1   CLI RX|-----------------------------
**** v1   CLI RX|Varnish Cache CLI 1.0
**** v1   CLI RX|-----------------------------
**** v1   CLI RX|Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
**** v1   CLI RX|varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
**** v1   CLI RX|
**** v1   CLI RX|Type 'help' for command list.
**** v1   CLI RX|Type 'quit' to close CLI session.
**** v1   CLI RX|Type 'start' to launch worker process.
**** v1   CLI TX|vcl.inline vcl1 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\timport directors;
**** v1   CLI TX|\timport std;
**** v1   CLI TX|
**** v1   CLI TX|\tprobe p {.url = "/foo"; }
**** v1   CLI TX|\tbackend a1 { .host = "192.0.2.255"; }
**** v1   CLI TX|\tbackend a2 { .host = "192.0.2.255"; }
**** v1   CLI TX|\tbackend a3 { .host = "192.0.2.255"; }
**** v1   CLI TX|\tbackend a4 { .host = "192.0.2.255"; .probe = p; }
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_init {
**** v1   CLI TX|\t\tnew rr1 = directors.round_robin();
**** v1   CLI TX|\t\trr1.add_backend(a1);
**** v1   CLI TX|\t\trr1.add_backend(a2);
**** v1   CLI TX|\t\trr1.add_backend(a3);
**** v1   CLI TX|\t\trr1.add_backend(a4);
**** v1   CLI TX|\t\tnew rr2 = directors.round_robin();
**** v1   CLI TX|\t\trr2.add_backend(a1);
**** v1   CLI TX|\t\trr2.add_backend(a2);
**** v1   CLI TX|\t\tnew rr3 = directors.round_robin();
**** v1   CLI TX|\t\trr3.add_backend(a4);
**** v1   CLI TX|\t\tnew shard = directors.shard();
**** v1   CLI TX|\t\tshard.set_rampup(1m);
**** v1   CLI TX|\t\tshard.add_backend(a1);
**** v1   CLI TX|\t\tshard.add_backend(a2, ident="A2", rampup=1h);
**** v1   CLI TX|\t\tshard.add_backend(a3);
**** v1   CLI TX|\t\tshard.add_backend(a4, rampup=10m);
**** v1   CLI TX|\t\tshard.reconfigure();
**** v1   CLI TX|\t\tnew rand = directors.random();
**** v1   CLI TX|\t\trand.add_backend(a1, 1);
**** v1   CLI TX|\t\trand.add_backend(a2, 2);
**** v1   CLI TX|\t\trand.add_backend(a3, 3);
**** v1   CLI TX|\t\trand.add_backend(a4, 4);
**** v1   CLI TX|\t\tnew hash = directors.hash();
**** v1   CLI TX|\t\thash.add_backend(a1, 1);
**** v1   CLI TX|\t\thash.add_backend(a2, 2);
**** v1   CLI TX|\t\thash.add_backend(a3, 3);
**** v1   CLI TX|\t\thash.add_backend(a4, 4);
**** v1   CLI TX|\t\tnew fallback = directors.fallback();
**** v1   CLI TX|\t\tfallback.add_backend(a1);
**** v1   CLI TX|\t\tfallback.add_backend(a2);
**** v1   CLI TX|\t\tfallback.add_backend(a3);
**** v1   CLI TX|\t\tfallback.add_backend(a4);
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.211
***  v1   vsl|No VSL chunk found (child not started ?)
**** dT   0.299
***  v1   CLI RX  200
**** v1   CLI RX|VCL compiled.
**** v1   CLI TX|vcl.use vcl1
***  v1   CLI RX  200
**   v1   Start
**** v1   CLI TX|start
**** dT   0.302
***  v1   debug|Debug: Child (63459) Started
**** dT   0.328
***  v1   CLI RX  200
***  v1   wait-running
**** v1   CLI TX|status
***  v1   debug|Info: Child (63459) said Child starts
***  v1   CLI RX  200
**** v1   CLI RX|Child in state running
**** v1   CLI TX|debug.listen_address
***  v1   CLI RX  200
**** v1   CLI RX|127.0.0.1 44703
**** v1   CLI TX|debug.xid 999
***  v1   CLI RX  200
**** v1   CLI RX|XID is 999
**** v1   CLI TX|debug.listen_address
**** dT   0.329
***  v1   CLI RX  200
**** v1   CLI RX|127.0.0.1 44703
**   v1   Listen on 127.0.0.1 44703
**** v1   macro def v1_addr=127.0.0.1
**** v1   macro def v1_port=44703
**** v1   macro def v1_sock=127.0.0.1 44703
**** dT   0.412
**** v1   vsl|          0 CLI             - Rd vcl.load "vcl1" vcl_vcl1.1634892802.702392/vgc.so 1auto
**** v1   vsl|          0 Backend_health  - a4 Went sick -------H 2 3 8 0.000000 0.000000 ""
**** v1   vsl|          0 Backend_health  - a4 Still sick -------H 2 3 8 0.000000 0.000000 ""
**** v1   vsl|          0 CLI             - Wr 200 52 Loaded "vcl_vcl1.1634892802.702392/vgc.so" as "vcl1"
**** v1   vsl|          0 CLI             - Rd vcl.use "vcl1"
**** v1   vsl|          0 CLI             - Wr 200 0 
**** v1   vsl|          0 CLI             - Rd start
**** v1   vsl|          0 CLI             - Wr 200 0 
**** v1   vsl|          0 CLI             - Rd debug.listen_address 
**** v1   vsl|          0 CLI             - Wr 200 16 127.0.0.1 44703

**** v1   vsl|          0 CLI             - Rd debug.xid 999 
**** v1   vsl|          0 CLI             - Wr 200 10 XID is 999
**** v1   vsl|          0 CLI             - Rd debug.listen_address 
**** v1   vsl|          0 CLI             - Wr 200 16 127.0.0.1 44703

**** dT   0.429
**   top  === varnish v1 -cli "backend.list"
**** v1   CLI TX|backend.list
***  v1   CLI RX  200
**** v1   CLI RX|Backend name    Admin      Probe    Health     Last change
**** v1   CLI RX|vcl1.a1         healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.a2         healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.a3         healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.a4         probe      2/8      sick       Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.rr1        probe      3/4      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.rr2        probe      2/2      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.rr3        probe      0/1      sick       Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.shard      probe      3/4      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.rand       probe      3/4      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.hash       healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.fallback   probe      3/4      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**   v1   CLI 200 <backend.list>
**   top  === varnish v1 -cli "backend.list -p"
**** v1   CLI TX|backend.list -p
**** dT   0.430
***  v1   CLI RX  200
**** v1   CLI RX|Backend name    Admin      Probe      Health     Last change
**** v1   CLI RX|vcl1.a1         healthy    0/0        healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.a2         healthy    0/0        healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.a3         healthy    0/0        healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.a4         probe      2/8        sick       Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX| Current states  good:  2 threshold:  3 window:  8
**** v1   CLI RX|  Average response time of good probes: 0.000000
**** v1   CLI RX|  Oldest ================================================== Newest
**** v1   CLI RX|  -------------------------------------------------------------HH- Happy
**** v1   CLI RX|
**** v1   CLI RX|vcl1.rr1        probe      3/4        healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|
**** v1   CLI RX|                Backend    Weight     Health
**** v1   CLI RX|                a1         -          healthy
**** v1   CLI RX|                a2         -          healthy
**** v1   CLI RX|                a3         -          healthy
**** v1   CLI RX|                a4         -          sick
**** v1   CLI RX|
**** v1   CLI RX|vcl1.rr2        probe      2/2        healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|
**** v1   CLI RX|                Backend    Weight     Health
**** v1   CLI RX|                a1         -          healthy
**** v1   CLI RX|                a2         -          healthy
**** v1   CLI RX|
**** v1   CLI RX|vcl1.rr3        probe      0/1        sick       Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|
**** v1   CLI RX|                Backend    Weight     Health
**** v1   CLI RX|                a4         -          sick
**** v1   CLI RX|
**** v1   CLI RX|vcl1.shard      probe      3/4        healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|
**** v1   CLI RX|                Backend    Ident      Health     Rampup  Remaining
**** v1   CLI RX|                a1         a1         healthy      0.17%   59.897s
**** v1   CLI RX|                a2         A2         healthy      0.00% 3599.897s
**** v1   CLI RX|                a3         a3         healthy      0.17%   59.897s
**** v1   CLI RX|                a4         a4         sick         0.00%    0.000s
**** v1   CLI RX|
**** v1   CLI RX|vcl1.rand       probe      3/4        healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|
**** v1   CLI RX|                Backend    Weight     Health
**** v1   CLI RX|                a1          16.67%    healthy
**** v1   CLI RX|                a2          33.33%    healthy
**** v1   CLI RX|                a3          50.00%    healthy
**** v1   CLI RX|                a4           0.00%    sick
**** v1   CLI RX|
**** v1   CLI RX|vcl1.hash       healthy    0/0        healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.fallback   probe      3/4        healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|
**** v1   CLI RX|                Backend    Current    Health
**** v1   CLI RX|                a1         *          healthy
**** v1   CLI RX|                a2                    healthy
**** v1   CLI RX|                a3                    healthy
**** v1   CLI RX|                a4                    sick
**** v1   CLI RX|
**   v1   CLI 200 <backend.list -p>
**   top  === varnish v1 -clijson "backend.list -j"
**** v1   CLI TX|backend.list -j
***  v1   CLI RX  200
**** v1   CLI RX|[ 3, ["backend.list", "-j"], 1634892803.021,
**** v1   CLI RX|  {
**** v1   CLI RX|    "vcl1.a1": {
**** v1   CLI RX|      "type": "backend",
**** v1   CLI RX|      "admin_health": "healthy",
**** v1   CLI RX|      "probe_message": [0, 0, "healthy"],
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.a2": {
**** v1   CLI RX|      "type": "backend",
**** v1   CLI RX|      "admin_health": "healthy",
**** v1   CLI RX|      "probe_message": [0, 0, "healthy"],
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.a3": {
**** v1   CLI RX|      "type": "backend",
**** v1   CLI RX|      "admin_health": "healthy",
**** v1   CLI RX|      "probe_message": [0, 0, "healthy"],
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.a4": {
**** v1   CLI RX|      "type": "backend",
**** v1   CLI RX|      "admin_health": "probe",
**** v1   CLI RX|      "probe_message": [2, 8, "sick"],
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.rr1": {
**** v1   CLI RX|      "type": "round-robin",
**** v1   CLI RX|      "admin_health": "probe",
**** v1   CLI RX|      "probe_message": [3, 4, "healthy"],
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.rr2": {
**** v1   CLI RX|      "type": "round-robin",
**** v1   CLI RX|      "admin_health": "probe",
**** v1   CLI RX|      "probe_message": [2, 2, "healthy"],
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.rr3": {
**** v1   CLI RX|      "type": "round-robin",
**** v1   CLI RX|      "admin_health": "probe",
**** v1   CLI RX|      "probe_message": [0, 1, "sick"],
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.shard": {
**** v1   CLI RX|      "type": "shard",
**** v1   CLI RX|      "admin_health": "probe",
**** v1   CLI RX|      "probe_message": [3, 4, "healthy"],
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.rand": {
**** v1   CLI RX|      "type": "random",
**** v1   CLI RX|      "admin_health": "probe",
**** v1   CLI RX|      "probe_message": [3, 4, "healthy"],
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.hash": {
**** v1   CLI RX|      "type": "hash",
**** v1   CLI RX|      "admin_health": "healthy",
**** v1   CLI RX|      "probe_message": [0, 0, "healthy"],
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.fallback": {
**** v1   CLI RX|      "type": "fallback",
**** v1   CLI RX|      "admin_health": "probe",
**** v1   CLI RX|      "probe_message": [3, 4, "healthy"],
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    }
**** v1   CLI RX|  }
**** v1   CLI RX|]
**   v1   CLI 200 <backend.list -j>
**   top  === varnish v1 -clijson "backend.list -pj"
**** v1   CLI TX|backend.list -pj
***  v1   CLI RX  200
**** v1   CLI RX|[ 3, ["backend.list", "-pj"], 1634892803.021,
**** v1   CLI RX|  {
**** v1   CLI RX|    "vcl1.a1": {
**** v1   CLI RX|      "type": "backend",
**** v1   CLI RX|      "admin_health": "healthy",
**** v1   CLI RX|      "probe_message": [0, 0, "healthy"],
**** v1   CLI RX|      "probe_details": {},
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.a2": {
**** v1   CLI RX|      "type": "backend",
**** v1   CLI RX|      "admin_health": "healthy",
**** v1   CLI RX|      "probe_message": [0, 0, "healthy"],
**** v1   CLI RX|      "probe_details": {},
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.a3": {
**** v1   CLI RX|      "type": "backend",
**** v1   CLI RX|      "admin_health": "healthy",
**** v1   CLI RX|      "probe_message": [0, 0, "healthy"],
**** v1   CLI RX|      "probe_details": {},
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.a4": {
**** v1   CLI RX|      "type": "backend",
**** v1   CLI RX|      "admin_health": "probe",
**** v1   CLI RX|      "probe_message": [2, 8, "sick"],
**** v1   CLI RX|      "probe_details": {
**** v1   CLI RX|        "bits_4": 0,
**** v1   CLI RX|        "bits_6": 0,
**** v1   CLI RX|        "bits_U": 0,
**** v1   CLI RX|        "bits_x": 0,
**** v1   CLI RX|        "bits_X": 0,
**** v1   CLI RX|        "bits_r": 0,
**** v1   CLI RX|        "bits_R": 0,
**** v1   CLI RX|        "bits_H": 6,
**** v1   CLI RX|        "good": 2,
**** v1   CLI RX|        "threshold": 3,
**** v1   CLI RX|        "window": 8
**** v1   CLI RX|      },
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.rr1": {
**** v1   CLI RX|      "type": "round-robin",
**** v1   CLI RX|      "admin_health": "probe",
**** v1   CLI RX|      "probe_message": [3, 4, "healthy"],
**** v1   CLI RX|      "probe_details": {
**** v1   CLI RX|        "backends": {
**** v1   CLI RX|          "a1": {
**** v1   CLI RX|            "health": "healthy"
**** v1   CLI RX|          },
**** v1   CLI RX|          "a2": {
**** v1   CLI RX|            "health": "healthy"
**** v1   CLI RX|          },
**** v1   CLI RX|          "a3": {
**** v1   CLI RX|            "health": "healthy"
**** v1   CLI RX|          },
**** v1   CLI RX|          "a4": {
**** v1   CLI RX|            "health": "sick"
**** v1   CLI RX|          }
**** v1   CLI RX|        }
**** v1   CLI RX|      },
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.rr2": {
**** v1   CLI RX|      "type": "round-robin",
**** v1   CLI RX|      "admin_health": "probe",
**** v1   CLI RX|      "probe_message": [2, 2, "healthy"],
**** v1   CLI RX|      "probe_details": {
**** v1   CLI RX|        "backends": {
**** v1   CLI RX|          "a1": {
**** v1   CLI RX|            "health": "healthy"
**** v1   CLI RX|          },
**** v1   CLI RX|          "a2": {
**** v1   CLI RX|            "health": "healthy"
**** v1   CLI RX|          }
**** v1   CLI RX|        }
**** v1   CLI RX|      },
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.rr3": {
**** v1   CLI RX|      "type": "round-robin",
**** v1   CLI RX|      "admin_health": "probe",
**** v1   CLI RX|      "probe_message": [0, 1, "sick"],
**** v1   CLI RX|      "probe_details": {
**** v1   CLI RX|        "backends": {
**** v1   CLI RX|          "a4": {
**** v1   CLI RX|            "health": "sick"
**** v1   CLI RX|          }
**** v1   CLI RX|        }
**** v1   CLI RX|      },
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.shard": {
**** v1   CLI RX|      "type": "shard",
**** v1   CLI RX|      "admin_health": "probe",
**** v1   CLI RX|      "probe_message": [3, 4, "healthy"],
**** v1   CLI RX|      "probe_details": {
**** v1   CLI RX|        "warmup": 0.000000,
**** v1   CLI RX|        "rampup_duration": 60.000000,
**** v1   CLI RX|        "backends": {
**** v1   CLI RX|          "a1": {
**** v1   CLI RX|            "ident": "a1",
**** v1   CLI RX|            "health": "healthy",
**** v1   CLI RX|            "rampup": 0.001724,
**** v1   CLI RX|            "rampup_remaining": 59.897
**** v1   CLI RX|          },
**** v1   CLI RX|          "a2": {
**** v1   CLI RX|            "ident": "A2",
**** v1   CLI RX|            "health": "healthy",
**** v1   CLI RX|            "rampup": 0.000029,
**** v1   CLI RX|            "rampup_remaining": 3599.897
**** v1   CLI RX|          },
**** v1   CLI RX|          "a3": {
**** v1   CLI RX|            "ident": "a3",
**** v1   CLI RX|            "health": "healthy",
**** v1   CLI RX|            "rampup": 0.001724,
**** v1   CLI RX|            "rampup_remaining": 59.897
**** v1   CLI RX|          },
**** v1   CLI RX|          "a4": {
**** v1   CLI RX|            "ident": "a4",
**** v1   CLI RX|            "health": "sick",
**** v1   CLI RX|            "rampup": 0.000000,
**** v1   CLI RX|            "rampup_remaining": 0.000
**** v1   CLI RX|          }
**** v1   CLI RX|        }
**** v1   CLI RX|      },
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.rand": {
**** v1   CLI RX|      "type": "random",
**** v1   CLI RX|      "admin_health": "probe",
**** v1   CLI RX|      "probe_message": [3, 4, "healthy"],
**** v1   CLI RX|      "probe_details": {
**** v1   CLI RX|        "total_weight": 6.000000,
**** v1   CLI RX|        "backends": {
**** v1   CLI RX|          "a1": {
**** v1   CLI RX|            "weight": 1.000000,
**** v1   CLI RX|            "health": "healthy"
**** v1   CLI RX|          },
**** v1   CLI RX|          "a2": {
**** v1   CLI RX|            "weight": 2.000000,
**** v1   CLI RX|            "health": "healthy"
**** v1   CLI RX|          },
**** v1   CLI RX|          "a3": {
**** v1   CLI RX|            "weight": 3.000000,
**** v1   CLI RX|            "health": "healthy"
**** v1   CLI RX|          },
**** v1   CLI RX|          "a4": {
**** v1   CLI RX|            "weight": 0.000000,
**** v1   CLI RX|            "health": "sick"
**** v1   CLI RX|          }
**** v1   CLI RX|        }
**** v1   CLI RX|      },
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.hash": {
**** v1   CLI RX|      "type": "hash",
**** v1   CLI RX|      "admin_health": "healthy",
**** v1   CLI RX|      "probe_message": [0, 0, "healthy"],
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    },
**** v1   CLI RX|    "vcl1.fallback": {
**** v1   CLI RX|      "type": "fallback",
**** v1   CLI RX|      "admin_health": "probe",
**** v1   CLI RX|      "probe_message": [3, 4, "healthy"],
**** v1   CLI RX|      "probe_details": {
**** v1   CLI RX|        "sticky": false,
**** v1   CLI RX|        "backends": {
**** v1   CLI RX|          "a1": {
**** v1   CLI RX|            "current": true,
**** v1   CLI RX|            "health": "healthy"
**** v1   CLI RX|          },
**** v1   CLI RX|          "a2": {
**** v1   CLI RX|            "current": false,
**** v1   CLI RX|            "health": "healthy"
**** v1   CLI RX|          },
**** v1   CLI RX|          "a3": {
**** v1   CLI RX|            "current": false,
**** v1   CLI RX|            "health": "healthy"
**** v1   CLI RX|          },
**** v1   CLI RX|          "a4": {
**** v1   CLI RX|            "current": false,
**** v1   CLI RX|            "health": "sick"
**** v1   CLI RX|          }
**** v1   CLI RX|        }
**** v1   CLI RX|      },
**** v1   CLI RX|      "last_change": 1634892802.918
**** v1   CLI RX|    }
**** v1   CLI RX|  }
**** v1   CLI RX|]
**   v1   CLI 200 <backend.list -pj>
**** dT   0.431
*    top  RESETTING after ./tests/d00039.vtc
**   v1   Wait
**** v1   CLI TX|backend.list
***  v1   CLI RX  200
**** v1   CLI RX|Backend name    Admin      Probe    Health     Last change
**** v1   CLI RX|vcl1.a1         healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.a2         healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.a3         healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.a4         probe      2/8      sick       Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.rr1        probe      3/4      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.rr2        probe      2/2      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.rr3        probe      0/1      sick       Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.shard      probe      3/4      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.rand       probe      3/4      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.hash       healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**** v1   CLI RX|vcl1.fallback   probe      3/4      healthy    Fri, 22 Oct 2021 08:53:22 GMT
**   v1   Stop
**** v1   CLI TX|stop
***  v1   debug|Debug: Stopping Child
**** dT   0.512
**** v1   vsl|          0 CLI             - Rd backend.list 
**** v1   vsl|          0 CLI             - Wr 200 906 Backend name    Admin      Probe    Health     Last change
vcl1.a1         healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:22 GMT
vcl1.a2         healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:22 GMT
vcl1.a3         healthy    0/0
**** v1   vsl|          0 CLI             - Rd backend.list -p 
**** v1   vsl|          0 CLI             - Wr 200 2421 Backend name    Admin      Probe      Health     Last change
vcl1.a1         healthy    0/0        healthy    Fri, 22 Oct 2021 08:53:22 GMT
vcl1.a2         healthy    0/0        healthy    Fri, 22 Oct 2021 08:53:22 GMT
vcl1.a3         healthy
**** v1   vsl|          0 CLI             - Rd backend.list -j 
**** v1   vsl|          0 CLI             - Wr 200 1817 [ 3, ["backend.list", "-j"], 1634892803.021,
  {
    "vcl1.a1": {
      "type": "backend",
      "admin_health": "healthy",
      "probe_message": [0, 0, "healthy"],
      "last_change": 1634892802.918
    },
    "vcl1.a2": {
      "type": "b
**** v1   vsl|          0 CLI             - Rd backend.list -pj 
**** v1   vsl|          0 CLI             - Wr 200 4505 [ 3, ["backend.list", "-pj"], 1634892803.021,
  {
    "vcl1.a1": {
      "type": "backend",
      "admin_health": "healthy",
      "probe_message": [0, 0, "healthy"],
      "probe_details": {},
      "last_change": 1634892802.918
    },
    "
**** v1   vsl|          0 CLI             - Rd backend.list 
**** v1   vsl|          0 CLI             - Wr 200 906 Backend name    Admin      Probe    Health     Last change
vcl1.a1         healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:22 GMT
vcl1.a2         healthy    0/0      healthy    Fri, 22 Oct 2021 08:53:22 GMT
vcl1.a3         healthy    0/0
**** v1   vsl|          0 CLI             - EOF on CLI connection, worker stops
**** dT   1.431
***  v1   debug|Info: Child (63459) ended
**** dT   1.432
***  v1   debug|Info: Child (63459) said Child dies
***  v1   debug|Debug: Child cleanup complete
***  v1   CLI RX  200
***  v1   wait-stopped
**** v1   CLI TX|status
***  v1   CLI RX  200
**** v1   CLI RX|Child in state stopped
**** v1   CLI TX|panic.clear
***  v1   CLI RX  300
**** v1   CLI RX|No panic to clear
***  v1   debug|Info: manager stopping child
***  v1   debug|Info: manager dies
**** dT   1.433
**** v1   STDOUT EOF
**** dT   1.513
**   v1   WAIT4 pid=63447 status=0x0000 (user 0.165751 sys 0.045401)
**** dT   1.514
*    top  TEST ./tests/d00039.vtc completed
#    top  TEST ./tests/d00039.vtc passed (1.514)
