**** dT   0.000
*    top  TEST ./tests/v00021.vtc starting
**** top  extmacro def pwd=/root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest
**** top  extmacro def localhost=127.0.0.1
**** top  extmacro def bad_backend=127.0.0.1 38035
**** top  extmacro def bad_ip=192.0.2.255
**** top  extmacro def topbuild=/root/rpmbuild/BUILD/varnish-6.5.2
**** top  macro def testdir=/root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest/./tests
**** top  macro def tmpdir=/tmp/vtc.107848.0850d1d0
**   top  === varnishtest "VCL compiler coverage test: vcc_xref.c vcc_var....
*    top  VTEST VCL compiler coverage test: vcc_xref.c vcc_var.c vcc_symb.c
**   top  === varnish v1 -errvcl {Variable is read only.} {
**** dT   0.007
**   v1   Launch
***  v1   CMD: cd ${pwd} && exec varnishd  -d -n /tmp/vtc.107848.0850d1d0/v1 -l 2m -p auto_restart=off -p syslog_cli_traffic=off -p sigsegv_handler=on -p thread_pool_min=10 -p debug=+vtc_mode -p vsl_mask=+Debug -a '127.0.0.1:0' -M '127.0.0.1 41485' -P /tmp/vtc.107848.0850d1d0/v1/varnishd.pid -p vmod_path=/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_blob/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_cookie/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_std/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_vtc/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_unix/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_proxy/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_purge/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_directors/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_debug/.libs 
***  v1   CMD: cd /root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest && exec varnishd  -d -n /tmp/vtc.107848.0850d1d0/v1 -l 2m -p auto_restart=off -p syslog_cli_traffic=off -p sigsegv_handler=on -p thread_pool_min=10 -p debug=+vtc_mode -p vsl_mask=+Debug -a '127.0.0.1:0' -M '127.0.0.1 41485' -P /tmp/vtc.107848.0850d1d0/v1/varnishd.pid -p vmod_path=/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_blob/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_cookie/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_std/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_vtc/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_unix/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_proxy/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_purge/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_directors/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_debug/.libs 
***  v1   PID: 107877
**** v1   macro def v1_pid=107877
**** v1   macro def v1_name=/tmp/vtc.107848.0850d1d0/v1
**** dT   0.017
***  v1   debug|Debug: Version: varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
***  v1   debug|Debug: Platform: Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
***  v1   debug|200 321     
***  v1   debug|-----------------------------
***  v1   debug|Varnish Cache CLI 1.0
***  v1   debug|-----------------------------
***  v1   debug|Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
***  v1   debug|varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
***  v1   debug|
***  v1   debug|Type 'help' for command list.
***  v1   debug|Type 'quit' to close CLI session.
***  v1   debug|Type 'start' to launch worker process.
***  v1   debug|
**** dT   0.115
**** v1   CLIPOLL 1 0x1 0x0
***  v1   CLI connection fd = 5
***  v1   CLI RX  107
**** v1   CLI RX|fuwbbaojjdclllgsofricyvkgawmfkzz
**** v1   CLI RX|
**** v1   CLI RX|Authentication required.
**** dT   0.116
**** v1   CLI TX|auth 40df30ecf9ebe3acbf703e63d4e803f71df8a35bc896a058f3d16f126b6bf9fb
***  v1   CLI RX  200
**** v1   CLI RX|-----------------------------
**** v1   CLI RX|Varnish Cache CLI 1.0
**** v1   CLI RX|-----------------------------
**** v1   CLI RX|Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
**** v1   CLI RX|varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
**** v1   CLI RX|
**** v1   CLI RX|Type 'help' for command list.
**** v1   CLI RX|Type 'quit' to close CLI session.
**** v1   CLI RX|Type 'start' to launch worker process.
**** v1   CLI TX|vcl.inline vcl1 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|\tsub vcl_deliver { set obj.ttl = 1 w; }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.117
***  v1   debug|Could not delete 'vcl_vcl1.1634893375.326963/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 31) -- (Pos 37)
**** v1   CLI RX|        sub vcl_deliver { set obj.ttl = 1 w; }
**** v1   CLI RX|------------------------------#######---------
**** v1   CLI RX|
**** v1   CLI RX|Variable is read only.
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Variable is read only.")
**   top  === varnish v1 -errvcl {Variable is read only.} {
**** v1   CLI TX|vcl.inline vcl2 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|
**** v1   CLI TX|\tsub foo { set obj.ttl = 1 w; }
**** v1   CLI TX|\tsub vcl_deliver { call foo; }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.119
***  v1   debug|Could not delete 'vcl_vcl2.1634893375.328086/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|('<vcl.inline>' Line 5 Pos 23) -- (Pos 29)
**** v1   CLI RX|        sub foo { set obj.ttl = 1 w; }
**** v1   CLI RX|----------------------#######---------
**** v1   CLI RX|
**** v1   CLI RX|Variable is read only.
**** v1   CLI RX|
**** v1   CLI RX|...called from "vcl_deliver"
**** v1   CLI RX|('<vcl.inline>' Line 6 Pos 32)
**** v1   CLI RX|        sub vcl_deliver { call foo; }
**** v1   CLI RX|-------------------------------###---
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...which is the "vcl_deliver" subroutine
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Variable is read only.")
**   top  === varnish v1 -errvcl {Not available in subroutine 'vcl_recv'.}...
**** v1   CLI TX|vcl.inline vcl3 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|\tsub vcl_recv { set obj.ttl = 1 w; }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.120
***  v1   debug|Could not delete 'vcl_vcl3.1634893375.329734/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|('<vcl.inline>' Line 4 Pos 28) -- (Pos 34)
**** v1   CLI RX|        sub vcl_recv { set obj.ttl = 1 w; }
**** v1   CLI RX|---------------------------#######---------
**** v1   CLI RX|
**** v1   CLI RX|Not available in subroutine 'vcl_recv'.
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Not available in subroutine 'vcl_recv'.")
**   top  === varnish v1 -errvcl {Not available from subroutine 'vcl_recv'...
**** v1   CLI TX|vcl.inline vcl4 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|
**** v1   CLI TX|\tsub foo { set obj.ttl = 1 w; }
**** v1   CLI TX|\tsub vcl_recv { call foo; }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.121
***  v1   debug|Could not delete 'vcl_vcl4.1634893375.330680/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|('<vcl.inline>' Line 5 Pos 23) -- (Pos 29)
**** v1   CLI RX|        sub foo { set obj.ttl = 1 w; }
**** v1   CLI RX|----------------------#######---------
**** v1   CLI RX|
**** v1   CLI RX|Not available from subroutine 'vcl_recv'.
**** v1   CLI RX|
**** v1   CLI RX|...in subroutine "foo"
**** v1   CLI RX|('<vcl.inline>' Line 5 Pos 13)
**** v1   CLI RX|        sub foo { set obj.ttl = 1 w; }
**** v1   CLI RX|------------###-----------------------
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...called from "vcl_recv"
**** v1   CLI RX|('<vcl.inline>' Line 6 Pos 29)
**** v1   CLI RX|        sub vcl_recv { call foo; }
**** v1   CLI RX|----------------------------###---
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...which is the "vcl_recv" subroutine
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Not available from subroutine 'vcl_recv'.")
**   top  === varnish v1 -errvcl "Symbol not found" {
**** v1   CLI TX|vcl.inline vcl5 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv { discard; }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.122
***  v1   debug|Could not delete 'vcl_vcl5.1634893375.332289/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Symbol not found: 'discard'
**** v1   CLI RX|At: ('<vcl.inline>' Line 5 Pos 24) -- (Pos 30)
**** v1   CLI RX|        sub vcl_recv { discard; }
**** v1   CLI RX|-----------------------#######---
**** v1   CLI RX|
**** v1   CLI RX|Symbol not found.
**** v1   CLI RX|('<vcl.inline>' Line 5 Pos 31)
**** v1   CLI RX|        sub vcl_recv { discard; }
**** v1   CLI RX|------------------------------#--
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Symbol not found")
**   top  === varnish v1 -errvcl "Symbol not found" {
**** v1   CLI TX|vcl.inline vcl6 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|
**** v1   CLI TX|\tsub foo { discard; }
**** v1   CLI TX|\tsub vcl_recv { call foo; }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.123
***  v1   debug|Could not delete 'vcl_vcl6.1634893375.333257/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Symbol not found: 'discard'
**** v1   CLI RX|At: ('<vcl.inline>' Line 5 Pos 19) -- (Pos 25)
**** v1   CLI RX|        sub foo { discard; }
**** v1   CLI RX|------------------#######---
**** v1   CLI RX|
**** v1   CLI RX|Symbol not found.
**** v1   CLI RX|('<vcl.inline>' Line 5 Pos 26)
**** v1   CLI RX|        sub foo { discard; }
**** v1   CLI RX|-------------------------#--
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Symbol not found")
**   top  === varnish v1 -errvcl {
**** v1   CLI TX|vcl.inline vcl7 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|
**** v1   CLI TX|\tsub foo { call foo; }
**** v1   CLI TX|\tsub vcl_recv { call foo; }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.125
***  v1   debug|Could not delete 'vcl_vcl7.1634893375.334203/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Subroutine recurses on
**** v1   CLI RX|('<vcl.inline>' Line 5 Pos 13)
**** v1   CLI RX|        sub foo { call foo; }
**** v1   CLI RX|------------###--------------
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...called from "foo"
**** v1   CLI RX|('<vcl.inline>' Line 5 Pos 24)
**** v1   CLI RX|        sub foo { call foo; }
**** v1   CLI RX|-----------------------###---
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...called from "vcl_recv"
**** v1   CLI RX|('<vcl.inline>' Line 6 Pos 29)
**** v1   CLI RX|        sub vcl_recv { call foo; }
**** v1   CLI RX|----------------------------###---
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...which is the "vcl_recv" subroutine
**** v1   CLI RX|Legal returns are: "fail" "hash" "pass" "pipe" "purge" "restart" "synth" "vcl"
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("
Subroutine recurses on
('<vcl.inline>' Line 5 Pos 13)
        sub foo { call foo; }
------------###--------------


...called from "foo"
('<vcl.inline>' Line 5 Pos 24)
        sub foo { call foo; }
-----------------------###---


...called from "vcl_recv"
('<vcl.inline>' Line 6 Pos 29)
        sub vcl_recv { call foo; }
----------------------------###---
")
**   top  === varnish v1 -errvcl {
**** v1   CLI TX|vcl.inline vcl8 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|
**** v1   CLI TX|\tsub bar { call foo; }
**** v1   CLI TX|\tsub foo { call bar; }
**** v1   CLI TX|\tsub vcl_recv { call foo; }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.126
***  v1   debug|Could not delete 'vcl_vcl8.1634893375.335886/vgc.sym': No such file or directory
**** dT   0.127
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Subroutine recurses on
**** v1   CLI RX|('<vcl.inline>' Line 6 Pos 13)
**** v1   CLI RX|        sub foo { call bar; }
**** v1   CLI RX|------------###--------------
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...called from "bar"
**** v1   CLI RX|('<vcl.inline>' Line 5 Pos 24)
**** v1   CLI RX|        sub bar { call foo; }
**** v1   CLI RX|-----------------------###---
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...called from "foo"
**** v1   CLI RX|('<vcl.inline>' Line 6 Pos 24)
**** v1   CLI RX|        sub foo { call bar; }
**** v1   CLI RX|-----------------------###---
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...called from "vcl_recv"
**** v1   CLI RX|('<vcl.inline>' Line 7 Pos 29)
**** v1   CLI RX|        sub vcl_recv { call foo; }
**** v1   CLI RX|----------------------------###---
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...which is the "vcl_recv" subroutine
**** v1   CLI RX|Legal returns are: "fail" "hash" "pass" "pipe" "purge" "restart" "synth" "vcl"
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("
Subroutine recurses on
('<vcl.inline>' Line 6 Pos 13)
        sub foo { call bar; }
------------###--------------


...called from "bar"
('<vcl.inline>' Line 5 Pos 24)
        sub bar { call foo; }
-----------------------###---


...called from "foo"
('<vcl.inline>' Line 6 Pos 24)
        sub foo { call bar; }
-----------------------###---


...called from "vcl_recv"
('<vcl.inline>' Line 7 Pos 29)
        sub vcl_recv { call foo; }
----------------------------###---
")
**   top  === varnish v1 -errvcl {Unused acl foo, defined:} {
**** v1   CLI TX|vcl.inline vcl9 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|
**** v1   CLI TX|\tacl foo { "127.0.0.1"; }
**** v1   CLI TX|
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.128
***  v1   debug|Could not delete 'vcl_vcl9.1634893375.337501/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Unused acl foo, defined:
**** v1   CLI RX|('<vcl.inline>' Line 5 Pos 13)
**** v1   CLI RX|        acl foo { "127.0.0.1"; }
**** v1   CLI RX|------------###-----------------
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Unused acl foo, defined:")
**   top  === varnish v1 -errvcl {Unused sub foo, defined:} {
**** v1   CLI TX|vcl.inline vcl10 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|
**** v1   CLI TX|\tsub foo {
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.130
***  v1   debug|Could not delete 'vcl_vcl10.1634893375.339136/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Unused sub foo, defined:
**** v1   CLI RX|('<vcl.inline>' Line 5 Pos 13)
**** v1   CLI RX|        sub foo {
**** v1   CLI RX|------------###--
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Unused sub foo, defined:")
**   top  === varnish v1 -errvcl {Unused sub none, defined:} {
**** v1   CLI TX|vcl.inline vcl11 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|
**** v1   CLI TX|\tsub none {
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.131
***  v1   debug|Could not delete 'vcl_vcl11.1634893375.340738/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Unused sub none, defined:
**** v1   CLI RX|('<vcl.inline>' Line 5 Pos 13)
**** v1   CLI RX|        sub none {
**** v1   CLI RX|------------####--
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Unused sub none, defined:")
**   top  === varnish v1 -errvcl {Invalid return "deliver"} {
**** v1   CLI TX|vcl.inline vcl12 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend b { .host = "127.0.0.1"; }
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tcall foo;
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|\tsub foo {
**** v1   CLI TX|\t\treturn (deliver);
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.133
***  v1   debug|Could not delete 'vcl_vcl12.1634893375.342326/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Invalid return "deliver"
**** v1   CLI RX|('<vcl.inline>' Line 10 Pos 25)
**** v1   CLI RX|                return (deliver);
**** v1   CLI RX|------------------------#######--
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...in subroutine "foo"
**** v1   CLI RX|('<vcl.inline>' Line 9 Pos 13)
**** v1   CLI RX|        sub foo {
**** v1   CLI RX|------------###--
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...called from "vcl_recv"
**** v1   CLI RX|('<vcl.inline>' Line 6 Pos 22)
**** v1   CLI RX|                call foo;
**** v1   CLI RX|---------------------###-
**** v1   CLI RX|
**** v1   CLI RX|
**** v1   CLI RX|...which is the "vcl_recv" subroutine
**** v1   CLI RX|Legal returns are: "fail" "hash" "pass" "pipe" "purge" "restart" "synth" "vcl"
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Invalid return "deliver"")
**   top  === varnish v1 -errvcl {HTTP header (buckinghambuckingham..) is ...
**** v1   CLI TX|vcl.inline vcl13 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|
**** v1   CLI TX|\tbackend foo { .host = "127.0.0.1"; }
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_deliver {
**** v1   CLI TX|\t\tset resp.http.buckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambucking = "foobar";
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.134
***  v1   debug|Could not delete 'vcl_vcl13.1634893375.344007/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|HTTP header (buckinghambuckingham..) is too long.
**** v1   CLI RX|Symbol not found: 'resp.http.buckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambucking' (Only available when 4.1 <= VCL syntax <= 4.1)
**** v1   CLI RX|At: ('<vcl.inline>' Line 7 Pos 21) -- (Pos 157)
**** v1   CLI RX|                set resp.http.buckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambucking = "foobar";
**** v1   CLI RX|--------------------#########################################################################################################################################------------
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("HTTP header (buckinghambuckingham..) is too long.")
**   top  === varnish v1 -vcl {
**** v1   CLI TX|vcl.inline vcl14 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|
**** v1   CLI TX|\tbackend foo { .host = "127.0.0.1"; }
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_deliver {
**** v1   CLI TX|\t\tset resp.http.buckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckinghambuckin = "foobar";
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.216
***  v1   vsl|No VSL chunk found (child not started ?)
**** dT   0.287
***  v1   CLI RX  200
**** v1   CLI RX|VCL compiled.
**** v1   CLI TX|vcl.use vcl14
***  v1   CLI RX  200
**   top  === varnish v1 -errvcl {Symbol not found: 'req.foobar'} {
**** v1   CLI TX|vcl.inline vcl15 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tbackend foo { .host = "127.0.0.1"; }
**** v1   CLI TX|\tsub vcl_recv { set req.foobar = 3; }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.288
***  v1   debug|Could not delete 'vcl_vcl15.1634893375.497948/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Symbol not found: 'req.foobar'
**** v1   CLI RX|At: ('<vcl.inline>' Line 4 Pos 28) -- (Pos 37)
**** v1   CLI RX|        sub vcl_recv { set req.foobar = 3; }
**** v1   CLI RX|---------------------------##########-------
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Symbol not found: 'req.foobar'")
**   top  === varnish v1 -errvcl {Symbol 'anacl' has wrong type (acl):} {
**** v1   CLI TX|vcl.inline vcl16 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tif (client.ip ~ anacl) { }
**** v1   CLI TX|\t}
**** v1   CLI TX|\tsub anacl { }
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.289
***  v1   debug|Could not delete 'vcl_vcl16.1634893375.498976/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Symbol 'anacl' has wrong type (acl): 
**** v1   CLI RX|At: ('<vcl.inline>' Line 6 Pos 13) -- (Pos 17)
**** v1   CLI RX|        sub anacl { }
**** v1   CLI RX|------------#####----
**** v1   CLI RX|
**** v1   CLI RX|Symbol was declared here: ('<vcl.inline>' Line 4 Pos 33)
**** v1   CLI RX|                if (client.ip ~ anacl) { }
**** v1   CLI RX|--------------------------------#####-----
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Symbol 'anacl' has wrong type (acl):")
**   top  === varnish v1 -errvcl {Symbols named 'vcl_*' are reserved.} {
**** v1   CLI TX|vcl.inline vcl17 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tif (client.ip ~ vcl_foo) { }
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.290
***  v1   debug|Could not delete 'vcl_vcl17.1634893375.499934/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Symbols named 'vcl_*' are reserved.
**** v1   CLI RX|At:('<vcl.inline>' Line 4 Pos 33)
**** v1   CLI RX|                if (client.ip ~ vcl_foo) { }
**** v1   CLI RX|--------------------------------#######-----
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Symbols named 'vcl_*' are reserved.")
**   top  === varnish v1 -errvcl {Symbol 'true' has wrong type (func):} {
**** v1   CLI TX|vcl.inline vcl18 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tif (client.ip ~ true) { }
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.291
***  v1   debug|Could not delete 'vcl_vcl18.1634893375.500869/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Symbol 'true' has wrong type (func): 
**** v1   CLI RX|At: ('<vcl.inline>' Line 4 Pos 33) -- (Pos 36)
**** v1   CLI RX|                if (client.ip ~ true) { }
**** v1   CLI RX|--------------------------------####-----
**** v1   CLI RX|
**** v1   CLI RX|Symbol was builtin
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Symbol 'true' has wrong type (func):")
**   top  === varnish v1 -errvcl {Symbol 'default' has wrong type} {
**** v1   CLI TX|vcl.inline vcl19 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tif (client.ip ~ default) { }
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.292
***  v1   debug|Could not delete 'vcl_vcl19.1634893375.501798/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Symbol 'default' has wrong type (func): 
**** v1   CLI RX|At: ('<vcl.inline>' Line 4 Pos 33) -- (Pos 39)
**** v1   CLI RX|                if (client.ip ~ default) { }
**** v1   CLI RX|--------------------------------#######-----
**** v1   CLI RX|
**** v1   CLI RX|Symbol was builtin
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("Symbol 'default' has wrong type")
**   top  === varnish v1 -syntax 4.1 -errvcl {(Only available when VCL syn...
**** v1   CLI TX|vcl.inline vcl20 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.1;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_recv {
**** v1   CLI TX|\t\tset req.esi = false;
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.293
***  v1   debug|Could not delete 'vcl_vcl20.1634893375.502732/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Symbol not found: 'req.esi' (Only available when VCL syntax <= 4.0)
**** v1   CLI RX|At: ('<vcl.inline>' Line 4 Pos 21) -- (Pos 27)
**** v1   CLI RX|                set req.esi = false;
**** v1   CLI RX|--------------------#######---------
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("(Only available when VCL syntax <= 4.0)")
**   top  === varnish v1 -syntax 4.0 -errvcl {(Only available when 4.1 <= ...
**** v1   CLI TX|vcl.inline vcl21 << %XJEIFLH|)Xspa8P
**** v1   CLI TX|vcl 4.0;
**** v1   CLI TX|
**** v1   CLI TX|\tsub vcl_deliver {
**** v1   CLI TX|\t\tset resp.do_esi = false;
**** v1   CLI TX|\t}
**** v1   CLI TX|
**** v1   CLI TX|%XJEIFLH|)Xspa8P
**** dT   0.294
***  v1   debug|Could not delete 'vcl_vcl21.1634893375.503664/vgc.sym': No such file or directory
***  v1   CLI RX  106
**** v1   CLI RX|Message from VCC-compiler:
**** v1   CLI RX|Symbol not found: 'resp.do_esi' (Only available when 4.1 <= VCL syntax)
**** v1   CLI RX|At: ('<vcl.inline>' Line 4 Pos 21) -- (Pos 31)
**** v1   CLI RX|                set resp.do_esi = false;
**** v1   CLI RX|--------------------###########---------
**** v1   CLI RX|
**** v1   CLI RX|Running VCC-compiler failed, exited with 2
**** v1   CLI RX|VCL compilation failed
**   v1   VCL compilation failed (as expected)
***  v1   Found expected string: ("(Only available when 4.1 <= VCL syntax)")
*    top  RESETTING after ./tests/v00021.vtc
**   v1   Wait
**** v1   CLI TX|backend.list
***  v1   CLI RX  101
**** v1   CLI RX|Unknown request in manager process (child not running).
**** v1   CLI RX|Type 'help' for more info.
**   v1   Stop
**** v1   CLI TX|stop
***  v1   CLI RX  300
**** v1   CLI RX|Child in state stopped
***  v1   wait-stopped
**** v1   CLI TX|status
***  v1   CLI RX  200
**** v1   CLI RX|Child in state stopped
**** v1   CLI TX|panic.clear
***  v1   CLI RX  300
**** v1   CLI RX|No panic to clear
***  v1   debug|Info: manager stopping child
***  v1   debug|Info: manager dies
**** dT   0.295
**** v1   STDOUT EOF
**** dT   0.316
***  v1   vsl|No VSL chunk found (child not started ?)
**   v1   WAIT4 pid=107877 status=0x0000 (user 0.126776 sys 0.056339)
**** dT   0.317
*    top  TEST ./tests/v00021.vtc completed
#    top  TEST ./tests/v00021.vtc passed (0.318)
