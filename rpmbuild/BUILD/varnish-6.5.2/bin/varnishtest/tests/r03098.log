**** dT   0.000
*    top  TEST ./tests/r03098.vtc starting
**** top  extmacro def pwd=/root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest
**** top  extmacro def localhost=127.0.0.1
**** top  extmacro def bad_backend=127.0.0.1 38505
**** top  extmacro def bad_ip=192.0.2.255
**** top  extmacro def topbuild=/root/rpmbuild/BUILD/varnish-6.5.2
**** top  macro def testdir=/root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest/./tests
**** top  macro def tmpdir=/tmp/vtc.97860.3e3dec0d
**   top  === varnishtest "Explain how param.(re)?set may fail"
*    top  VTEST Explain how param.(re)?set may fail
**   top  === varnish v1 -cliok "param.set thread_pool_max 10000"
**** dT   0.004
**   v1   Launch
***  v1   CMD: cd ${pwd} && exec varnishd  -d -n /tmp/vtc.97860.3e3dec0d/v1 -l 2m -p auto_restart=off -p syslog_cli_traffic=off -p sigsegv_handler=on -p thread_pool_min=10 -p debug=+vtc_mode -p vsl_mask=+Debug -a '127.0.0.1:0' -M '127.0.0.1 40099' -P /tmp/vtc.97860.3e3dec0d/v1/varnishd.pid -p vmod_path=/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_blob/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_cookie/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_std/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_vtc/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_unix/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_proxy/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_purge/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_directors/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_debug/.libs 
***  v1   CMD: cd /root/rpmbuild/BUILD/varnish-6.5.2/bin/varnishtest && exec varnishd  -d -n /tmp/vtc.97860.3e3dec0d/v1 -l 2m -p auto_restart=off -p syslog_cli_traffic=off -p sigsegv_handler=on -p thread_pool_min=10 -p debug=+vtc_mode -p vsl_mask=+Debug -a '127.0.0.1:0' -M '127.0.0.1 40099' -P /tmp/vtc.97860.3e3dec0d/v1/varnishd.pid -p vmod_path=/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_blob/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_cookie/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_std/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_vtc/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_unix/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_proxy/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_purge/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_directors/.libs:/root/rpmbuild/BUILD/varnish-6.5.2/lib/libvmod_debug/.libs 
***  v1   PID: 97878
**** dT   0.005
**** v1   macro def v1_pid=97878
**** v1   macro def v1_name=/tmp/vtc.97860.3e3dec0d/v1
**** dT   0.014
***  v1   debug|Debug: Version: varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
***  v1   debug|Debug: Platform: Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
***  v1   debug|200 321     
***  v1   debug|-----------------------------
***  v1   debug|Varnish Cache CLI 1.0
***  v1   debug|-----------------------------
***  v1   debug|Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
***  v1   debug|varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
***  v1   debug|
***  v1   debug|Type 'help' for command list.
***  v1   debug|Type 'quit' to close CLI session.
***  v1   debug|Type 'start' to launch worker process.
***  v1   debug|
**** dT   0.113
**** v1   CLIPOLL 1 0x1 0x0
***  v1   CLI connection fd = 5
***  v1   CLI RX  107
**** v1   CLI RX|jowodaeebimtpribnvuupfdpemlthjlg
**** v1   CLI RX|
**** v1   CLI RX|Authentication required.
**** v1   CLI TX|auth 385911d4a27d0f86eafafe8344dfa83ea02580a4afd7b461f489044b99ecc89b
***  v1   CLI RX  200
**** v1   CLI RX|-----------------------------
**** v1   CLI RX|Varnish Cache CLI 1.0
**** v1   CLI RX|-----------------------------
**** v1   CLI RX|Linux,5.3.18-59.24-default,x86_64,-jnone,-sdefault,-sdefault,-hcritbit
**** v1   CLI RX|varnish-6.5.2 revision e7233b0ad2639043341819d19a8d2e418e94ce1b
**** v1   CLI RX|
**** v1   CLI RX|Type 'help' for command list.
**** v1   CLI RX|Type 'quit' to close CLI session.
**** v1   CLI RX|Type 'start' to launch worker process.
**** v1   CLI TX|param.set thread_pool_max 10000
**** dT   0.114
***  v1   CLI RX  200
**   v1   CLI 200 <param.set thread_pool_max 10000>
**   top  === varnish v1 -cliok "param.set thread_pool_min  8000"
**** v1   CLI TX|param.set thread_pool_min  8000
***  v1   CLI RX  200
**   v1   CLI 200 <param.set thread_pool_min  8000>
**   top  === shell -err -expect "Must be at least 8000 (thread_pool_min)"...
**** top  shell_cmd|exec 2>&1 ; 
**** top  shell_cmd|\texec varnishadm -n /tmp/vtc.97860.3e3dec0d/v1 param.reset thread_pool_max
**** dT   0.128
**** top  shell_out|Command failed with error code 106
**** top  shell_out|Must be at least 8000 (thread_pool_min)
**** top  shell_out|
**** top  shell_out|(attempting to set param 'thread_pool_max' to '5000')
**** top  shell_status = 0x0001
**** top  shell_expect found
**   top  === varnish v1 -cliok "param.set thread_pool_min  8"
**** v1   CLI TX|param.set thread_pool_min  8
***  v1   CLI RX  200
**   v1   CLI 200 <param.set thread_pool_min  8>
**   top  === varnish v1 -cliok "param.set thread_pool_max 10"
**** v1   CLI TX|param.set thread_pool_max 10
***  v1   CLI RX  200
**   v1   CLI 200 <param.set thread_pool_max 10>
**   top  === shell -err -expect "Must be no more than 10 (thread_pool_max...
**** top  shell_cmd|exec 2>&1 ; 
**** top  shell_cmd|\texec varnishadm -n /tmp/vtc.97860.3e3dec0d/v1 param.reset thread_pool_min
**** dT   0.141
**** top  shell_out|Command failed with error code 106
**** top  shell_out|Must be no more than 10 (thread_pool_max)
**** top  shell_out|
**** top  shell_out|(attempting to set param 'thread_pool_min' to '100')
**** top  shell_status = 0x0001
**** top  shell_expect found
**   top  === varnish v1 -cliok "param.reset thread_pool_max"
**** v1   CLI TX|param.reset thread_pool_max
***  v1   CLI RX  200
**   v1   CLI 200 <param.reset thread_pool_max>
**   top  === varnish v1 -cliok "param.reset thread_pool_min"
**** v1   CLI TX|param.reset thread_pool_min
***  v1   CLI RX  200
**   v1   CLI 200 <param.reset thread_pool_min>
**   top  === shell -err -expect "Must be no more than 95 (95% of thread_p...
**** top  shell_cmd|exec 2>&1 ; 
**** top  shell_cmd|\texec varnishadm -n /tmp/vtc.97860.3e3dec0d/v1 param.set thread_pool_reserve 96
**** dT   0.154
**** top  shell_out|Command failed with error code 106
**** top  shell_out|Must be no more than 95 (95% of thread_pool_min)
**** top  shell_out|
**** top  shell_out|(attempting to set param 'thread_pool_reserve' to '96')
**** top  shell_status = 0x0001
**** top  shell_expect found
*    top  RESETTING after ./tests/r03098.vtc
**   v1   Wait
**** v1   CLI TX|backend.list
***  v1   CLI RX  101
**** v1   CLI RX|Unknown request in manager process (child not running).
**** v1   CLI RX|Type 'help' for more info.
**** dT   0.155
**   v1   Stop
**** v1   CLI TX|stop
**** dT   0.195
***  v1   CLI RX  300
**** v1   CLI RX|Child in state stopped
***  v1   wait-stopped
**** v1   CLI TX|status
***  v1   CLI RX  200
**** v1   CLI RX|Child in state stopped
**** v1   CLI TX|panic.clear
**** dT   0.196
***  v1   CLI RX  300
**** v1   CLI RX|No panic to clear
***  v1   debug|Info: manager stopping child
***  v1   debug|Info: manager dies
**** v1   STDOUT EOF
**** dT   0.214
***  v1   vsl|No VSL chunk found (child not started ?)
**   v1   WAIT4 pid=97878 status=0x0000 (user 0.000000 sys 0.012773)
*    top  TEST ./tests/r03098.vtc completed
#    top  TEST ./tests/r03098.vtc passed (0.214)
