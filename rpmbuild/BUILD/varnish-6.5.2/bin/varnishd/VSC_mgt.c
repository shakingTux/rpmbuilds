/*
 * NB:  This file is machine generated, DO NOT EDIT!
 *
 * Edit mgt.vsc and run lib/libvcc/vsctool.py instead.
 */

#include "config.h"
#include <stdio.h>
#include <stdarg.h>
#include "vdef.h"
#include "vas.h"
#include "vrt.h"
#include "VSC_mgt.h"

static const char vsc_mgt_name[] = "MGT";

#define PARANOIA(a,n)				\
    v_static_assert(				\
	offsetof(struct VSC_mgt, a) == n,	\
	"VSC element '" #a "' at wrong offset")

PARANOIA(uptime, 0);
PARANOIA(child_start, 8);
PARANOIA(child_exit, 16);
PARANOIA(child_stop, 24);
PARANOIA(child_died, 32);
PARANOIA(child_dump, 40);
PARANOIA(child_panic, 48);
#undef PARANOIA

static const unsigned char vsc_mgt_json[1679] = {
	123,34,118,101,114,115,105,111,110,34,58,34,49,34,44,34,110,97,109,101,
	34,58,34,109,103,116,34,44,34,111,110,101,108,105,110,101,114,34,58,
	34,77,97,110,97,103,101,109,101,110,116,32,80,114,111,99,101,115,115,
	32,67,111,117,110,116,101,114,115,34,44,34,111,114,100,101,114,34,58,
	50,48,44,34,100,111,99,115,34,58,34,34,44,34,101,108,101,109,101,110,
	116,115,34,58,55,44,34,101,108,101,109,34,58,123,34,117,112,116,105,
	109,101,34,58,123,34,116,121,112,101,34,58,34,99,111,117,110,116,101,
	114,34,44,34,99,116,121,112,101,34,58,34,117,105,110,116,54,52,95,116,
	34,44,34,108,101,118,101,108,34,58,34,105,110,102,111,34,44,34,111,110,
	101,108,105,110,101,114,34,58,34,77,97,110,97,103,101,109,101,110,116,
	32,112,114,111,99,101,115,115,32,117,112,116,105,109,101,34,44,34,102,
	111,114,109,97,116,34,58,34,100,117,114,97,116,105,111,110,34,44,34,
	105,110,100,101,120,34,58,48,44,34,110,97,109,101,34,58,34,117,112,116,
	105,109,101,34,44,34,100,111,99,115,34,58,34,92,116,85,112,116,105,109,
	101,32,105,110,32,115,101,99,111,110,100,115,32,111,102,32,116,104,101,
	32,109,97,110,97,103,101,109,101,110,116,32,112,114,111,99,101,115,115,
	34,125,44,34,99,104,105,108,100,95,115,116,97,114,116,34,58,123,34,116,
	121,112,101,34,58,34,99,111,117,110,116,101,114,34,44,34,99,116,121,
	112,101,34,58,34,117,105,110,116,54,52,95,116,34,44,34,108,101,118,101,
	108,34,58,34,100,105,97,103,34,44,34,111,110,101,108,105,110,101,114,
	34,58,34,67,104,105,108,100,32,112,114,111,99,101,115,115,32,115,116,
	97,114,116,101,100,34,44,34,102,111,114,109,97,116,34,58,34,105,110,
	116,101,103,101,114,34,44,34,105,110,100,101,120,34,58,56,44,34,110,
	97,109,101,34,58,34,99,104,105,108,100,95,115,116,97,114,116,34,44,34,
	100,111,99,115,34,58,34,92,116,78,117,109,98,101,114,32,111,102,32,116,
	105,109,101,115,32,116,104,101,32,99,104,105,108,100,32,112,114,111,
	99,101,115,115,32,104,97,115,32,98,101,101,110,32,115,116,97,114,116,
	101,100,34,125,44,34,99,104,105,108,100,95,101,120,105,116,34,58,123,
	34,116,121,112,101,34,58,34,99,111,117,110,116,101,114,34,44,34,99,116,
	121,112,101,34,58,34,117,105,110,116,54,52,95,116,34,44,34,108,101,118,
	101,108,34,58,34,100,105,97,103,34,44,34,111,110,101,108,105,110,101,
	114,34,58,34,67,104,105,108,100,32,112,114,111,99,101,115,115,32,110,
	111,114,109,97,108,32,101,120,105,116,34,44,34,102,111,114,109,97,116,
	34,58,34,105,110,116,101,103,101,114,34,44,34,105,110,100,101,120,34,
	58,49,54,44,34,110,97,109,101,34,58,34,99,104,105,108,100,95,101,120,
	105,116,34,44,34,100,111,99,115,34,58,34,92,116,78,117,109,98,101,114,
	32,111,102,32,116,105,109,101,115,32,116,104,101,32,99,104,105,108,100,
	32,112,114,111,99,101,115,115,32,104,97,115,32,98,101,101,110,32,99,
	108,101,97,110,108,121,32,115,116,111,112,112,101,100,34,125,44,34,99,
	104,105,108,100,95,115,116,111,112,34,58,123,34,116,121,112,101,34,58,
	34,99,111,117,110,116,101,114,34,44,34,99,116,121,112,101,34,58,34,117,
	105,110,116,54,52,95,116,34,44,34,108,101,118,101,108,34,58,34,100,105,
	97,103,34,44,34,111,110,101,108,105,110,101,114,34,58,34,67,104,105,
	108,100,32,112,114,111,99,101,115,115,32,117,110,101,120,112,101,99,
	116,101,100,32,101,120,105,116,34,44,34,102,111,114,109,97,116,34,58,
	34,105,110,116,101,103,101,114,34,44,34,105,110,100,101,120,34,58,50,
	52,44,34,110,97,109,101,34,58,34,99,104,105,108,100,95,115,116,111,112,
	34,44,34,100,111,99,115,34,58,34,92,116,78,117,109,98,101,114,32,111,
	102,32,116,105,109,101,115,32,116,104,101,32,99,104,105,108,100,32,112,
	114,111,99,101,115,115,32,104,97,115,32,101,120,105,116,101,100,32,119,
	105,116,104,32,97,110,92,110,92,116,117,110,101,120,112,101,99,116,101,
	100,32,114,101,116,117,114,110,32,99,111,100,101,34,125,44,34,99,104,
	105,108,100,95,100,105,101,100,34,58,123,34,116,121,112,101,34,58,34,
	99,111,117,110,116,101,114,34,44,34,99,116,121,112,101,34,58,34,117,
	105,110,116,54,52,95,116,34,44,34,108,101,118,101,108,34,58,34,100,105,
	97,103,34,44,34,111,110,101,108,105,110,101,114,34,58,34,67,104,105,
	108,100,32,112,114,111,99,101,115,115,32,100,105,101,100,32,40,115,105,
	103,110,97,108,41,34,44,34,102,111,114,109,97,116,34,58,34,105,110,116,
	101,103,101,114,34,44,34,105,110,100,101,120,34,58,51,50,44,34,110,97,
	109,101,34,58,34,99,104,105,108,100,95,100,105,101,100,34,44,34,100,
	111,99,115,34,58,34,92,116,78,117,109,98,101,114,32,111,102,32,116,105,
	109,101,115,32,116,104,101,32,99,104,105,108,100,32,112,114,111,99,101,
	115,115,32,104,97,115,32,100,105,101,100,32,100,117,101,32,116,111,32,
	115,105,103,110,97,108,115,34,125,44,34,99,104,105,108,100,95,100,117,
	109,112,34,58,123,34,116,121,112,101,34,58,34,99,111,117,110,116,101,
	114,34,44,34,99,116,121,112,101,34,58,34,117,105,110,116,54,52,95,116,
	34,44,34,108,101,118,101,108,34,58,34,100,105,97,103,34,44,34,111,110,
	101,108,105,110,101,114,34,58,34,67,104,105,108,100,32,112,114,111,99,
	101,115,115,32,99,111,114,101,32,100,117,109,112,101,100,34,44,34,102,
	111,114,109,97,116,34,58,34,105,110,116,101,103,101,114,34,44,34,105,
	110,100,101,120,34,58,52,48,44,34,110,97,109,101,34,58,34,99,104,105,
	108,100,95,100,117,109,112,34,44,34,100,111,99,115,34,58,34,92,116,78,
	117,109,98,101,114,32,111,102,32,116,105,109,101,115,32,116,104,101,
	32,99,104,105,108,100,32,112,114,111,99,101,115,115,32,104,97,115,32,
	112,114,111,100,117,99,101,100,32,99,111,114,101,32,100,117,109,112,
	115,34,125,44,34,99,104,105,108,100,95,112,97,110,105,99,34,58,123,34,
	116,121,112,101,34,58,34,99,111,117,110,116,101,114,34,44,34,99,116,
	121,112,101,34,58,34,117,105,110,116,54,52,95,116,34,44,34,108,101,118,
	101,108,34,58,34,100,105,97,103,34,44,34,111,110,101,108,105,110,101,
	114,34,58,34,67,104,105,108,100,32,112,114,111,99,101,115,115,32,112,
	97,110,105,99,34,44,34,102,111,114,109,97,116,34,58,34,105,110,116,101,
	103,101,114,34,44,34,105,110,100,101,120,34,58,52,56,44,34,110,97,109,
	101,34,58,34,99,104,105,108,100,95,112,97,110,105,99,34,44,34,100,111,
	99,115,34,58,34,92,116,78,117,109,98,101,114,32,111,102,32,116,105,109,
	101,115,32,116,104,101,32,109,97,110,97,103,101,109,101,110,116,32,112,
	114,111,99,101,115,115,32,104,97,115,32,99,97,117,103,104,116,32,97,
	32,99,104,105,108,100,32,112,97,110,105,99,34,125,125,125,0
};

// {
//   "version": "1",
//   "name": "mgt",
//   "oneliner": "Management Process Counters",
//   "order": 20,
//   "docs": "",
//   "elements": 7,
//   "elem": {
//     "uptime": {
//       "type": "counter",
//       "ctype": "uint64_t",
//       "level": "info",
//       "oneliner": "Management process uptime",
//       "format": "duration",
//       "index": 0,
//       "name": "uptime",
//       "docs": "\tUptime in seconds of the management process"
//     },
//     "child_start": {
//       "type": "counter",
//       "ctype": "uint64_t",
//       "level": "diag",
//       "oneliner": "Child process started",
//       "format": "integer",
//       "index": 8,
//       "name": "child_start",
//       "docs": "\tNumber of times the child process has been started"
//     },
//     "child_exit": {
//       "type": "counter",
//       "ctype": "uint64_t",
//       "level": "diag",
//       "oneliner": "Child process normal exit",
//       "format": "integer",
//       "index": 16,
//       "name": "child_exit",
//       "docs": "\tNumber of times the child process has been cleanly s[...]
//     },
//     "child_stop": {
//       "type": "counter",
//       "ctype": "uint64_t",
//       "level": "diag",
//       "oneliner": "Child process unexpected exit",
//       "format": "integer",
//       "index": 24,
//       "name": "child_stop",
//       "docs": "\tNumber of times the child process has exited with an[...]
//     },
//     "child_died": {
//       "type": "counter",
//       "ctype": "uint64_t",
//       "level": "diag",
//       "oneliner": "Child process died (signal)",
//       "format": "integer",
//       "index": 32,
//       "name": "child_died",
//       "docs": "\tNumber of times the child process has died due to si[...]
//     },
//     "child_dump": {
//       "type": "counter",
//       "ctype": "uint64_t",
//       "level": "diag",
//       "oneliner": "Child process core dumped",
//       "format": "integer",
//       "index": 40,
//       "name": "child_dump",
//       "docs": "\tNumber of times the child process has produced core [...]
//     },
//     "child_panic": {
//       "type": "counter",
//       "ctype": "uint64_t",
//       "level": "diag",
//       "oneliner": "Child process panic",
//       "format": "integer",
//       "index": 48,
//       "name": "child_panic",
//       "docs": "\tNumber of times the management process has caught a [...]
//     }
//   }
// }


struct VSC_mgt*
VSC_mgt_New(struct vsmw_cluster *vc,
    struct vsc_seg **sg, const char *fmt, ...)
{
	va_list ap;
	struct VSC_mgt *retval;

	va_start(ap, fmt);
	retval = VRT_VSC_Alloc(vc, sg, vsc_mgt_name, VSC_mgt_size,
	    vsc_mgt_json, sizeof vsc_mgt_json, fmt, ap);
	va_end(ap);
	return(retval);
}

void
VSC_mgt_Destroy(struct vsc_seg **sg)
{
	struct vsc_seg *p;

	AN(sg);
	p = *sg;
	*sg = NULL;
	VRT_VSC_Destroy(vsc_mgt_name, p);
}
