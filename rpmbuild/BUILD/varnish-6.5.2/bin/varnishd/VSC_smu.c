/*
 * NB:  This file is machine generated, DO NOT EDIT!
 *
 * Edit smu.vsc and run lib/libvcc/vsctool.py instead.
 */

#include "config.h"
#include <stdio.h>
#include <stdarg.h>
#include "vdef.h"
#include "vas.h"
#include "vrt.h"
#include "VSC_smu.h"

static const char vsc_smu_name[] = "SMU";

#define PARANOIA(a,n)				\
    v_static_assert(				\
	offsetof(struct VSC_smu, a) == n,	\
	"VSC element '" #a "' at wrong offset")

PARANOIA(c_req, 0);
PARANOIA(c_fail, 8);
PARANOIA(c_bytes, 16);
PARANOIA(c_freed, 24);
PARANOIA(g_alloc, 32);
PARANOIA(g_bytes, 40);
PARANOIA(g_space, 48);
#undef PARANOIA

static const unsigned char vsc_smu_json[1512] = {
	123,34,118,101,114,115,105,111,110,34,58,34,49,34,44,34,110,97,109,101,
	34,58,34,115,109,117,34,44,34,111,110,101,108,105,110,101,114,34,58,
	34,85,109,101,109,32,83,116,101,118,101,100,111,114,101,32,67,111,117,
	110,116,101,114,115,34,44,34,111,114,100,101,114,34,58,52,48,44,34,100,
	111,99,115,34,58,34,34,44,34,101,108,101,109,101,110,116,115,34,58,55,
	44,34,101,108,101,109,34,58,123,34,99,95,114,101,113,34,58,123,34,116,
	121,112,101,34,58,34,99,111,117,110,116,101,114,34,44,34,99,116,121,
	112,101,34,58,34,117,105,110,116,54,52,95,116,34,44,34,108,101,118,101,
	108,34,58,34,105,110,102,111,34,44,34,111,110,101,108,105,110,101,114,
	34,58,34,65,108,108,111,99,97,116,111,114,32,114,101,113,117,101,115,
	116,115,34,44,34,102,111,114,109,97,116,34,58,34,105,110,116,101,103,
	101,114,34,44,34,105,110,100,101,120,34,58,48,44,34,110,97,109,101,34,
	58,34,99,95,114,101,113,34,44,34,100,111,99,115,34,58,34,92,116,78,117,
	109,98,101,114,32,111,102,32,116,105,109,101,115,32,116,104,101,32,115,
	116,111,114,97,103,101,32,104,97,115,32,98,101,101,110,32,97,115,107,
	101,100,32,116,111,32,112,114,111,118,105,100,101,32,97,32,115,116,111,
	114,97,103,101,32,115,101,103,109,101,110,116,46,34,125,44,34,99,95,
	102,97,105,108,34,58,123,34,116,121,112,101,34,58,34,99,111,117,110,
	116,101,114,34,44,34,99,116,121,112,101,34,58,34,117,105,110,116,54,
	52,95,116,34,44,34,108,101,118,101,108,34,58,34,105,110,102,111,34,44,
	34,111,110,101,108,105,110,101,114,34,58,34,65,108,108,111,99,97,116,
	111,114,32,102,97,105,108,117,114,101,115,34,44,34,102,111,114,109,97,
	116,34,58,34,105,110,116,101,103,101,114,34,44,34,105,110,100,101,120,
	34,58,56,44,34,110,97,109,101,34,58,34,99,95,102,97,105,108,34,44,34,
	100,111,99,115,34,58,34,92,116,78,117,109,98,101,114,32,111,102,32,116,
	105,109,101,115,32,116,104,101,32,115,116,111,114,97,103,101,32,104,
	97,115,32,102,97,105,108,101,100,32,116,111,32,112,114,111,118,105,100,
	101,32,97,32,115,116,111,114,97,103,101,32,115,101,103,109,101,110,116,
	46,34,125,44,34,99,95,98,121,116,101,115,34,58,123,34,116,121,112,101,
	34,58,34,99,111,117,110,116,101,114,34,44,34,99,116,121,112,101,34,58,
	34,117,105,110,116,54,52,95,116,34,44,34,108,101,118,101,108,34,58,34,
	105,110,102,111,34,44,34,111,110,101,108,105,110,101,114,34,58,34,66,
	121,116,101,115,32,97,108,108,111,99,97,116,101,100,34,44,34,102,111,
	114,109,97,116,34,58,34,98,121,116,101,115,34,44,34,105,110,100,101,
	120,34,58,49,54,44,34,110,97,109,101,34,58,34,99,95,98,121,116,101,115,
	34,44,34,100,111,99,115,34,58,34,92,116,78,117,109,98,101,114,32,111,
	102,32,116,111,116,97,108,32,98,121,116,101,115,32,97,108,108,111,99,
	97,116,101,100,32,98,121,32,116,104,105,115,32,115,116,111,114,97,103,
	101,46,34,125,44,34,99,95,102,114,101,101,100,34,58,123,34,116,121,112,
	101,34,58,34,99,111,117,110,116,101,114,34,44,34,99,116,121,112,101,
	34,58,34,117,105,110,116,54,52,95,116,34,44,34,108,101,118,101,108,34,
	58,34,105,110,102,111,34,44,34,111,110,101,108,105,110,101,114,34,58,
	34,66,121,116,101,115,32,102,114,101,101,100,34,44,34,102,111,114,109,
	97,116,34,58,34,98,121,116,101,115,34,44,34,105,110,100,101,120,34,58,
	50,52,44,34,110,97,109,101,34,58,34,99,95,102,114,101,101,100,34,44,
	34,100,111,99,115,34,58,34,92,116,78,117,109,98,101,114,32,111,102,32,
	116,111,116,97,108,32,98,121,116,101,115,32,114,101,116,117,114,110,
	101,100,32,116,111,32,116,104,105,115,32,115,116,111,114,97,103,101,
	46,34,125,44,34,103,95,97,108,108,111,99,34,58,123,34,116,121,112,101,
	34,58,34,103,97,117,103,101,34,44,34,99,116,121,112,101,34,58,34,117,
	105,110,116,54,52,95,116,34,44,34,108,101,118,101,108,34,58,34,105,110,
	102,111,34,44,34,111,110,101,108,105,110,101,114,34,58,34,65,108,108,
	111,99,97,116,105,111,110,115,32,111,117,116,115,116,97,110,100,105,
	110,103,34,44,34,102,111,114,109,97,116,34,58,34,105,110,116,101,103,
	101,114,34,44,34,105,110,100,101,120,34,58,51,50,44,34,110,97,109,101,
	34,58,34,103,95,97,108,108,111,99,34,44,34,100,111,99,115,34,58,34,92,
	116,78,117,109,98,101,114,32,111,102,32,115,116,111,114,97,103,101,32,
	97,108,108,111,99,97,116,105,111,110,115,32,111,117,116,115,116,97,110,
	100,105,110,103,46,34,125,44,34,103,95,98,121,116,101,115,34,58,123,
	34,116,121,112,101,34,58,34,103,97,117,103,101,34,44,34,99,116,121,112,
	101,34,58,34,117,105,110,116,54,52,95,116,34,44,34,108,101,118,101,108,
	34,58,34,105,110,102,111,34,44,34,111,110,101,108,105,110,101,114,34,
	58,34,66,121,116,101,115,32,111,117,116,115,116,97,110,100,105,110,103,
	34,44,34,102,111,114,109,97,116,34,58,34,98,121,116,101,115,34,44,34,
	105,110,100,101,120,34,58,52,48,44,34,110,97,109,101,34,58,34,103,95,
	98,121,116,101,115,34,44,34,100,111,99,115,34,58,34,92,116,78,117,109,
	98,101,114,32,111,102,32,98,121,116,101,115,32,97,108,108,111,99,97,
	116,101,100,32,102,114,111,109,32,116,104,101,32,115,116,111,114,97,
	103,101,46,34,125,44,34,103,95,115,112,97,99,101,34,58,123,34,116,121,
	112,101,34,58,34,103,97,117,103,101,34,44,34,99,116,121,112,101,34,58,
	34,117,105,110,116,54,52,95,116,34,44,34,108,101,118,101,108,34,58,34,
	105,110,102,111,34,44,34,111,110,101,108,105,110,101,114,34,58,34,66,
	121,116,101,115,32,97,118,97,105,108,97,98,108,101,34,44,34,102,111,
	114,109,97,116,34,58,34,98,121,116,101,115,34,44,34,105,110,100,101,
	120,34,58,52,56,44,34,110,97,109,101,34,58,34,103,95,115,112,97,99,101,
	34,44,34,100,111,99,115,34,58,34,92,116,78,117,109,98,101,114,32,111,
	102,32,98,121,116,101,115,32,108,101,102,116,32,105,110,32,116,104,101,
	32,115,116,111,114,97,103,101,46,34,125,125,125,0
};

// {
//   "version": "1",
//   "name": "smu",
//   "oneliner": "Umem Stevedore Counters",
//   "order": 40,
//   "docs": "",
//   "elements": 7,
//   "elem": {
//     "c_req": {
//       "type": "counter",
//       "ctype": "uint64_t",
//       "level": "info",
//       "oneliner": "Allocator requests",
//       "format": "integer",
//       "index": 0,
//       "name": "c_req",
//       "docs": "\tNumber of times the storage has been asked to provid[...]
//     },
//     "c_fail": {
//       "type": "counter",
//       "ctype": "uint64_t",
//       "level": "info",
//       "oneliner": "Allocator failures",
//       "format": "integer",
//       "index": 8,
//       "name": "c_fail",
//       "docs": "\tNumber of times the storage has failed to provide a [...]
//     },
//     "c_bytes": {
//       "type": "counter",
//       "ctype": "uint64_t",
//       "level": "info",
//       "oneliner": "Bytes allocated",
//       "format": "bytes",
//       "index": 16,
//       "name": "c_bytes",
//       "docs": "\tNumber of total bytes allocated by this storage."
//     },
//     "c_freed": {
//       "type": "counter",
//       "ctype": "uint64_t",
//       "level": "info",
//       "oneliner": "Bytes freed",
//       "format": "bytes",
//       "index": 24,
//       "name": "c_freed",
//       "docs": "\tNumber of total bytes returned to this storage."
//     },
//     "g_alloc": {
//       "type": "gauge",
//       "ctype": "uint64_t",
//       "level": "info",
//       "oneliner": "Allocations outstanding",
//       "format": "integer",
//       "index": 32,
//       "name": "g_alloc",
//       "docs": "\tNumber of storage allocations outstanding."
//     },
//     "g_bytes": {
//       "type": "gauge",
//       "ctype": "uint64_t",
//       "level": "info",
//       "oneliner": "Bytes outstanding",
//       "format": "bytes",
//       "index": 40,
//       "name": "g_bytes",
//       "docs": "\tNumber of bytes allocated from the storage."
//     },
//     "g_space": {
//       "type": "gauge",
//       "ctype": "uint64_t",
//       "level": "info",
//       "oneliner": "Bytes available",
//       "format": "bytes",
//       "index": 48,
//       "name": "g_space",
//       "docs": "\tNumber of bytes left in the storage."
//     }
//   }
// }


struct VSC_smu*
VSC_smu_New(struct vsmw_cluster *vc,
    struct vsc_seg **sg, const char *fmt, ...)
{
	va_list ap;
	struct VSC_smu *retval;

	va_start(ap, fmt);
	retval = VRT_VSC_Alloc(vc, sg, vsc_smu_name, VSC_smu_size,
	    vsc_smu_json, sizeof vsc_smu_json, fmt, ap);
	va_end(ap);
	return(retval);
}

void
VSC_smu_Destroy(struct vsc_seg **sg)
{
	struct vsc_seg *p;

	AN(sg);
	p = *sg;
	*sg = NULL;
	VRT_VSC_Destroy(vsc_smu_name, p);
}
